/*! For license information please see main.e390b322.js.LICENSE.txt */
!function(){var t={2110:function(t,e,n){"use strict";var i=n(8309),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return i.isMemo(t)?o:s[t.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,i){if("string"!==typeof n){if(p){var r=d(n);r&&r!==p&&t(e,r,i)}var o=c(n);h&&(o=o.concat(h(n)));for(var s=l(e),v=l(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!i||!i[g])&&(!v||!v[g])&&(!s||!s[g])){var y=f(n,g);try{u(e,g,y)}catch(w){}}}}return e}},746:function(t,e){"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function x(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case c:case h:case a:case s:case o:case d:return t;default:switch(t=t&&t.$$typeof){case u:case f:case m:case v:case l:return t;default:return e}}case r:return e}}}function A(t){return x(t)===h}e.AsyncMode=c,e.ConcurrentMode=h,e.ContextConsumer=u,e.ContextProvider=l,e.Element=i,e.ForwardRef=f,e.Fragment=a,e.Lazy=m,e.Memo=v,e.Portal=r,e.Profiler=s,e.StrictMode=o,e.Suspense=d,e.isAsyncMode=function(t){return A(t)||x(t)===c},e.isConcurrentMode=A,e.isContextConsumer=function(t){return x(t)===u},e.isContextProvider=function(t){return x(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return x(t)===f},e.isFragment=function(t){return x(t)===a},e.isLazy=function(t){return x(t)===m},e.isMemo=function(t){return x(t)===v},e.isPortal=function(t){return x(t)===r},e.isProfiler=function(t){return x(t)===s},e.isStrictMode=function(t){return x(t)===o},e.isSuspense=function(t){return x(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===h||t===s||t===o||t===d||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===v||t.$$typeof===l||t.$$typeof===u||t.$$typeof===f||t.$$typeof===y||t.$$typeof===w||t.$$typeof===b||t.$$typeof===g)},e.typeOf=x},8309:function(t,e,n){"use strict";t.exports=n(746)},8559:function(t,e){!function(t){"use strict";var e="1.9.4";function n(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++)for(e in r=arguments[n])t[e]=r[e];return t}var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function r(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var a=0;function o(t){return"_leaflet_id"in t||(t._leaflet_id=++a),t._leaflet_id}function s(t,e,n){var i,r,a,o;return o=function(){i=!1,r&&(a.apply(n,r),r=!1)},a=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(o,e),i=!0)},a}function l(t,e,n){var i=e[1],r=e[0],a=i-r;return t===i&&n?t:((t-r)%a+a)%a+r}function u(){return!1}function c(t,e){if(!1===e)return t;var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return h(t).split(/\s+/)}function d(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?i(t.options):{}),e)t.options[n]=e[n];return t.options}function p(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var v=/\{ *([\w_ -]+) *\}/g;function m(t,e){return t.replace(v,(function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"===typeof i&&(i=i(e)),i}))}var g=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function y(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var w="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var x=0;function A(t){var e=+new Date,n=Math.max(0,16-(e-x));return x=e+n,window.setTimeout(t,n)}var _=window.requestAnimationFrame||b("RequestAnimationFrame")||A,k=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function S(t,e,n){if(!n||_!==A)return _.call(window,r(t,e));t.call(e)}function M(t){t&&k.call(window,t)}var E={__proto__:null,extend:n,create:i,bind:r,get lastId(){return a},stamp:o,throttle:s,wrapNum:l,falseFn:u,formatNum:c,trim:h,splitWords:f,setOptions:d,getParamString:p,template:m,isArray:g,indexOf:y,emptyImageUrl:w,requestFn:_,cancelFn:k,requestAnimFrame:S,cancelAnimFrame:M};function C(){}function P(t){if("undefined"!==typeof L&&L&&L.Mixin){t=g(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}C.extend=function(t){var e=function(){d(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=e.__super__=this.prototype,a=i(r);for(var o in a.constructor=e,e.prototype=a,this)Object.prototype.hasOwnProperty.call(this,o)&&"prototype"!==o&&"__super__"!==o&&(e[o]=this[o]);return t.statics&&n(e,t.statics),t.includes&&(P(t.includes),n.apply(null,[a].concat(t.includes))),n(a,t),delete a.statics,delete a.includes,a.options&&(a.options=r.options?i(r.options):{},n(a.options,t.options)),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=a._initHooks.length;t<e;t++)a._initHooks[t].call(this)}},e},C.include=function(t){var e=this.prototype.options;return n(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},C.mergeOptions=function(t){return n(this.prototype.options,t),this},C.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"===typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var T={on:function(t,e,n){if("object"===typeof t)for(var i in t)this._on(i,t[i],e);else for(var r=0,a=(t=f(t)).length;r<a;r++)this._on(t[r],e,n);return this},off:function(t,e,n){if(arguments.length)if("object"===typeof t)for(var i in t)this._off(i,t[i],e);else{t=f(t);for(var r=1===arguments.length,a=0,o=t.length;a<o;a++)r?this._off(t[a]):this._off(t[a],e,n)}else delete this._events;return this},_on:function(t,e,n,i){if("function"===typeof e){if(!1===this._listens(t,e,n)){n===this&&(n=void 0);var r={fn:e,ctx:n};i&&(r.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(r)}}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,n){var i,r,a;if(this._events&&(i=this._events[t]))if(1!==arguments.length)if("function"===typeof e){var o=this._listens(t,e,n);if(!1!==o){var s=i[o];this._firingCount&&(s.fn=u,this._events[t]=i=i.slice()),i.splice(o,1)}}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(r=0,a=i.length;r<a;r++)i[r].fn=u;delete this._events[t]}},fire:function(t,e,i){if(!this.listens(t,i))return this;var r=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var a=this._events[t];if(a){this._firingCount=this._firingCount+1||1;for(var o=0,s=a.length;o<s;o++){var l=a[o],u=l.fn;l.once&&this.off(t,u,l.ctx),u.call(l.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(t,e,n,i){"string"!==typeof t&&console.warn('"string" type argument expected');var r=e;"function"!==typeof e&&(i=!!e,r=void 0,n=void 0);var a=this._events&&this._events[t];if(a&&a.length&&!1!==this._listens(t,r,n))return!0;if(i)for(var o in this._eventParents)if(this._eventParents[o].listens(t,e,n,i))return!0;return!1},_listens:function(t,e,n){if(!this._events)return!1;var i=this._events[t]||[];if(!e)return!!i.length;n===this&&(n=void 0);for(var r=0,a=i.length;r<a;r++)if(i[r].fn===e&&i[r].ctx===n)return r;return!1},once:function(t,e,n){if("object"===typeof t)for(var i in t)this._on(i,t[i],e,!0);else for(var r=0,a=(t=f(t)).length;r<a;r++)this._on(t[r],e,n,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[o(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[o(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};T.addEventListener=T.on,T.removeEventListener=T.clearAllEventListeners=T.off,T.addOneTimeEventListener=T.once,T.fireEvent=T.fire,T.hasEventListeners=T.listens;var O=C.extend(T);function z(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var R=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function D(t,e,n){return t instanceof z?t:g(t)?new z(t[0],t[1]):void 0===t||null===t?t:"object"===typeof t&&"x"in t&&"y"in t?new z(t.x,t.y):new z(t,e,n)}function I(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function B(t,e){return!t||t instanceof I?t:new I(t,e)}function N(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function j(t,e){return t instanceof N?t:new N(t,e)}function F(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function U(t,e,n){return t instanceof F?t:g(t)&&"object"!==typeof t[0]?3===t.length?new F(t[0],t[1],t[2]):2===t.length?new F(t[0],t[1]):null:void 0===t||null===t?t:"object"===typeof t&&"lat"in t?new F(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new F(t,e,n)}z.prototype={clone:function(){return new z(this.x,this.y)},add:function(t){return this.clone()._add(D(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(D(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new z(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new z(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=R(this.x),this.y=R(this.y),this},distanceTo:function(t){var e=(t=D(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=D(t)).x===this.x&&t.y===this.y},contains:function(t){return t=D(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},I.prototype={extend:function(t){var e,n;if(!t)return this;if(t instanceof z||"number"===typeof t[0]||"x"in t)e=n=D(t);else if(e=(t=B(t)).min,n=t.max,!e||!n)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=e.clone(),this.max=n.clone()),this},getCenter:function(t){return D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return D(this.min.x,this.max.y)},getTopRight:function(){return D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"===typeof t[0]||t instanceof z?D(t):B(t))instanceof I?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=B(t);var e=this.min,n=this.max,i=t.min,r=t.max,a=r.x>=e.x&&i.x<=n.x,o=r.y>=e.y&&i.y<=n.y;return a&&o},overlaps:function(t){t=B(t);var e=this.min,n=this.max,i=t.min,r=t.max,a=r.x>e.x&&i.x<n.x,o=r.y>e.y&&i.y<n.y;return a&&o},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,n=this.max,i=Math.abs(e.x-n.x)*t,r=Math.abs(e.y-n.y)*t;return B(D(e.x-i,e.y-r),D(n.x+i,n.y+r))},equals:function(t){return!!t&&(t=B(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},N.prototype={extend:function(t){var e,n,i=this._southWest,r=this._northEast;if(t instanceof F)e=t,n=t;else{if(!(t instanceof N))return t?this.extend(U(t)||j(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||r?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new F(e.lat,e.lng),this._northEast=new F(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new N(new F(e.lat-i,e.lng-r),new F(n.lat+i,n.lng+r))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"===typeof t[0]||t instanceof F||"lat"in t?U(t):j(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof N?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=j(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),a=r.lat>=e.lat&&i.lat<=n.lat,o=r.lng>=e.lng&&i.lng<=n.lng;return a&&o},overlaps:function(t){t=j(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),a=r.lat>e.lat&&i.lat<n.lat,o=r.lng>e.lng&&i.lng<n.lng;return a&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=j(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},F.prototype={equals:function(t,e){return!!t&&(t=U(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+c(this.lat,t)+", "+c(this.lng,t)+")"},distanceTo:function(t){return V.distance(this,U(t))},wrap:function(){return V.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return j([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new F(this.lat,this.lng,this.alt)}};var H={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new I(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?l(t.lng,this.wrapLng,!0):t.lng;return new F(this.wrapLat?l(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(0===i&&0===r)return t;var a=t.getSouthWest(),o=t.getNorthEast();return new N(new F(a.lat-i,a.lng-r),new F(o.lat-i,o.lng-r))}},V=n({},H,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,a=Math.sin((e.lat-t.lat)*n/2),o=Math.sin((e.lng-t.lng)*n/2),s=a*a+Math.cos(i)*Math.cos(r)*o*o,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),G=6378137,W={R:G,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new z(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new F((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=G*Math.PI;return new I([-t,-t],[t,t])}()};function Q(t,e,n,i){if(g(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function X(t,e,n,i){return new Q(t,e,n,i)}Q.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new z((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Y=n({},V,{code:"EPSG:3857",projection:W,transformation:function(){var t=.5/(Math.PI*W.R);return X(t,.5,-t,.5)}()}),J=n({},Y,{code:"EPSG:900913"});function Z(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function q(t,e){var n,i,r,a,o,s,l="";for(n=0,r=t.length;n<r;n++){for(i=0,a=(o=t[n]).length;i<a;i++)l+=(i?"L":"M")+(s=o[i]).x+" "+s.y;l+=e?It.svg?"z":"x":""}return l||"M0 0"}var K=document.documentElement.style,$="ActiveXObject"in window,tt=$&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),nt=Dt("webkit"),it=Dt("android"),rt=Dt("android 2")||Dt("android 3"),at=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ot=it&&Dt("Google")&&at<537&&!("AudioNode"in window),st=!!window.opera,lt=!et&&Dt("chrome"),ut=Dt("gecko")&&!nt&&!st&&!$,ct=!lt&&Dt("safari"),ht=Dt("phantom"),ft="OTransition"in K,dt=0===navigator.platform.indexOf("Win"),pt=$&&"transition"in K,vt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rt,mt="MozPerspective"in K,gt=!window.L_DISABLE_3D&&(pt||vt||mt)&&!ft&&!ht,yt="undefined"!==typeof orientation||Dt("mobile"),wt=yt&&nt,bt=yt&&vt,xt=!window.PointerEvent&&window.MSPointerEvent,At=!(!window.PointerEvent&&!xt),_t="ontouchstart"in window||!!window.TouchEvent,kt=!window.L_NO_TOUCH&&(_t||At),St=yt&&st,Mt=yt&&ut,Et=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ct=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",u,e),window.removeEventListener("testPassiveEventSupport",u,e)}catch(n){}return t}(),Pt=!!document.createElement("canvas").getContext,Tt=!(!document.createElementNS||!Z("svg").createSVGRect),Lt=!!Tt&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI)}(),Ot=!Tt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===typeof e.adj}catch(n){return!1}}(),zt=0===navigator.platform.indexOf("Mac"),Rt=0===navigator.platform.indexOf("Linux");function Dt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var It={ie:$,ielt9:tt,edge:et,webkit:nt,android:it,android23:rt,androidStock:ot,opera:st,chrome:lt,gecko:ut,safari:ct,phantom:ht,opera12:ft,win:dt,ie3d:pt,webkit3d:vt,gecko3d:mt,any3d:gt,mobile:yt,mobileWebkit:wt,mobileWebkit3d:bt,msPointer:xt,pointer:At,touch:kt,touchNative:_t,mobileOpera:St,mobileGecko:Mt,retina:Et,passiveEvents:Ct,canvas:Pt,svg:Tt,vml:Ot,inlineSvg:Lt,mac:zt,linux:Rt},Bt=It.msPointer?"MSPointerDown":"pointerdown",Nt=It.msPointer?"MSPointerMove":"pointermove",jt=It.msPointer?"MSPointerUp":"pointerup",Ft=It.msPointer?"MSPointerCancel":"pointercancel",Ut={touchstart:Bt,touchmove:Nt,touchend:jt,touchcancel:Ft},Ht={touchstart:Kt,touchmove:qt,touchend:qt,touchcancel:qt},Vt={},Gt=!1;function Wt(t,e,n){return"touchstart"===e&&Zt(),Ht[e]?(n=Ht[e].bind(this,n),t.addEventListener(Ut[e],n,!1),n):(console.warn("wrong event specified:",e),u)}function Qt(t,e,n){Ut[e]?t.removeEventListener(Ut[e],n,!1):console.warn("wrong event specified:",e)}function Xt(t){Vt[t.pointerId]=t}function Yt(t){Vt[t.pointerId]&&(Vt[t.pointerId]=t)}function Jt(t){delete Vt[t.pointerId]}function Zt(){Gt||(document.addEventListener(Bt,Xt,!0),document.addEventListener(Nt,Yt,!0),document.addEventListener(jt,Jt,!0),document.addEventListener(Ft,Jt,!0),Gt=!0)}function qt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in e.touches=[],Vt)e.touches.push(Vt[n]);e.changedTouches=[e],t(e)}}function Kt(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Xe(e),qt(t,e)}function $t(t){var e,n,i={};for(n in t)e=t[n],i[n]=e&&e.bind?e.bind(t):e;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var te=200;function ee(t,e){t.addEventListener("dblclick",e);var n,i=0;function r(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var r=Je(t);if(!r.some((function(t){return t instanceof HTMLLabelElement&&t.attributes.for}))||r.some((function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement}))){var a=Date.now();a-i<=te?2===++n&&e($t(t)):n=1,i=a}}}else n=t.detail}return t.addEventListener("click",r),{dblclick:e,simDblclick:r}}function ne(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var ie,re,ae,oe,se,le=Se(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ue=Se(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ce="webkitTransition"===ue||"OTransition"===ue?ue+"End":"transitionend";function he(t){return"string"===typeof t?document.getElementById(t):t}function fe(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function de(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function pe(t){var e=t.parentNode;e&&e.removeChild(t)}function ve(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function me(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ge(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ye(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=Ae(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function we(t,e){if(void 0!==t.classList)for(var n=f(e),i=0,r=n.length;i<r;i++)t.classList.add(n[i]);else if(!ye(t,e)){var a=Ae(t);xe(t,(a?a+" ":"")+e)}}function be(t,e){void 0!==t.classList?t.classList.remove(e):xe(t,h((" "+Ae(t)+" ").replace(" "+e+" "," ")))}function xe(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function Ae(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function _e(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&ke(t,e)}function ke(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(r){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}function Se(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function Me(t,e,n){var i=e||new z(0,0);t.style[le]=(It.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function Ee(t,e){t._leaflet_pos=e,It.any3d?Me(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Ce(t){return t._leaflet_pos||new z(0,0)}if("onselectstart"in document)ie=function(){Be(window,"selectstart",Xe)},re=function(){je(window,"selectstart",Xe)};else{var Pe=Se(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ie=function(){if(Pe){var t=document.documentElement.style;ae=t[Pe],t[Pe]="none"}},re=function(){Pe&&(document.documentElement.style[Pe]=ae,ae=void 0)}}function Te(){Be(window,"dragstart",Xe)}function Le(){je(window,"dragstart",Xe)}function Oe(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(ze(),oe=t,se=t.style.outlineStyle,t.style.outlineStyle="none",Be(window,"keydown",ze))}function ze(){oe&&(oe.style.outlineStyle=se,oe=void 0,se=void 0,je(window,"keydown",ze))}function Re(t){do{t=t.parentNode}while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function De(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Ie={__proto__:null,TRANSFORM:le,TRANSITION:ue,TRANSITION_END:ce,get:he,getStyle:fe,create:de,remove:pe,empty:ve,toFront:me,toBack:ge,hasClass:ye,addClass:we,removeClass:be,setClass:xe,getClass:Ae,setOpacity:_e,testProp:Se,setTransform:Me,setPosition:Ee,getPosition:Ce,get disableTextSelection(){return ie},get enableTextSelection(){return re},disableImageDrag:Te,enableImageDrag:Le,preventOutline:Oe,restoreOutline:ze,getSizedParentNode:Re,getScale:De};function Be(t,e,n,i){if(e&&"object"===typeof e)for(var r in e)He(t,r,e[r],n);else for(var a=0,o=(e=f(e)).length;a<o;a++)He(t,e[a],n,i);return this}var Ne="_leaflet_events";function je(t,e,n,i){if(1===arguments.length)Fe(t),delete t[Ne];else if(e&&"object"===typeof e)for(var r in e)Ve(t,r,e[r],n);else if(e=f(e),2===arguments.length)Fe(t,(function(t){return-1!==y(e,t)}));else for(var a=0,o=e.length;a<o;a++)Ve(t,e[a],n,i);return this}function Fe(t,e){for(var n in t[Ne]){var i=n.split(/\d/)[0];e&&!e(i)||Ve(t,i,null,null,n)}}var Ue={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function He(t,e,n,i){var r=e+o(n)+(i?"_"+o(i):"");if(t[Ne]&&t[Ne][r])return this;var a=function(e){return n.call(i||t,e||window.event)},s=a;!It.touchNative&&It.pointer&&0===e.indexOf("touch")?a=Wt(t,e,a):It.touch&&"dblclick"===e?a=ee(t,a):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(Ue[e]||e,a,!!It.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(a=function(e){e=e||window.event,$e(t,e)&&s(e)},t.addEventListener(Ue[e],a,!1)):t.addEventListener(e,s,!1):t.attachEvent("on"+e,a),t[Ne]=t[Ne]||{},t[Ne][r]=a}function Ve(t,e,n,i,r){r=r||e+o(n)+(i?"_"+o(i):"");var a=t[Ne]&&t[Ne][r];if(!a)return this;!It.touchNative&&It.pointer&&0===e.indexOf("touch")?Qt(t,e,a):It.touch&&"dblclick"===e?ne(t,a):"removeEventListener"in t?t.removeEventListener(Ue[e]||e,a,!1):t.detachEvent("on"+e,a),t[Ne][r]=null}function Ge(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function We(t){return He(t,"wheel",Ge),this}function Qe(t){return Be(t,"mousedown touchstart dblclick contextmenu",Ge),t._leaflet_disable_click=!0,this}function Xe(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ye(t){return Xe(t),Ge(t),this}function Je(t){if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;)e.push(n),n=n.parentNode;return e}function Ze(t,e){if(!e)return new z(t.clientX,t.clientY);var n=De(e),i=n.boundingClientRect;return new z((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var qe=It.linux&&It.chrome?window.devicePixelRatio:It.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ke(t){return It.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/qe:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function $e(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(i){return!1}return n!==t}var tn={__proto__:null,on:Be,off:je,stopPropagation:Ge,disableScrollPropagation:We,disableClickPropagation:Qe,preventDefault:Xe,stop:Ye,getPropagationPath:Je,getMousePosition:Ze,getWheelDelta:Ke,isExternalTarget:$e,addListener:Be,removeListener:je},en=O.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=Ce(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=S(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),Ee(this._el,n),this.fire("step")},_complete:function(){M(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),nn=O.extend({options:{crs:Y,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=d(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(U(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ue&&It.any3d&&!It.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Be(this._proxy,ce,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(U(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e,i.pan&&i.pan.noMoveStart),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(It.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(It.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),a=(t instanceof z?t:this.latLngToContainerPoint(t)).subtract(r).multiplyBy(1-1/i),o=this.containerPointToLatLng(r.add(a));return this.setView(o,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():j(t);var n=D(e.paddingTopLeft||e.padding||[0,0]),i=D(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));if((r="number"===typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var a=i.subtract(n).divideBy(2),o=this.project(t.getSouthWest(),r),s=this.project(t.getNorthEast(),r);return{center:this.unproject(o.add(s).divideBy(2).add(a),r),zoom:r}},fitBounds:function(t,e){if(!(t=j(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=D(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new en,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){we(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!It.any3d)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),r=this.project(t),a=this.getSize(),o=this._zoom;t=U(t),e=void 0===e?o:e;var s=Math.max(a.x,a.y),l=s*this.getZoomScale(o,e),u=r.distanceTo(i)||1,c=1.42,h=c*c;function f(t){var e=(l*l-s*s+(t?-1:1)*h*h*u*u)/(2*(t?l:s)*h*u),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function d(t){return(Math.exp(t)-Math.exp(-t))/2}function p(t){return(Math.exp(t)+Math.exp(-t))/2}function v(t){return d(t)/p(t)}var m=f(0);function g(t){return s*(p(m)/p(m+c*t))}function y(t){return s*(p(m)*v(m+c*t)-d(m))/h}function w(t){return 1-Math.pow(1-t,1.5)}var b=Date.now(),x=(f(1)-m)/c,A=n.duration?1e3*n.duration:1e3*x*.8;function _(){var n=(Date.now()-b)/A,a=w(n)*x;n<=1?(this._flyToFrame=S(_,this),this._move(this.unproject(i.add(r.subtract(i).multiplyBy(y(a)/u)),o),this.getScaleZoom(s/g(a),o),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),_.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=j(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,j(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=D((e=e||{}).paddingTopLeft||e.padding||[0,0]),i=D(e.paddingBottomRight||e.padding||[0,0]),r=this.project(this.getCenter()),a=this.project(t),o=this.getPixelBounds(),s=B([o.min.add(n),o.max.subtract(i)]),l=s.getSize();if(!s.contains(a)){this._enforcingBounds=!0;var u=a.subtract(s.getCenter()),c=s.extend(a).getSize().subtract(l);r.x+=u.x<0?-c.x:c.x,r.y+=u.y<0?-c.y:c.y,this.panTo(this.unproject(r),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),a=e.divideBy(2).round(),o=i.divideBy(2).round(),s=a.subtract(o);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r(this._handleGeolocationResponse,this),i=r(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=new F(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),i=this._locateOptions;if(i.setView){var r=this.getBoundsZoom(n);this.setView(e,i.maxZoom?Math.min(r,i.maxZoom):r)}var a={latlng:e,bounds:n,timestamp:t.timestamp};for(var o in t.coords)"number"===typeof t.coords[o]&&(a[o]=t.coords[o]);this.fire("locationfound",a)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),pe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(M(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)pe(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=de("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new N(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=j(t),n=D(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),a=this.getMaxZoom(),o=t.getNorthWest(),s=t.getSouthEast(),l=this.getSize().subtract(n),u=B(this.project(s,i),this.project(o,i)).getSize(),c=It.any3d?this.options.zoomSnap:1,h=l.x/u.x,f=l.y/u.y,d=e?Math.max(h,f):Math.min(h,f);return i=this.getScaleZoom(d,i),c&&(i=Math.round(i/(c/100))*(c/100),i=e?Math.ceil(i/c)*c:Math.floor(i/c)*c),Math.max(r,Math.min(a,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new I(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"===typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(U(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(D(t),e)},layerPointToLatLng:function(t){var e=D(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(U(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(U(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(j(t))},distance:function(t,e){return this.options.crs.distance(U(t),U(e))},containerPointToLayerPoint:function(t){return D(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return D(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(D(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(t)))},mouseEventToContainerPoint:function(t){return Ze(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=he(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Be(e,"scroll",this._onScroll,this),this._containerId=o(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&It.any3d,we(t,"leaflet-container"+(It.touch?" leaflet-touch":"")+(It.retina?" leaflet-retina":"")+(It.ielt9?" leaflet-oldie":"")+(It.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=fe(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ee(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(we(t.markerPane,"leaflet-zoom-hide"),we(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,n){Ee(this._mapPane,new z(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var r=this._zoom!==e;this._moveStart(r,n)._move(t,e)._moveEnd(r),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,i){void 0===e&&(e=this._zoom);var r=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),i?n&&n.pinch&&this.fire("zoom",n):((r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return M(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Ee(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[o(this._container)]=this;var e=t?je:Be;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),It.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){M(this._resizeRequest),this._resizeRequest=S((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],r="mouseout"===e||"mouseover"===e,a=t.target||t.srcElement,s=!1;a;){if((n=this._targets[o(a)])&&("click"===e||"preclick"===e)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(r&&!$e(a,t))break;if(i.push(n),r)break}if(a===this._container)break;a=a.parentNode}return i.length||s||r||!this.listens(e,!0)||(i=[this]),i},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var n=t.type;"mousedown"===n&&Oe(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if("click"===t.type){var r=n({},t);r.type="preclick",this._fireDOMEvent(r,r.type,i)}var a=this._findEventTargets(t,e);if(i){for(var o=[],s=0;s<i.length;s++)i[s].listens(e,!0)&&o.push(i[s]);a=o.concat(a)}if(a.length){"contextmenu"===e&&Xe(t);var l=a[0],u={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var c=l.getLatLng&&(!l._radius||l._radius<=10);u.containerPoint=c?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(t),u.layerPoint=this.containerPointToLayerPoint(u.containerPoint),u.latlng=c?l.getLatLng():this.layerPointToLatLng(u.layerPoint)}for(s=0;s<a.length;s++)if(a[s].fire(e,u,!0),u.originalEvent._stopped||!1===a[s].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Ce(this._mapPane)||new z(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return B([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),a=new I(i.subtract(r),i.add(r)),o=this._getBoundsOffset(a,n,e);return Math.abs(o.x)<=1&&Math.abs(o.y)<=1?t:this.unproject(i.add(o),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new I(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=B(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),a=i.max.subtract(t.max);return new z(this._rebound(r.x,-a.x),this._rebound(r.y,-a.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=It.any3d?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){be(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=de("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=le,n=this._proxy.style[e];Me(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Me(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r))&&(S((function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(t,e,!0)}),this),!0)},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,we(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&be(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(t,e){return new nn(t,e)}var an=C.extend({options:{position:"topright"},initialize:function(t){d(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return we(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),on=function(t){return new an(t)};nn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=de("div",e+"control-container",this._container);function i(i,r){var a=e+i+" "+e+r;t[i+r]=de("div",a,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)pe(this._controlCorners[t]);pe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sn=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in d(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return an.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(o(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){we(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(we(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):be(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return be(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=de("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Qe(e),We(e);var i=this._section=de("section",t+"-list");n&&(this._map.on("click",this.collapse,this),Be(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var r=this._layersLink=de("a",t+"-toggle",e);r.href="#",r.title="Layers",r.setAttribute("role","button"),Be(r,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){Xe(t),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=de("div",t+"-base",i),this._separator=de("div",t+"-separator",i),this._overlaysList=de("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&o(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(r((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ve(this._baseLayersList),ve(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(o(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+o(this),i),this._layerControlInputs.push(e),e.layerId=o(t.layer),Be(e,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var a=document.createElement("span");return n.appendChild(a),a.appendChild(e),a.appendChild(r),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var t,e,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var a=n.length-1;a>=0;a--)t=n[a],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||r.push(e);for(a=0;a<r.length;a++)this._map.hasLayer(r[a])&&this._map.removeLayer(r[a]);for(a=0;a<i.length;a++)this._map.hasLayer(i[a])||this._map.addLayer(i[a]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Be(t,"click",Xe),this.expand();var e=this;setTimeout((function(){je(t,"click",Xe),e._preventClick=!1}))}}),ln=function(t,e,n){return new sn(t,e,n)},un=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=de("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,r){var a=de("a",n,i);return a.innerHTML=t,a.href="#",a.title=e,a.setAttribute("role","button"),a.setAttribute("aria-label",e),Qe(a),Be(a,"click",Ye),Be(a,"click",r,this),Be(a,"click",this._refocusOnMap,this),a},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";be(this._zoomInButton,e),be(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(we(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(we(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new un,this.addControl(this.zoomControl))}));var cn=function(t){return new un(t)},hn=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=de("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=de("div",e,n)),t.imperial&&(this._iScale=de("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,r=3.2808399*t;r>5280?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),fn=function(t){return new hn(t)},dn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',pn=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(It.inlineSvg?dn+" ":"")+"Leaflet</a>"},initialize:function(t){d(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=de("div","leaflet-control-attribution"),Qe(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",(function(){this.removeAttribution(t.layer.getAttribution())}),this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook((function(){this.options.attributionControl&&(new pn).addTo(this)}));var vn=function(t){return new pn(t)};an.Layers=sn,an.Zoom=un,an.Scale=hn,an.Attribution=pn,on.layers=ln,on.zoom=cn,on.scale=fn,on.attribution=vn;var mn=C.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});mn.addTo=function(t,e){return t.addHandler(e,this),this};var gn={Events:T},yn=It.touch?"touchstart mousedown":"mousedown",wn=O.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){d(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Be(this._dragStartTarget,yn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wn._dragging===this&&this.finishDrag(!0),je(this._dragStartTarget,yn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!ye(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)wn._dragging===this&&this.finishDrag();else if(!(wn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&(wn._dragging=this,this._preventOutline&&Oe(this._element),Te(),ie(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,n=Re(this._element);this._startPoint=new z(e.clientX,e.clientY),this._startPos=Ce(this._element),this._parentScale=De(n);var i="mousedown"===t.type;Be(document,i?"mousemove":"touchmove",this._onMove,this),Be(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new z(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Xe(t),this._moved||(this.fire("dragstart"),this._moved=!0,we(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),we(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Ee(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){be(document.body,"leaflet-dragging"),this._lastTarget&&(be(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),je(document,"mousemove touchmove",this._onMove,this),je(document,"mouseup touchend touchcancel",this._onUp,this),Le(),re();var e=this._moved&&this._moving;this._moving=!1,wn._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function bn(t,e,n){var i,r,a,o,s,l,u,c,h,f=[1,4,2,8];for(r=0,u=t.length;r<u;r++)t[r]._code=zn(t[r],e);for(o=0;o<4;o++){for(c=f[o],i=[],r=0,a=(u=t.length)-1;r<u;a=r++)s=t[r],l=t[a],s._code&c?l._code&c||((h=On(l,s,c,e,n))._code=zn(h,e),i.push(h)):(l._code&c&&((h=On(l,s,c,e,n))._code=zn(h,e),i.push(h)),i.push(s));t=i}return t}function xn(t,e){var n,i,r,a,o,s,l,u,c;if(!t||0===t.length)throw new Error("latlngs not passed");In(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var h=U([0,0]),f=j(t);f.getNorthWest().distanceTo(f.getSouthWest())*f.getNorthEast().distanceTo(f.getNorthWest())<1700&&(h=An(t));var d=t.length,p=[];for(n=0;n<d;n++){var v=U(t[n]);p.push(e.project(U([v.lat-h.lat,v.lng-h.lng])))}for(s=l=u=0,n=0,i=d-1;n<d;i=n++)r=p[n],a=p[i],o=r.y*a.x-a.y*r.x,l+=(r.x+a.x)*o,u+=(r.y+a.y)*o,s+=3*o;c=0===s?p[0]:[l/s,u/s];var m=e.unproject(D(c));return U([m.lat+h.lat,m.lng+h.lng])}function An(t){for(var e=0,n=0,i=0,r=0;r<t.length;r++){var a=U(t[r]);e+=a.lat,n+=a.lng,i++}return U([e/i,n/i])}var _n,kn={__proto__:null,clipPolygon:bn,polygonCenter:xn,centroid:An};function Sn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=Cn(t=Tn(t,n),n)}function Mn(t,e,n){return Math.sqrt(Dn(t,e,n,!0))}function En(t,e,n){return Dn(t,e,n)}function Cn(t,e){var n=t.length,i=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,Pn(t,i,e,0,n-1);var r,a=[];for(r=0;r<n;r++)i[r]&&a.push(t[r]);return a}function Pn(t,e,n,i,r){var a,o,s,l=0;for(o=i+1;o<=r-1;o++)(s=Dn(t[o],t[i],t[r],!0))>l&&(a=o,l=s);l>n&&(e[a]=1,Pn(t,e,n,i,a),Pn(t,e,n,a,r))}function Tn(t,e){for(var n=[t[0]],i=1,r=0,a=t.length;i<a;i++)Rn(t[i],t[r])>e&&(n.push(t[i]),r=i);return r<a-1&&n.push(t[a-1]),n}function Ln(t,e,n,i,r){var a,o,s,l=i?_n:zn(t,n),u=zn(e,n);for(_n=u;;){if(!(l|u))return[t,e];if(l&u)return!1;s=zn(o=On(t,e,a=l||u,n,r),n),a===l?(t=o,l=s):(e=o,u=s)}}function On(t,e,n,i,r){var a,o,s=e.x-t.x,l=e.y-t.y,u=i.min,c=i.max;return 8&n?(a=t.x+s*(c.y-t.y)/l,o=c.y):4&n?(a=t.x+s*(u.y-t.y)/l,o=u.y):2&n?(a=c.x,o=t.y+l*(c.x-t.x)/s):1&n&&(a=u.x,o=t.y+l*(u.x-t.x)/s),new z(a,o,r)}function zn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function Rn(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function Dn(t,e,n,i){var r,a=e.x,o=e.y,s=n.x-a,l=n.y-o,u=s*s+l*l;return u>0&&((r=((t.x-a)*s+(t.y-o)*l)/u)>1?(a=n.x,o=n.y):r>0&&(a+=s*r,o+=l*r)),s=t.x-a,l=t.y-o,i?s*s+l*l:new z(a,o)}function In(t){return!g(t[0])||"object"!==typeof t[0][0]&&"undefined"!==typeof t[0][0]}function Bn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),In(t)}function Nn(t,e){var n,i,r,a,o,s,l,u;if(!t||0===t.length)throw new Error("latlngs not passed");In(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var c=U([0,0]),h=j(t);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(c=An(t));var f=t.length,d=[];for(n=0;n<f;n++){var p=U(t[n]);d.push(e.project(U([p.lat-c.lat,p.lng-c.lng])))}for(n=0,i=0;n<f-1;n++)i+=d[n].distanceTo(d[n+1])/2;if(0===i)u=d[0];else for(n=0,a=0;n<f-1;n++)if(o=d[n],s=d[n+1],(a+=r=o.distanceTo(s))>i){l=(a-i)/r,u=[s.x-l*(s.x-o.x),s.y-l*(s.y-o.y)];break}var v=e.unproject(D(u));return U([v.lat+c.lat,v.lng+c.lng])}var jn={__proto__:null,simplify:Sn,pointToSegmentDistance:Mn,closestPointOnSegment:En,clipSegment:Ln,_getEdgeIntersection:On,_getBitCode:zn,_sqClosestPointOnSegment:Dn,isFlat:In,_flat:Bn,polylineCenter:Nn},Fn={project:function(t){return new z(t.lng,t.lat)},unproject:function(t){return new F(t.y,t.x)},bounds:new I([-180,-90],[180,90])},Un={R:6378137,R_MINOR:6356752.314245179,bounds:new I([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,a=Math.sqrt(1-r*r),o=a*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-o)/(1+o),a/2);return i=-n*Math.log(Math.max(s,1e-10)),new z(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,a=Math.sqrt(1-r*r),o=Math.exp(-t.y/i),s=Math.PI/2-2*Math.atan(o),l=0,u=.1;l<15&&Math.abs(u)>1e-7;l++)e=a*Math.sin(s),e=Math.pow((1-e)/(1+e),a/2),s+=u=Math.PI/2-2*Math.atan(o*e)-s;return new F(s*n,t.x*n/i)}},Hn={__proto__:null,LonLat:Fn,Mercator:Un,SphericalMercator:W},Vn=n({},V,{code:"EPSG:3395",projection:Un,transformation:function(){var t=.5/(Math.PI*Un.R);return X(t,.5,-t,.5)}()}),Gn=n({},V,{code:"EPSG:4326",projection:Fn,transformation:X(1/180,1,-1/180,.5)}),Wn=n({},H,{projection:Fn,transformation:X(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});H.Earth=V,H.EPSG3395=Vn,H.EPSG3857=Y,H.EPSG900913=J,H.EPSG4326=Gn,H.Simple=Wn;var Qn=O.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[o(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[o(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=o(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=o(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return o(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?g(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[o(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=o(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xn=Qn.extend({initialize:function(t,e){var n,i;if(d(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"===typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return o(t)}}),Yn=function(t,e){return new Xn(t,e)},Jn=Xn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Xn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Xn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new N;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Zn=function(t,e){return new Jn(t,e)},qn=C.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){d(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"===typeof i&&(i=[i,i]);var r=D(i),a=D("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),a&&(t.style.marginLeft=-a.x+"px",t.style.marginTop=-a.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return It.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Kn(t){return new qn(t)}var $n=qn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!==typeof $n.imagePath&&($n.imagePath=this._detectIconPath()),(this.options.imagePath||$n.imagePath)+qn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,n){var i=e.exec(t);return i&&i[n]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=de("div","leaflet-default-icon-path",document.body),e=fe(t,"background-image")||fe(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),ti=mn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new wn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),we(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&be(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,a=Ce(e._icon),o=n.getPixelBounds(),s=n.getPixelOrigin(),l=B(o.min._subtract(s).add(r),o.max._subtract(s).subtract(r));if(!l.contains(a)){var u=D((Math.max(l.max.x,a.x)-l.max.x)/(o.max.x-l.max.x)-(Math.min(l.min.x,a.x)-l.min.x)/(o.min.x-l.min.x),(Math.max(l.max.y,a.y)-l.max.y)/(o.max.y-l.max.y)-(Math.min(l.min.y,a.y)-l.min.y)/(o.min.y-l.min.y)).multiplyBy(i);n.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),Ee(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=S(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(M(this._panRequest),this._panRequest=S(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=Ce(e._icon),r=e._map.layerPointToLatLng(i);n&&Ee(n,i),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){M(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),ei=Qn.extend({options:{icon:new $n,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){d(this,e),this._latlng=U(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=U(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),we(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Be(n,"focus",this._panOnFocus,this);var r=t.icon.createShadow(this._shadow),a=!1;r!==this._shadow&&(this._removeShadow(),a=!0),r&&(we(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&a&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&je(this._icon,"focus",this._panOnFocus,this),pe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pe(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Ee(this._icon,t),this._shadow&&Ee(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(we(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ti)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ti(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&_e(this._icon,t),this._shadow&&_e(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?D(e.iconSize):D(0,0),i=e.iconAnchor?D(e.iconAnchor):D(0,0);t.panInside(this._latlng,{paddingTopLeft:i,paddingBottomRight:n.subtract(i)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ni(t,e){return new ei(t,e)}var ii=Qn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return d(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ri=ii.extend({options:{fill:!0,radius:10},initialize:function(t,e){d(this,e),this._latlng=U(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=U(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return ii.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new I(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ai(t,e){return new ri(t,e)}var oi=ri.extend({initialize:function(t,e,i){if("number"===typeof e&&(e=n({},i,{radius:e})),d(this,e),this._latlng=U(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new N(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ii.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===V.distance){var r=Math.PI/180,a=this._mRadius/V.R/r,o=n.project([e+a,t]),s=n.project([e-a,t]),l=o.add(s).divideBy(2),u=n.unproject(l).lat,c=Math.acos((Math.cos(a*r)-Math.sin(e*r)*Math.sin(u*r))/(Math.cos(e*r)*Math.cos(u*r)))/r;(isNaN(c)||0===c)&&(c=a/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:l.x-n.project([u,t-c]).x,this._radiusY=l.y-o.y}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});function si(t,e,n){return new oi(t,e,n)}var li=ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){d(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,r=null,a=Dn,o=0,s=this._parts.length;o<s;o++)for(var l=this._parts[o],u=1,c=l.length;u<c;u++){var h=a(t,e=l[u-1],n=l[u],!0);h<i&&(i=h,r=a(t,e,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Nn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=U(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new N,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return In(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=In(t),i=0,r=t.length;i<r;i++)n?(e[i]=U(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new I;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new z(t,t);this._rawPxBounds&&(this._pxBounds=new I([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var i,r,a=t[0]instanceof F,o=t.length;if(a){for(r=[],i=0;i<o;i++)r[i]=this._map.latLngToLayerPoint(t[i]),n.extend(r[i]);e.push(r)}else for(i=0;i<o;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,r,a,o,s,l=this._parts;for(e=0,i=0,r=this._rings.length;e<r;e++)for(n=0,a=(s=this._rings[e]).length;n<a-1;n++)(o=Ln(s[n],s[n+1],t,n,!0))&&(l[i]=l[i]||[],l[i].push(o[0]),o[1]===s[n+1]&&n!==a-2||(l[i].push(o[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=Sn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,r,a,o,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,a=this._parts.length;n<a;n++)for(i=0,r=(o=(s=this._parts[n]).length)-1;i<o;r=i++)if((e||0!==i)&&Mn(t,s[r],s[i])<=l)return!0;return!1}});function ui(t,e){return new li(t,e)}li._flat=Bn;var ci=li.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=li.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof F&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){li.prototype._setLatLngs.call(this,t),In(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return In(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new z(e,e);if(t=new I(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,a=this._rings.length;r<a;r++)(i=bn(this._rings[r],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,r,a,o,s,l,u=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,s=this._parts.length;r<s;r++)for(a=0,o=(l=(e=this._parts[r]).length)-1;a<l;o=a++)n=e[a],i=e[o],n.y>t.y!==i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(u=!u);return u||li.prototype._containsPoint.call(this,t,!0)}});function hi(t,e){return new ci(t,e)}var fi=Jn.extend({initialize:function(t,e){d(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=g(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)((i=r[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var a=this.options;if(a.filter&&!a.filter(t))return this;var o=di(t,a);return o?(o.feature=bi(t),o.defaultOptions=o.options,this.resetStyle(o),a.onEachFeature&&a.onEachFeature(t,o),this.addLayer(o)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"===typeof e&&(e=e(t.feature)),t.setStyle(e))}});function di(t,e){var n,i,r,a,o="Feature"===t.type?t.geometry:t,s=o?o.coordinates:null,l=[],u=e&&e.pointToLayer,c=e&&e.coordsToLatLng||vi;if(!s&&!o)return null;switch(o.type){case"Point":return pi(u,t,n=c(s),e);case"MultiPoint":for(r=0,a=s.length;r<a;r++)n=c(s[r]),l.push(pi(u,t,n,e));return new Jn(l);case"LineString":case"MultiLineString":return i=mi(s,"LineString"===o.type?0:1,c),new li(i,e);case"Polygon":case"MultiPolygon":return i=mi(s,"Polygon"===o.type?1:2,c),new ci(i,e);case"GeometryCollection":for(r=0,a=o.geometries.length;r<a;r++){var h=di({geometry:o.geometries[r],type:"Feature",properties:t.properties},e);h&&l.push(h)}return new Jn(l);case"FeatureCollection":for(r=0,a=o.features.length;r<a;r++){var f=di(o.features[r],e);f&&l.push(f)}return new Jn(l);default:throw new Error("Invalid GeoJSON object.")}}function pi(t,e,n,i){return t?t(e,n):new ei(n,i&&i.markersInheritOptions&&i)}function vi(t){return new F(t[1],t[0],t[2])}function mi(t,e,n){for(var i,r=[],a=0,o=t.length;a<o;a++)i=e?mi(t[a],e-1,n):(n||vi)(t[a]),r.push(i);return r}function gi(t,e){return void 0!==(t=U(t)).alt?[c(t.lng,e),c(t.lat,e),c(t.alt,e)]:[c(t.lng,e),c(t.lat,e)]}function yi(t,e,n,i){for(var r=[],a=0,o=t.length;a<o;a++)r.push(e?yi(t[a],In(t[a])?0:e-1,n,i):gi(t[a],i));return!e&&n&&r.length>0&&r.push(r[0].slice()),r}function wi(t,e){return t.feature?n({},t.feature,{geometry:e}):bi(e)}function bi(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var xi={toGeoJSON:function(t){return wi(this,{type:"Point",coordinates:gi(this.getLatLng(),t)})}};function Ai(t,e){return new fi(t,e)}ei.include(xi),oi.include(xi),ri.include(xi),li.include({toGeoJSON:function(t){var e=!In(this._latlngs);return wi(this,{type:(e?"Multi":"")+"LineString",coordinates:yi(this._latlngs,e?1:0,!1,t)})}}),ci.include({toGeoJSON:function(t){var e=!In(this._latlngs),n=e&&!In(this._latlngs[0]),i=yi(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),wi(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Xn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),wi(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer((function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(n)i.push(r.geometry);else{var a=bi(r);"FeatureCollection"===a.type?i.push.apply(i,a.features):i.push(a)}}})),n?wi(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var _i=Ai,ki=Qn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=j(e),d(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(we(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&me(this._image),this},bringToBack:function(){return this._map&&ge(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=j(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:de("img");we(e,"leaflet-image-layer"),this._zoomAnimated&&we(e,"leaflet-zoom-animated"),this.options.className&&we(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onload=r(this.fire,this,"load"),e.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Me(this._image,n,e)},_reset:function(){var t=this._image,e=new I(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Ee(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){_e(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Si=function(t,e,n){return new ki(t,e,n)},Mi=ki.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:de("video");if(we(e,"leaflet-image-layer"),this._zoomAnimated&&we(e,"leaflet-zoom-animated"),this.options.className&&we(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onloadeddata=r(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],a=0;a<n.length;a++)i.push(n[a].src);this._url=n.length>0?i:[e.src]}else{g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var o=0;o<this._url.length;o++){var s=de("source");s.src=this._url[o],e.appendChild(s)}}}});function Ei(t,e,n){return new Mi(t,e,n)}var Ci=ki.extend({_initImage:function(){var t=this._image=this._url;we(t,"leaflet-image-layer"),this._zoomAnimated&&we(t,"leaflet-zoom-animated"),this.options.className&&we(t,this.options.className),t.onselectstart=u,t.onmousemove=u}});function Pi(t,e,n){return new Ci(t,e,n)}var Ti=Qn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof F||g(t))?(this._latlng=U(t),d(this,e)):(d(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&_e(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&_e(this._container,1),this.bringToFront(),this.options.interactive&&(we(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(_e(this._container,0),this._removeTimeout=setTimeout(r(pe,void 0,this._container),200)):pe(this._container),this.options.interactive&&(be(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=U(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&me(this._container),this},bringToBack:function(){return this._map&&ge(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof Jn){e=null;var n=this._source._layers;for(var i in n)if(n[i]._map){e=n[i];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=D(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ee(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(t,e,n,i){var r=e;return r instanceof t||(r=new t(i).setContent(e)),n&&r.setLatLng(n),r}}),Qn.include({_initOverlay:function(t,e,n,i){var r=n;return r instanceof t?(d(r,i),r._source=this):(r=e&&!i?e:new t(i,this)).setContent(n),r}});var Li=Ti.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Ti.prototype.openOn.call(this,t)},onAdd:function(t){Ti.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ii||this._source.on("preclick",Ge))},onRemove:function(t){Ti.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ii||this._source.off("preclick",Ge))},getEvents:function(){var t=Ti.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=de("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=de("div",t+"-content-wrapper",e);if(this._contentNode=de("div",t+"-content",n),Qe(e),We(this._contentNode),Be(e,"contextmenu",Ge),this._tipContainer=de("div",t+"-tip-container",e),this._tip=de("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=de("a",t+"-close-button",e);i.setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',Be(i,"click",(function(t){Xe(t),this.close()}),this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight,a="leaflet-popup-scrolled";r&&i>r?(e.height=r+"px",we(t,a)):be(t,a),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Ee(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var t=this._map,e=parseInt(fe(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,r=new z(this._containerLeft,-n-this._containerBottom);r._add(Ce(this._container));var a=t.layerPointToContainerPoint(r),o=D(this.options.autoPanPadding),s=D(this.options.autoPanPaddingTopLeft||o),l=D(this.options.autoPanPaddingBottomRight||o),u=t.getSize(),c=0,h=0;a.x+i+l.x>u.x&&(c=a.x+i-u.x+l.x),a.x-c-s.x<0&&(c=a.x-s.x),a.y+n+l.y>u.y&&(h=a.y+n-u.y+l.y),a.y-h-s.y<0&&(h=a.y-s.y),(c||h)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([c,h]))}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Oi=function(t,e){return new Li(t,e)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(t,e,n){return this._initOverlay(Li,t,e,n).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),Qn.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Li,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Jn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){Ye(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof ii?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var zi=Ti.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Ti.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Ti.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Ti.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=de("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+o(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,i=this._map,r=this._container,a=i.latLngToContainerPoint(i.getCenter()),o=i.layerPointToContainerPoint(t),s=this.options.direction,l=r.offsetWidth,u=r.offsetHeight,c=D(this.options.offset),h=this._getAnchor();"top"===s?(e=l/2,n=u):"bottom"===s?(e=l/2,n=0):"center"===s?(e=l/2,n=u/2):"right"===s?(e=0,n=u/2):"left"===s?(e=l,n=u/2):o.x<a.x?(s="right",e=0,n=u/2):(s="left",e=l+2*(c.x+h.x),n=u/2),t=t.subtract(D(e,n,!0)).add(c).add(h),be(r,"leaflet-tooltip-right"),be(r,"leaflet-tooltip-left"),be(r,"leaflet-tooltip-top"),be(r,"leaflet-tooltip-bottom"),we(r,"leaflet-tooltip-"+s),Ee(r,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&_e(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ri=function(t,e){return new zi(t,e)};nn.include({openTooltip:function(t,e,n){return this._initOverlay(zi,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Qn.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(zi,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Jn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e="function"===typeof t.getElement&&t.getElement();e&&(Be(e,"focus",(function(){this._tooltip._source=t,this.openTooltip()}),this),Be(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e="function"===typeof t.getElement&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",(function(){e._openOnceFlag=!1,e._openTooltip(t)}))}else this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Di=qn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(ve(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=D(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Ii(t){return new Di(t)}qn.Default=$n;var Bi=Qn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:It.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){d(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),pe(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(me(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ge(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof z?t:new z(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),r=0,a=n.length;r<a;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!It.ielt9){_e(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var a=Math.min(1,(t-r.loaded)/200);_e(r.el,a),a<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(M(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=de("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(pe(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],r=this._map;return i||((i=this._levels[t]={}).el=de("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,r.getCenter(),r.getZoom()),u(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)pe(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),a=Math.floor(e/2),o=n-1,s=new z(+r,+a);s.z=+o;var l=this._tileCoordsToKey(s),u=this._tiles[l];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),o>i&&this._retainParent(r,a,o,i))},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++)for(var a=2*e;a<2*e+2;a++){var o=new z(r,a);o.z=n+1;var s=this._tileCoordsToKey(o),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(r,a,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var r=Math.round(e);r=void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom?void 0:this._clampZoom(r);var a=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!a||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();It.any3d?Me(t.el,r,i):Ee(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),a=e.getSize().divideBy(2*i);return new I(r.subtract(a),r.add(a))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),a=r.getCenter(),o=[],s=this.options.keepBuffer,l=new I(r.getBottomLeft().subtract([s,-s]),r.getTopRight().add([s,-s]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var c=this._tiles[u].coords;c.z===this._tileZoom&&l.contains(new z(c.x,c.y))||(this._tiles[u].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=r.min.y;h<=r.max.y;h++)for(var f=r.min.x;f<=r.max.x;f++){var d=new z(f,h);if(d.z=this._tileZoom,this._isValidTile(d)){var p=this._tiles[this._tileCoordsToKey(d)];p?p.current=!0:o.push(d)}}if(o.sort((function(t,e){return t.distanceTo(a)-e.distanceTo(a)})),0!==o.length){this._loading||(this._loading=!0,this.fire("loading"));var v=document.createDocumentFragment();for(f=0;f<o.length;f++)this._addTile(o[f],v);this._level.el.appendChild(v)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return j(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n);return[e.unproject(i,t.z),e.unproject(r,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new N(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new z(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(pe(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){we(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=u,t.onmousemove=u,It.ielt9&&this.options.opacity<1&&_e(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),a=this.createTile(this._wrapCoords(t),r(this._tileReady,this,t));this._initTile(a),this.createTile.length<2&&S(r(this._tileReady,this,t,null,a)),Ee(a,n),this._tiles[i]={el:a,coords:t,current:!0},e.appendChild(a),this.fire("tileloadstart",{tile:a,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(_e(n.el,0),M(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(we(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),It.ielt9||!this._map._fadeAnimated?S(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new z(this._wrapX?l(t.x,this._wrapX):t.x,this._wrapY?l(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new I(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Ni(t){return new Bi(t)}var ji=Bi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=d(this,e)).detectRetina&&It.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"===typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Be(n,"load",r(this._tileOnLoad,this,e,n)),Be(n,"error",r(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:It.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return m(this._url,n(e,this.options))},_tileOnLoad:function(t,e){It.ielt9?setTimeout(r(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=u,e.onerror=u,!e.complete)){e.src=w;var n=this._tiles[t].coords;pe(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",w),Bi.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==w))return Bi.prototype._tileReady.call(this,t,e,n)}});function Fi(t,e){return new ji(t,e)}var Ui=ji.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=n({},this.defaultWmsParams);for(var r in e)r in this.options||(i[r]=e[r]);var a=(e=d(this,e)).detectRetina&&It.retina?2:1,o=this.getTileSize();i.width=o.x*a,i.height=o.y*a,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,ji.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=B(n.project(e[0]),n.project(e[1])),r=i.min,a=i.max,o=(this._wmsVersion>=1.3&&this._crs===Gn?[r.y,r.x,a.y,a.x]:[r.x,r.y,a.x,a.y]).join(","),s=ji.prototype.getTileUrl.call(this,t);return s+p(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});function Hi(t,e){return new Ui(t,e)}ji.WMS=Ui,Fi.wms=Hi;var Vi=Qn.extend({options:{padding:.1},initialize:function(t){d(this,t),o(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),we(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),a=i.multiplyBy(-n).add(r).subtract(this._map._getNewPixelOrigin(t,e));It.any3d?Me(this._container,a,n):Ee(this._container,a)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new I(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Gi=Vi.extend({options:{tolerance:0},getEvents:function(){var t=Vi.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Be(t,"mousemove",this._onMouseMove,this),Be(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Be(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){M(this._redrawRequest),delete this._ctx,pe(this._container),je(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Vi.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=It.retina?2:1;Ee(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",It.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Vi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[o(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[o(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"===typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),r=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;r.push(e)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||S(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new I,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,r,a,o=t._parts,s=o.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(i=0,r=o[n].length;i<r;i++)a=o[n][i],l[i?"lineTo":"moveTo"](a.x,a.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)(e=r.layer).options.interactive&&e._containsPoint(i)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(n=e);this._fireEvent(!!n&&[n],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(be(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,i,a=this._drawFirst;a;a=a.next)(n=a.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(we(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(r((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function Wi(t){return It.canvas?new Gi(t):null}var Qi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Xi={_initContainer:function(){this._container=de("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vi.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Qi("shape");we(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Qi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[o(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;pe(e),t.removeInteractiveTarget(e),delete this._layers[o(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(e||(e=t._stroke=Qi("stroke")),r.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=g(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(r.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=Qi("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){me(t._container)},_bringToBack:function(t){ge(t._container)}},Yi=It.vml?Qi:Z,Ji=Vi.extend({_initContainer:function(){this._container=Yi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Yi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pe(this._container),je(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Vi.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),Ee(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Yi("path");t.options.className&&we(e,t.options.className),t.options.interactive&&we(e,"leaflet-interactive"),this._updateStyle(t),this._layers[o(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){pe(t._path),t.removeInteractiveTarget(t._path),delete this._layers[o(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,q(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,r)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){me(t._path)},_bringToBack:function(t){ge(t._path)}});function Zi(t){return It.svg||It.vml?new Ji(t):null}It.vml&&Ji.include(Xi),nn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Wi(t)||Zi(t)}});var qi=ci.extend({initialize:function(t,e){ci.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=j(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Ki(t,e){return new qi(t,e)}Ji.create=Yi,Ji.pointsToPath=q,fi.geometryToLayer=di,fi.coordsToLatLng=vi,fi.coordsToLatLngs=mi,fi.latLngToCoords=gi,fi.latLngsToCoords=yi,fi.getFeature=wi,fi.asFeature=bi,nn.mergeOptions({boxZoom:!0});var $i=mn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Be(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){je(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),ie(),Te(),this._startPoint=this._map.mouseEventToContainerPoint(t),Be(document,{contextmenu:Ye,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=de("div","leaflet-zoom-box",this._container),we(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new I(this._point,this._startPoint),n=e.getSize();Ee(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(pe(this._box),be(this._container,"leaflet-crosshair")),re(),Le(),je(document,{contextmenu:Ye,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var e=new N(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",$i),nn.mergeOptions({doubleClickZoom:!0});var tr=mn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});nn.addInitHook("addHandler","doubleClickZoom",tr),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var er=mn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new wn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}we(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){be(this._map._container,"leaflet-grab"),be(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=j(this._map.options.maxBounds);this._offsetLimit=B(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,a=(i+e+n)%t-e-n,o=Math.abs(r+n)<Math.abs(a+n)?r:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,o=n.easeLinearity,s=r.multiplyBy(o/a),l=s.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,l),c=s.multiplyBy(u/l),h=u/(n.inertiaDeceleration*o),f=c.multiplyBy(-h/2).round();f.x||f.y?(f=e._limitOffset(f,e.options.maxBounds),S((function(){e.panBy(f,{duration:h,easeLinearity:o,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});nn.addInitHook("addHandler","dragging",er),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var nr=mn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Be(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),je(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)i[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){Be(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){je(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(e=this._panKeys[n],t.shiftKey&&(e=D(e).multiplyBy(3)),i.options.maxBounds&&(e=i._limitOffset(D(e),i.options.maxBounds)),i.options.worldCopyJump){var r=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(e)));i.panTo(r)}else i.panBy(e)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Ye(t)}}});nn.addInitHook("addHandler","keyboard",nr),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ir=mn.extend({addHooks:function(){Be(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){je(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Ke(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),i),Ye(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,a=n?Math.ceil(r/n)*n:r,o=t._limitZoom(e+(this._delta>0?a:-a))-e;this._delta=0,this._startTime=null,o&&("center"===t.options.scrollWheelZoom?t.setZoom(e+o):t.setZoomAround(this._lastMousePos,e+o))}});nn.addInitHook("addHandler","scrollWheelZoom",ir);var rr=600;nn.mergeOptions({tapHold:It.touchNative&&It.safari&&It.mobile,tapTolerance:15});var ar=mn.extend({addHooks:function(){Be(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){je(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new z(e.clientX,e.clientY),this._holdTimeout=setTimeout(r((function(){this._cancel(),this._isTapValid()&&(Be(document,"touchend",Xe),Be(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))}),this),rr),Be(document,"touchend touchcancel contextmenu",this._cancel,this),Be(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){je(document,"touchend",Xe),je(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),je(document,"touchend touchcancel contextmenu",this._cancel,this),je(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new z(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",ar),nn.mergeOptions({touchZoom:It.touch,bounceAtZoomLimits:!0});var or=mn.extend({addHooks:function(){we(this._map._container,"leaflet-touch-zoom"),Be(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){be(this._map._container,"leaflet-touch-zoom"),je(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Be(document,"touchmove",this._onTouchMove,this),Be(document,"touchend touchcancel",this._onTouchEnd,this),Xe(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),a=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(a,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&a<1||this._zoom>e.getMaxZoom()&&a>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===a)return}else{var o=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===a&&0===o.x&&0===o.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),M(this._animRequest);var s=r(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=S(s,this,!0),Xe(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,M(this._animRequest),je(document,"touchmove",this._onTouchMove,this),je(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",or),nn.BoxZoom=$i,nn.DoubleClickZoom=tr,nn.Drag=er,nn.Keyboard=nr,nn.ScrollWheelZoom=ir,nn.TapHold=ar,nn.TouchZoom=or,t.Bounds=I,t.Browser=It,t.CRS=H,t.Canvas=Gi,t.Circle=oi,t.CircleMarker=ri,t.Class=C,t.Control=an,t.DivIcon=Di,t.DivOverlay=Ti,t.DomEvent=tn,t.DomUtil=Ie,t.Draggable=wn,t.Evented=O,t.FeatureGroup=Jn,t.GeoJSON=fi,t.GridLayer=Bi,t.Handler=mn,t.Icon=qn,t.ImageOverlay=ki,t.LatLng=F,t.LatLngBounds=N,t.Layer=Qn,t.LayerGroup=Xn,t.LineUtil=jn,t.Map=nn,t.Marker=ei,t.Mixin=gn,t.Path=ii,t.Point=z,t.PolyUtil=kn,t.Polygon=ci,t.Polyline=li,t.Popup=Li,t.PosAnimation=en,t.Projection=Hn,t.Rectangle=qi,t.Renderer=Vi,t.SVG=Ji,t.SVGOverlay=Ci,t.TileLayer=ji,t.Tooltip=zi,t.Transformation=Q,t.Util=E,t.VideoOverlay=Mi,t.bind=r,t.bounds=B,t.canvas=Wi,t.circle=si,t.circleMarker=ai,t.control=on,t.divIcon=Ii,t.extend=n,t.featureGroup=Zn,t.geoJSON=Ai,t.geoJson=_i,t.gridLayer=Ni,t.icon=Kn,t.imageOverlay=Si,t.latLng=U,t.latLngBounds=j,t.layerGroup=Yn,t.map=rn,t.marker=ni,t.point=D,t.polygon=hi,t.polyline=ui,t.popup=Oi,t.rectangle=Ki,t.setOptions=d,t.stamp=o,t.svg=Zi,t.svgOverlay=Pi,t.tileLayer=Fi,t.tooltip=Ri,t.transformation=X,t.version=e,t.videoOverlay=Ei;var sr=window.L;t.noConflict=function(){return window.L=sr,this},window.L=t}(e)},4330:function(t,e,n){"use strict";function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.query,n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(l){r=!0,a=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(!1),2),i=n[0],o=n[1];return(0,r.useEffect)((function(){o((0,a.checkCon)((0,a.default)(e)))}),[]),i};var r=n(2791),a=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s=r?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}n.default=t,e&&e.set(t,n);return n}(n(6848));function o(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}},4729:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var i=o(n(2791)),r=o(n(2007)),a=o(n(6676));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t){var e=t.children,n=t.deviceName,r=function(t){var i=t.screenSize,r=window.screen.width,a=i[n],o=a.minWidth,s=a.maxWidth;return r>=o&&r<=s?e:null},o=function(t){var i=t.screenSize,r=window.screen.width;return n.some((function(t){var e=i[t],n=e.minWidth,a=e.maxWidth;return r>=n&&r<=a}))?e:null};return i.default.createElement(a.default.Consumer,null,(function(t){return"object"===s(n)?i.default.createElement(o,{screenSize:t}):i.default.createElement(r,{screenSize:t})}))}l.propTypes={children:r.default.oneOfType([r.default.object,r.default.string]).isRequired,deviceName:r.default.oneOfType([r.default.string,r.default.array]).isRequired}},6676:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=(0,n(2791).createContext)();e.default=i},7788:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var i=o(n(2791)),r=o(n(2007)),a=o(n(6676));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){var e=t.mediaQueries,n=t.children;return i.default.createElement(a.default.Provider,{value:e},n)}s.defaultProps={mediaQueries:{mobile:{minWidth:320,maxWidth:480},mobileLandscape:{minWidth:481,maxWidth:767},tablet:{minWidth:768,maxWidth:1024},desktop:{minWidth:1025,maxWidth:2500}}},s.propTypes={mediaQueries:r.default.objectOf(r.default.object),children:r.default.oneOfType([r.default.object,r.default.string]).isRequired}},3569:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={maxWidth:"max-width",minWidth:"min-width",windowWidth:window.screen.width,colon:":",pixel:"px"};e.default=n},6848:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.checkCon=void 0;var i,r=(i=n(3569))&&i.__esModule?i:{default:i};var a=r.default.colon,o=r.default.pixel,s=r.default.maxWidth,l=r.default.minWidth,u=r.default.windowWidth,c=function(t,e,n){return n===l?t>e:t<e};e.checkCon=function(t){var e=t.p,n=t.v;switch(e){case s:case l:return c(u,n,e);default:return!1}};var h=function(t){return function(t){var e=t.split(a);return{p:e[0],v:e[1].replace(o,"").trim()}}(t)};e.default=h},3423:function(t,e,n){"use strict";Object.defineProperty(e,"ZP",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"ac",{enumerable:!0,get:function(){return a.default}});var i=o(n(7788)),r=o(n(4729)),a=o(n(4330));function o(t){return t&&t.__esModule?t:{default:t}}},888:function(t,e,n){"use strict";var i=n(9047);function r(){}function a(){}a.resetWarningCache=r,t.exports=function(){function t(t,e,n,r,a,o){if(o!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},2007:function(t,e,n){t.exports=n(888)()},9047:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(t,e,n){"use strict";var i=n(2791),r=n(5296);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(t,e){u(t,e),u(t+"Capture",e)}function u(t,e){for(s[t]=e,t=0;t<e.length;t++)o.add(e[t])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(t,e,n,i,r,a,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new v(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new v(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new v(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new v(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new v(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new v(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new v(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new v(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new v(t,5,!1,t.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function w(t,e,n,i){var r=m.hasOwnProperty(e)?m[e]:null;(null!==r?0!==r.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!h.call(p,t)||!h.call(d,t)&&(f.test(t)?p[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(g,y);m[e]=new v(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(g,y);m[e]=new v(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(g,y);m[e]=new v(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new v(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new v(t,1,!1,t.toLowerCase(),null,!0,!0)}));var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),A=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function D(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=R&&t[R]||t["@@iterator"])?t:null}var I,B=Object.assign;function N(t){if(void 0===I)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);I=e&&e[1]||""}return"\n"+I+t}var j=!1;function F(t,e){if(!t||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&"string"===typeof u.stack){for(var r=u.stack.split("\n"),a=i.stack.split("\n"),o=r.length-1,s=a.length-1;1<=o&&0<=s&&r[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(r[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||r[o]!==a[s]){var l="\n"+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=o&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?N(t):""}function U(t){switch(t.tag){case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return t=F(t.type,!1);case 11:return t=F(t.type.render,!1);case 1:return t=F(t.type,!0);default:return""}}function H(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case _:return"Fragment";case A:return"Portal";case S:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case E:return(t.displayName||"Context")+".Consumer";case M:return(t._context.displayName||"Context")+".Provider";case C:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case L:return null!==(e=t.displayName||null)?e:H(t.type)||"Memo";case O:e=t._payload,t=t._init;try{return H(t(e))}catch(n){}}return null}function V(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(e);case 8:return e===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function G(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function W(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Q(t){t._valueTracker||(t._valueTracker=function(t){var e=W(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,a.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function X(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=W(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function Y(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function J(t,e){var n=e.checked;return B({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Z(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=G(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function q(t,e){null!=(e=e.checked)&&w(t,"checked",e,!1)}function K(t,e){q(t,e);var n=G(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,G(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function $(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Y(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+G(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return B({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(et(n)){if(1<n.length)throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:G(n)}}function at(t,e){var n=G(e.value),i=G(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ut,ct,ht=(ct=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ut=ut||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ut.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return ct(t,e)}))}:ct);function ft(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function vt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||dt.hasOwnProperty(t)&&dt[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=vt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(dt).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dt[e]=dt[t]}))}));var gt=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(gt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62))}}function wt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function xt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var At=null,_t=null,kt=null;function St(t){if(t=wr(t)){if("function"!==typeof At)throw Error(a(280));var e=t.stateNode;e&&(e=xr(e),At(t.stateNode,t.type,e))}}function Mt(t){_t?kt?kt.push(t):kt=[t]:_t=t}function Et(){if(_t){var t=_t,e=kt;if(kt=_t=null,St(t),e)for(t=0;t<e.length;t++)St(e[t])}}function Ct(t,e){return t(e)}function Pt(){}var Tt=!1;function Lt(t,e,n){if(Tt)return t(e,n);Tt=!0;try{return Ct(t,e,n)}finally{Tt=!1,(null!==_t||null!==kt)&&(Pt(),Et())}}function Ot(t,e){var n=t.stateNode;if(null===n)return null;var i=xr(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}var zt=!1;if(c)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch(ct){zt=!1}function Dt(t,e,n,i,r,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var It=!1,Bt=null,Nt=!1,jt=null,Ft={onError:function(t){It=!0,Bt=t}};function Ut(t,e,n,i,r,a,o,s,l){It=!1,Bt=null,Dt.apply(Ft,arguments)}function Ht(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Vt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Gt(t){if(Ht(t)!==t)throw Error(a(188))}function Wt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Ht(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Gt(r),t;if(o===i)return Gt(r),e;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t))?Qt(t):null}function Qt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Qt(t);if(null!==e)return e;t=t.sibling}return null}var Xt=r.unstable_scheduleCallback,Yt=r.unstable_cancelCallback,Jt=r.unstable_shouldYield,Zt=r.unstable_requestPaint,qt=r.unstable_now,Kt=r.unstable_getCurrentPriorityLevel,$t=r.unstable_ImmediatePriority,te=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,ne=r.unstable_LowPriority,ie=r.unstable_IdlePriority,re=null,ae=null;var oe=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(se(t)/le|0)|0},se=Math.log,le=Math.LN2;var ue=64,ce=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fe(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,r=t.suspendedLanes,a=t.pingedLanes,o=268435455&n;if(0!==o){var s=o&~r;0!==s?i=he(s):0!==(a&=o)&&(i=he(a))}else 0!==(o=n&~r)?i=he(o):0!==a&&(i=he(a));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&r)&&((r=i&-i)>=(a=e&-e)||16===r&&0!==(4194240&a)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)r=1<<(n=31-oe(e)),i|=t[n],e&=~r;return i}function de(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ve(){var t=ue;return 0===(4194240&(ue<<=1))&&(ue=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ge(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-oe(e)]=n}function ye(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-oe(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var we=0;function be(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var xe,Ae,_e,ke,Se,Me=!1,Ee=[],Ce=null,Pe=null,Te=null,Le=new Map,Oe=new Map,ze=[],Re="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function De(t,e){switch(t){case"focusin":case"focusout":Ce=null;break;case"dragenter":case"dragleave":Pe=null;break;case"mouseover":case"mouseout":Te=null;break;case"pointerover":case"pointerout":Le.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oe.delete(e.pointerId)}}function Ie(t,e,n,i,r,a){return null===t||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},null!==e&&(null!==(e=wr(e))&&Ae(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function Be(t){var e=yr(t.target);if(null!==e){var n=Ht(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Vt(n)))return t.blockedOn=e,void Se(t.priority,(function(){_e(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Ne(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Je(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=wr(n))&&Ae(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);bt=i,n.target.dispatchEvent(i),bt=null,e.shift()}return!0}function je(t,e,n){Ne(t)&&n.delete(e)}function Fe(){Me=!1,null!==Ce&&Ne(Ce)&&(Ce=null),null!==Pe&&Ne(Pe)&&(Pe=null),null!==Te&&Ne(Te)&&(Te=null),Le.forEach(je),Oe.forEach(je)}function Ue(t,e){t.blockedOn===e&&(t.blockedOn=null,Me||(Me=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Fe)))}function He(t){function e(e){return Ue(e,t)}if(0<Ee.length){Ue(Ee[0],t);for(var n=1;n<Ee.length;n++){var i=Ee[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==Ce&&Ue(Ce,t),null!==Pe&&Ue(Pe,t),null!==Te&&Ue(Te,t),Le.forEach(e),Oe.forEach(e),n=0;n<ze.length;n++)(i=ze[n]).blockedOn===t&&(i.blockedOn=null);for(;0<ze.length&&null===(n=ze[0]).blockedOn;)Be(n),null===n.blockedOn&&ze.shift()}var Ve=b.ReactCurrentBatchConfig,Ge=!0;function We(t,e,n,i){var r=we,a=Ve.transition;Ve.transition=null;try{we=1,Xe(t,e,n,i)}finally{we=r,Ve.transition=a}}function Qe(t,e,n,i){var r=we,a=Ve.transition;Ve.transition=null;try{we=4,Xe(t,e,n,i)}finally{we=r,Ve.transition=a}}function Xe(t,e,n,i){if(Ge){var r=Je(t,e,n,i);if(null===r)Gi(t,e,i,Ye,n),De(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return Ce=Ie(Ce,t,e,n,i,r),!0;case"dragenter":return Pe=Ie(Pe,t,e,n,i,r),!0;case"mouseover":return Te=Ie(Te,t,e,n,i,r),!0;case"pointerover":var a=r.pointerId;return Le.set(a,Ie(Le.get(a)||null,t,e,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Oe.set(a,Ie(Oe.get(a)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(De(t,i),4&e&&-1<Re.indexOf(t)){for(;null!==r;){var a=wr(r);if(null!==a&&xe(a),null===(a=Je(t,e,n,i))&&Gi(t,e,i,Ye,n),a===r)break;r=a}null!==r&&i.stopPropagation()}else Gi(t,e,i,null,n)}}var Ye=null;function Je(t,e,n,i){if(Ye=null,null!==(t=yr(t=xt(i))))if(null===(e=Ht(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Vt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ye=t,null}function Ze(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kt()){case $t:return 1;case te:return 4;case ee:case ne:return 16;case ie:return 536870912;default:return 16}default:return 16}}var qe=null,Ke=null,$e=null;function tn(){if($e)return $e;var t,e,n=Ke,i=n.length,r="value"in qe?qe.value:qe.textContent,a=r.length;for(t=0;t<i&&n[t]===r[t];t++);var o=i-t;for(e=1;e<=o&&n[i-e]===r[a-e];e++);return $e=r.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function an(t){function e(e,n,i,r,a){for(var o in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return B(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),hn=B({},un,{view:0,detail:0}),fn=an(hn),dn=B({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(on=t.screenX-ln.screenX,sn=t.screenY-ln.screenY):sn=on=0,ln=t),on)},movementY:function(t){return"movementY"in t?t.movementY:sn}}),pn=an(dn),vn=an(B({},dn,{dataTransfer:0})),mn=an(B({},hn,{relatedTarget:0})),gn=an(B({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=B({},un,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wn=an(yn),bn=an(B({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=_n[t])&&!!e[t]}function Sn(){return kn}var Mn=B({},hn,{key:function(t){if(t.key){var e=xn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?An[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),En=an(Mn),Cn=an(B({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(B({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Tn=an(B({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=B({},dn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Ln),zn=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var In=c&&"TextEvent"in window&&!Dn,Bn=c&&(!Rn||Dn&&8<Dn&&11>=Dn),Nn=String.fromCharCode(32),jn=!1;function Fn(t,e){switch(t){case"keyup":return-1!==zn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Vn[t.type]:"textarea"===e}function Wn(t,e,n,i){Mt(i),0<(e=Qi(e,"onChange")).length&&(n=new cn("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Qn=null,Xn=null;function Yn(t){Ni(t,0)}function Jn(t){if(X(br(t)))return t}function Zn(t,e){if("change"===t)return e}var qn=!1;if(c){var Kn;if(c){var $n="oninput"in document;if(!$n){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),$n="function"===typeof ti.oninput}Kn=$n}else Kn=!1;qn=Kn&&(!document.documentMode||9<document.documentMode)}function ei(){Qn&&(Qn.detachEvent("onpropertychange",ni),Xn=Qn=null)}function ni(t){if("value"===t.propertyName&&Jn(Xn)){var e=[];Wn(e,Xn,t,xt(t)),Lt(Yn,e)}}function ii(t,e,n){"focusin"===t?(ei(),Xn=n,(Qn=e).attachEvent("onpropertychange",ni)):"focusout"===t&&ei()}function ri(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Jn(Xn)}function ai(t,e){if("click"===t)return Jn(e)}function oi(t,e){if("input"===t||"change"===t)return Jn(e)}var si="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function li(t,e){if(si(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(e,r)||!si(t[r],e[r]))return!1}return!0}function ui(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ci(t,e){var n,i=ui(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ui(i)}}function hi(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hi(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function fi(){for(var t=window,e=Y();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=Y((t=e.contentWindow).document)}return e}function di(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pi(t){var e=fi(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&di(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=n.textContent.length,a=Math.min(i.start,r);i=void 0===i.end?a:Math.min(i.end,r),!t.extend&&a>i&&(r=i,i=a,a=r),r=ci(n,a);var o=ci(n,i);r&&o&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),a>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vi=c&&"documentMode"in document&&11>=document.documentMode,mi=null,gi=null,yi=null,wi=!1;function bi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wi||null==mi||mi!==Y(i)||("selectionStart"in(i=mi)&&di(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Qi(gi,"onSelect")).length&&(e=new cn("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=mi)))}function xi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ai={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},_i={},ki={};function Si(t){if(_i[t])return _i[t];if(!Ai[t])return t;var e,n=Ai[t];for(e in n)if(n.hasOwnProperty(e)&&e in ki)return _i[t]=n[e];return t}c&&(ki=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);var Mi=Si("animationend"),Ei=Si("animationiteration"),Ci=Si("animationstart"),Pi=Si("transitionend"),Ti=new Map,Li="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oi(t,e){Ti.set(t,e),l(e,[t])}for(var zi=0;zi<Li.length;zi++){var Ri=Li[zi];Oi(Ri.toLowerCase(),"on"+(Ri[0].toUpperCase()+Ri.slice(1)))}Oi(Mi,"onAnimationEnd"),Oi(Ei,"onAnimationIteration"),Oi(Ci,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(Pi,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ii=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function Bi(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,r,o,s,l,u){if(Ut.apply(this,arguments),It){if(!It)throw Error(a(198));var c=Bt;It=!1,Bt=null,Nt||(Nt=!0,jt=c)}}(i,e,void 0,t),t.currentTarget=null}function Ni(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var a=void 0;if(e)for(var o=i.length-1;0<=o;o--){var s=i[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&r.isPropagationStopped())break t;Bi(r,s,u),a=l}else for(o=0;o<i.length;o++){if(l=(s=i[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&r.isPropagationStopped())break t;Bi(r,s,u),a=l}}}if(Nt)throw t=jt,Nt=!1,jt=null,t}function ji(t,e){var n=e[vr];void 0===n&&(n=e[vr]=new Set);var i=t+"__bubble";n.has(i)||(Vi(e,t,2,!1),n.add(i))}function Fi(t,e,n){var i=0;e&&(i|=4),Vi(n,t,i,e)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function Hi(t){if(!t[Ui]){t[Ui]=!0,o.forEach((function(e){"selectionchange"!==e&&(Ii.has(e)||Fi(e,!1,t),Fi(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Ui]||(e[Ui]=!0,Fi("selectionchange",!1,e))}}function Vi(t,e,n,i){switch(Ze(e)){case 1:var r=We;break;case 4:r=Qe;break;default:r=Xe}n=r.bind(null,e,n,t),r=void 0,!zt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Gi(t,e,n,i,r){var a=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==s;){if(null===(o=yr(s)))return;if(5===(l=o.tag)||6===l){i=a=o;continue t}s=s.parentNode}}i=i.return}Lt((function(){var i=a,r=xt(n),o=[];t:{var s=Ti.get(t);if(void 0!==s){var l=cn,u=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=En;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Mi:case Ei:case Ci:l=gn;break;case Pi:l=Tn;break;case"scroll":l=fn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var c=0!==(4&e),h=!c&&"scroll"===t,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=i;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Ot(p,f))&&c.push(Wi(p,v,d)))),h)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,r),o.push({event:s,listeners:c}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||n===bt||!(u=n.relatedTarget||n.fromElement)||!yr(u)&&!u[pr])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(u=(u=n.relatedTarget||n.toElement)?yr(u):null)&&(u!==(h=Ht(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=i),l!==u)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(c=Cn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?s:br(l),d=null==u?s:br(u),(s=new c(v,p+"leave",l,n,r)).target=h,s.relatedTarget=d,v=null,yr(r)===i&&((c=new c(f,p+"enter",u,n,r)).target=d,c.relatedTarget=h,v=c),h=v,l&&u)t:{for(f=u,p=0,d=c=l;d;d=Xi(d))p++;for(d=0,v=f;v;v=Xi(v))d++;for(;0<p-d;)c=Xi(c),p--;for(;0<d-p;)f=Xi(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break t;c=Xi(c),f=Xi(f)}c=null}else c=null;null!==l&&Yi(o,s,l,c,!1),null!==u&&null!==h&&Yi(o,h,u,c,!0)}if("select"===(l=(s=i?br(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Zn;else if(Gn(s))if(qn)m=oi;else{m=ri;var g=ii}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ai);switch(m&&(m=m(t,i))?Wn(o,m,n,r):(g&&g(t,s,i),"focusout"===t&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&tt(s,"number",s.value)),g=i?br(i):window,t){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(mi=g,gi=i,yi=null);break;case"focusout":yi=gi=mi=null;break;case"mousedown":wi=!0;break;case"contextmenu":case"mouseup":case"dragend":wi=!1,bi(o,n,r);break;case"selectionchange":if(vi)break;case"keydown":case"keyup":bi(o,n,r)}var y;if(Rn)t:{switch(t){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else Hn?Fn(t,n)&&(w="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(w="onCompositionStart");w&&(Bn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Hn&&(y=tn()):(Ke="value"in(qe=r)?qe.value:qe.textContent,Hn=!0)),0<(g=Qi(i,w)).length&&(w=new bn(w,t,null,n,r),o.push({event:w,listeners:g}),y?w.data=y:null!==(y=Un(n))&&(w.data=y))),(y=In?function(t,e){switch(t){case"compositionend":return Un(e);case"keypress":return 32!==e.which?null:(jn=!0,Nn);case"textInput":return(t=e.data)===Nn&&jn?null:t;default:return null}}(t,n):function(t,e){if(Hn)return"compositionend"===t||!Rn&&Fn(t,e)?(t=tn(),$e=Ke=qe=null,Hn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(i=Qi(i,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=y))}Ni(o,e)}))}function Wi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qi(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=Ot(t,n))&&i.unshift(Wi(t,a,r)),null!=(a=Ot(t,e))&&i.push(Wi(t,a,r))),t=t.return}return i}function Xi(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Yi(t,e,n,i,r){for(var a=e._reactName,o=[];null!==n&&n!==i;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==u&&(s=u,r?null!=(l=Ot(n,a))&&o.unshift(Wi(n,l,s)):r||null!=(l=Ot(n,a))&&o.push(Wi(n,l,s))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}var Ji=/\r\n?/g,Zi=/\u0000|\uFFFD/g;function qi(t){return("string"===typeof t?t:""+t).replace(Ji,"\n").replace(Zi,"")}function Ki(t,e,n){if(e=qi(e),qi(t)!==e&&n)throw Error(a(425))}function $i(){}var tr=null,er=null;function nr(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ar="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ar?function(t){return ar.resolve(null).then(t).catch(sr)}:ir;function sr(t){setTimeout((function(){throw t}))}function lr(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return t.removeChild(r),void He(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);He(e)}function ur(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function cr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hr=Math.random().toString(36).slice(2),fr="__reactFiber$"+hr,dr="__reactProps$"+hr,pr="__reactContainer$"+hr,vr="__reactEvents$"+hr,mr="__reactListeners$"+hr,gr="__reactHandles$"+hr;function yr(t){var e=t[fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[fr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=cr(t);null!==t;){if(n=t[fr])return n;t=cr(t)}return e}n=(t=n).parentNode}return null}function wr(t){return!(t=t[fr]||t[pr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function br(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function xr(t){return t[dr]||null}var Ar=[],_r=-1;function kr(t){return{current:t}}function Sr(t){0>_r||(t.current=Ar[_r],Ar[_r]=null,_r--)}function Mr(t,e){_r++,Ar[_r]=t.current,t.current=e}var Er={},Cr=kr(Er),Pr=kr(!1),Tr=Er;function Lr(t,e){var n=t.type.contextTypes;if(!n)return Er;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function Or(t){return null!==(t=t.childContextTypes)&&void 0!==t}function zr(){Sr(Pr),Sr(Cr)}function Rr(t,e,n){if(Cr.current!==Er)throw Error(a(168));Mr(Cr,e),Mr(Pr,n)}function Dr(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(a(108,V(t)||"Unknown",r));return B({},n,i)}function Ir(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Er,Tr=Cr.current,Mr(Cr,t),Mr(Pr,Pr.current),!0}function Br(t,e,n){var i=t.stateNode;if(!i)throw Error(a(169));n?(t=Dr(t,e,Tr),i.__reactInternalMemoizedMergedChildContext=t,Sr(Pr),Sr(Cr),Mr(Cr,t)):Sr(Pr),Mr(Pr,n)}var Nr=null,jr=!1,Fr=!1;function Ur(t){null===Nr?Nr=[t]:Nr.push(t)}function Hr(){if(!Fr&&null!==Nr){Fr=!0;var t=0,e=we;try{var n=Nr;for(we=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}Nr=null,jr=!1}catch(r){throw null!==Nr&&(Nr=Nr.slice(t+1)),Xt($t,Hr),r}finally{we=e,Fr=!1}}return null}var Vr=[],Gr=0,Wr=null,Qr=0,Xr=[],Yr=0,Jr=null,Zr=1,qr="";function Kr(t,e){Vr[Gr++]=Qr,Vr[Gr++]=Wr,Wr=t,Qr=e}function $r(t,e,n){Xr[Yr++]=Zr,Xr[Yr++]=qr,Xr[Yr++]=Jr,Jr=t;var i=Zr;t=qr;var r=32-oe(i)-1;i&=~(1<<r),n+=1;var a=32-oe(e)+r;if(30<a){var o=r-r%5;a=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Zr=1<<32-oe(e)+r|n<<r|i,qr=a+t}else Zr=1<<a|n<<r|i,qr=t}function ta(t){null!==t.return&&(Kr(t,1),$r(t,1,0))}function ea(t){for(;t===Wr;)Wr=Vr[--Gr],Vr[Gr]=null,Qr=Vr[--Gr],Vr[Gr]=null;for(;t===Jr;)Jr=Xr[--Yr],Xr[Yr]=null,qr=Xr[--Yr],Xr[Yr]=null,Zr=Xr[--Yr],Xr[Yr]=null}var na=null,ia=null,ra=!1,aa=null;function oa(t,e){var n=Ou(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function sa(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,na=t,ia=ur(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,na=t,ia=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Jr?{id:Zr,overflow:qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Ou(18,null,null,0)).stateNode=e,n.return=t,t.child=n,na=t,ia=null,!0);default:return!1}}function la(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function ua(t){if(ra){var e=ia;if(e){var n=e;if(!sa(t,e)){if(la(t))throw Error(a(418));e=ur(n.nextSibling);var i=na;e&&sa(t,e)?oa(i,n):(t.flags=-4097&t.flags|2,ra=!1,na=t)}}else{if(la(t))throw Error(a(418));t.flags=-4097&t.flags|2,ra=!1,na=t}}}function ca(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;na=t}function ha(t){if(t!==na)return!1;if(!ra)return ca(t),ra=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!nr(t.type,t.memoizedProps)),e&&(e=ia)){if(la(t))throw fa(),Error(a(418));for(;e;)oa(t,e),e=ur(e.nextSibling)}if(ca(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ia=ur(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ia=null}}else ia=na?ur(t.stateNode.nextSibling):null;return!0}function fa(){for(var t=ia;t;)t=ur(t.nextSibling)}function da(){ia=na=null,ra=!1}function pa(t){null===aa?aa=[t]:aa.push(t)}var va=b.ReactCurrentBatchConfig;function ma(t,e){if(t&&t.defaultProps){for(var n in e=B({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var ga=kr(null),ya=null,wa=null,ba=null;function xa(){ba=wa=ya=null}function Aa(t){var e=ga.current;Sr(ga),t._currentValue=e}function _a(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function ka(t,e){ya=t,ba=wa=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(bs=!0),t.firstContext=null)}function Sa(t){var e=t._currentValue;if(ba!==t)if(t={context:t,memoizedValue:e,next:null},null===wa){if(null===ya)throw Error(a(308));wa=t,ya.dependencies={lanes:0,firstContext:t}}else wa=wa.next=t;return e}var Ma=null;function Ea(t){null===Ma?Ma=[t]:Ma.push(t)}function Ca(t,e,n,i){var r=e.interleaved;return null===r?(n.next=n,Ea(e)):(n.next=r.next,r.next=n),e.interleaved=n,Pa(t,i)}function Pa(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Ta=!1;function La(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function za(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ra(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Pl)){var r=i.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Pa(t,n)}return null===(r=i.interleaved)?(e.next=e,Ea(i)):(e.next=r.next,r.next=e),i.interleaved=e,Pa(t,n)}function Da(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ye(t,n)}}function Ia(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?r=a=e:a=a.next=e}else r=a=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ba(t,e,n,i){var r=t.updateQueue;Ta=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=t.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var h=r.baseState;for(o=0,c=u=l=null,s=a;;){var f=s.lane,d=s.eventTime;if((i&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var p=t,v=s;switch(f=e,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break t;h=B({},h,f);break t;case 2:Ta=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(f=r.effects)?r.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=d,l=h):c=c.next=d,o|=f;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(f=s).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}if(null===c&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null!==(e=r.shared.interleaved)){r=e;do{o|=r.lane,r=r.next}while(r!==e)}else null===a&&(r.shared.lanes=0);Bl|=o,t.lanes=o,t.memoizedState=h}}function Na(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var ja=(new i.Component).refs;function Fa(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:B({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var Ua={isMounted:function(t){return!!(t=t._reactInternals)&&Ht(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=eu(),r=nu(t),a=za(i,r);a.payload=e,void 0!==n&&null!==n&&(a.callback=n),null!==(e=Ra(t,a,r))&&(iu(e,t,r,i),Da(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=eu(),r=nu(t),a=za(i,r);a.tag=1,a.payload=e,void 0!==n&&null!==n&&(a.callback=n),null!==(e=Ra(t,a,r))&&(iu(e,t,r,i),Da(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=eu(),i=nu(t),r=za(n,i);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=Ra(t,r,i))&&(iu(e,t,i,n),Da(e,t,i))}};function Ha(t,e,n,i,r,a,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,a,o):!e.prototype||!e.prototype.isPureReactComponent||(!li(n,i)||!li(r,a))}function Va(t,e,n){var i=!1,r=Er,a=e.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(r=Or(e)?Tr:Cr.current,a=(i=null!==(i=e.contextTypes)&&void 0!==i)?Lr(t,r):Er),e=new e(n,a),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Ua,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=a),e}function Ga(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Ua.enqueueReplaceState(e,e.state,null)}function Wa(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=ja,La(t);var a=e.contextType;"object"===typeof a&&null!==a?r.context=Sa(a):(a=Or(e)?Tr:Cr.current,r.context=Lr(t,a)),r.state=t.memoizedState,"function"===typeof(a=e.getDerivedStateFromProps)&&(Fa(t,e,a,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&Ua.enqueueReplaceState(r,r.state,null),Ba(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308)}function Qa(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,t));var r=i,o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=r.refs;e===ja&&(e=r.refs={}),null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function Xa(t,e){throw t=Object.prototype.toString.call(e),Error(a(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ya(t){return(0,t._init)(t._payload)}function Ja(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Ru(t,e)).index=0,t.sibling=null,t}function o(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Nu(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function u(t,e,n,i){var a=n.type;return a===_?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Ya(a)===e.type)?((i=r(e,n.props)).ref=Qa(t,e,n),i.return=t,i):((i=Du(n.type,n.key,n.props,null,t.mode,i)).ref=Qa(t,e,n),i.return=t,i)}function c(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=ju(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,a){return null===e||7!==e.tag?((e=Iu(n,t.mode,i,a)).return=t,e):((e=r(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Nu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case x:return(n=Du(e.type,e.key,e.props,null,t.mode,n)).ref=Qa(t,null,e),n.return=t,n;case A:return(e=ju(e,t.mode,n)).return=t,e;case O:return f(t,(0,e._init)(e._payload),n)}if(et(e)||D(e))return(e=Iu(e,t.mode,n,null)).return=t,e;Xa(t,e)}return null}function d(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===r?u(t,e,n,i):null;case A:return n.key===r?c(t,e,n,i):null;case O:return d(t,e,(r=n._init)(n._payload),i)}if(et(n)||D(n))return null!==r?null:h(t,e,n,i,null);Xa(t,n)}return null}function p(t,e,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case x:return u(e,t=t.get(null===i.key?n:i.key)||null,i,r);case A:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r);case O:return p(t,e,n,(0,i._init)(i._payload),r)}if(et(i)||D(i))return h(e,t=t.get(n)||null,i,r,null);Xa(e,i)}return null}function v(r,a,s,l){for(var u=null,c=null,h=a,v=a=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=d(r,h,s[v],l);if(null===g){null===h&&(h=m);break}t&&h&&null===g.alternate&&e(r,h),a=o(g,a,v),null===c?u=g:c.sibling=g,c=g,h=m}if(v===s.length)return n(r,h),ra&&Kr(r,v),u;if(null===h){for(;v<s.length;v++)null!==(h=f(r,s[v],l))&&(a=o(h,a,v),null===c?u=h:c.sibling=h,c=h);return ra&&Kr(r,v),u}for(h=i(r,h);v<s.length;v++)null!==(m=p(h,r,v,s[v],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?u=m:c.sibling=m,c=m);return t&&h.forEach((function(t){return e(r,t)})),ra&&Kr(r,v),u}function m(r,s,l,u){var c=D(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,v=s,m=s=0,g=null,y=l.next();null!==v&&!y.done;m++,y=l.next()){v.index>m?(g=v,v=null):g=v.sibling;var w=d(r,v,y.value,u);if(null===w){null===v&&(v=g);break}t&&v&&null===w.alternate&&e(r,v),s=o(w,s,m),null===h?c=w:h.sibling=w,h=w,v=g}if(y.done)return n(r,v),ra&&Kr(r,m),c;if(null===v){for(;!y.done;m++,y=l.next())null!==(y=f(r,y.value,u))&&(s=o(y,s,m),null===h?c=y:h.sibling=y,h=y);return ra&&Kr(r,m),c}for(v=i(r,v);!y.done;m++,y=l.next())null!==(y=p(v,r,m,y.value,u))&&(t&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===h?c=y:h.sibling=y,h=y);return t&&v.forEach((function(t){return e(r,t)})),ra&&Kr(r,m),c}return function t(i,a,o,l){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:t:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===_){if(7===c.tag){n(i,c.sibling),(a=r(c,o.props.children)).return=i,i=a;break t}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===O&&Ya(u)===c.type){n(i,c.sibling),(a=r(c,o.props)).ref=Qa(i,c,o),a.return=i,i=a;break t}n(i,c);break}e(i,c),c=c.sibling}o.type===_?((a=Iu(o.props.children,i.mode,l,o.key)).return=i,i=a):((l=Du(o.type,o.key,o.props,null,i.mode,l)).ref=Qa(i,a,o),l.return=i,i=l)}return s(i);case A:t:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(i,a.sibling),(a=r(a,o.children||[])).return=i,i=a;break t}n(i,a);break}e(i,a),a=a.sibling}(a=ju(o,i.mode,l)).return=i,i=a}return s(i);case O:return t(i,a,(c=o._init)(o._payload),l)}if(et(o))return v(i,a,o,l);if(D(o))return m(i,a,o,l);Xa(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(i,a.sibling),(a=r(a,o)).return=i,i=a):(n(i,a),(a=Nu(o,i.mode,l)).return=i,i=a),s(i)):n(i,a)}}var Za=Ja(!0),qa=Ja(!1),Ka={},$a=kr(Ka),to=kr(Ka),eo=kr(Ka);function no(t){if(t===Ka)throw Error(a(174));return t}function io(t,e){switch(Mr(eo,e),Mr(to,t),Mr($a,Ka),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Sr($a),Mr($a,e)}function ro(){Sr($a),Sr(to),Sr(eo)}function ao(t){no(eo.current);var e=no($a.current),n=lt(e,t.type);e!==n&&(Mr(to,t),Mr($a,n))}function oo(t){to.current===t&&(Sr($a),Sr(to))}var so=kr(0);function lo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var uo=[];function co(){for(var t=0;t<uo.length;t++)uo[t]._workInProgressVersionPrimary=null;uo.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,wo=!1,bo=0,xo=0;function Ao(){throw Error(a(321))}function _o(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!si(t[n],e[n]))return!1;return!0}function ko(t,e,n,i,r,o){if(po=o,vo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ho.current=null===t||null===t.memoizedState?ss:ls,t=n(i,r),wo){o=0;do{if(wo=!1,bo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,e.updateQueue=null,ho.current=us,t=n(i,r)}while(wo)}if(ho.current=os,e=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,e)throw Error(a(300));return t}function So(){var t=0!==bo;return bo=0,t}function Mo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=t:go=go.next=t,go}function Eo(){if(null===mo){var t=vo.alternate;t=null!==t?t.memoizedState:null}else t=mo.next;var e=null===go?vo.memoizedState:go.next;if(null!==e)go=e,mo=t;else{if(null===t)throw Error(a(310));t={memoizedState:(mo=t).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=t:go=go.next=t}return go}function Co(t,e){return"function"===typeof e?e(t):e}function Po(t){var e=Eo(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var i=mo,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=s=null,u=null,c=o;do{var h=c.lane;if((po&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=i):u=u.next=f,vo.lanes|=h,Bl|=h}c=c.next}while(null!==c&&c!==o);null===u?s=i:u.next=l,si(i,e.memoizedState)||(bs=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=u,n.lastRenderedState=i}if(null!==(t=n.interleaved)){r=t;do{o=r.lane,vo.lanes|=o,Bl|=o,r=r.next}while(r!==t)}else null===r&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function To(t){var e=Eo(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=t(o,s.action),s=s.next}while(s!==r);si(o,e.memoizedState)||(bs=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function Lo(){}function Oo(t,e){var n=vo,i=Eo(),r=e(),o=!si(i.memoizedState,r);if(o&&(i.memoizedState=r,bs=!0),i=i.queue,Go(Do.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,jo(9,Ro.bind(null,n,i,r,e),void 0,null),null===Tl)throw Error(a(349));0!==(30&po)||zo(n,e,r)}return r}function zo(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=vo.updateQueue)?(e={lastEffect:null,stores:null},vo.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Ro(t,e,n,i){e.value=n,e.getSnapshot=i,Io(e)&&Bo(t)}function Do(t,e,n){return n((function(){Io(e)&&Bo(t)}))}function Io(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!si(t,n)}catch(i){return!0}}function Bo(t){var e=Pa(t,1);null!==e&&iu(e,t,1,-1)}function No(t){var e=Mo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:t},e.queue=t,t=t.dispatch=ns.bind(null,vo,t),[e.memoizedState,t]}function jo(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=vo.updateQueue)?(e={lastEffect:null,stores:null},vo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Fo(){return Eo().memoizedState}function Uo(t,e,n,i){var r=Mo();vo.flags|=t,r.memoizedState=jo(1|e,n,void 0,void 0===i?null:i)}function Ho(t,e,n,i){var r=Eo();i=void 0===i?null:i;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==i&&_o(i,o.deps))return void(r.memoizedState=jo(e,n,a,i))}vo.flags|=t,r.memoizedState=jo(1|e,n,a,i)}function Vo(t,e){return Uo(8390656,8,t,e)}function Go(t,e){return Ho(2048,8,t,e)}function Wo(t,e){return Ho(4,2,t,e)}function Qo(t,e){return Ho(4,4,t,e)}function Xo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Yo(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ho(4,4,Xo.bind(null,e,t),n)}function Jo(){}function Zo(t,e){var n=Eo();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&_o(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function qo(t,e){var n=Eo();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&_o(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Ko(t,e,n){return 0===(21&po)?(t.baseState&&(t.baseState=!1,bs=!0),t.memoizedState=n):(si(n,e)||(n=ve(),vo.lanes|=n,Bl|=n,t.baseState=!0),e)}function $o(t,e){var n=we;we=0!==n&&4>n?n:4,t(!0);var i=fo.transition;fo.transition={};try{t(!1),e()}finally{we=n,fo.transition=i}}function ts(){return Eo().memoizedState}function es(t,e,n){var i=nu(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},is(t))rs(e,n);else if(null!==(n=Ca(t,e,n,i))){iu(n,t,i,eu()),as(n,e,i)}}function ns(t,e,n){var i=nu(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(is(t))rs(e,r);else{var a=t.alternate;if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var o=e.lastRenderedState,s=a(o,n);if(r.hasEagerState=!0,r.eagerState=s,si(s,o)){var l=e.interleaved;return null===l?(r.next=r,Ea(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(u){}null!==(n=Ca(t,e,r,i))&&(iu(n,t,i,r=eu()),as(n,e,i))}}function is(t){var e=t.alternate;return t===vo||null!==e&&e===vo}function rs(t,e){wo=yo=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function as(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ye(t,n)}}var os={readContext:Sa,useCallback:Ao,useContext:Ao,useEffect:Ao,useImperativeHandle:Ao,useInsertionEffect:Ao,useLayoutEffect:Ao,useMemo:Ao,useReducer:Ao,useRef:Ao,useState:Ao,useDebugValue:Ao,useDeferredValue:Ao,useTransition:Ao,useMutableSource:Ao,useSyncExternalStore:Ao,useId:Ao,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(t,e){return Mo().memoizedState=[t,void 0===e?null:e],t},useContext:Sa,useEffect:Vo,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Uo(4194308,4,Xo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Uo(4,2,t,e)},useMemo:function(t,e){var n=Mo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Mo();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=es.bind(null,vo,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},Mo().memoizedState=t},useState:No,useDebugValue:Jo,useDeferredValue:function(t){return Mo().memoizedState=t},useTransition:function(){var t=No(!1),e=t[0];return t=$o.bind(null,t[1]),Mo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=vo,r=Mo();if(ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=e(),null===Tl)throw Error(a(349));0!==(30&po)||zo(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,Vo(Do.bind(null,i,o,t),[t]),i.flags|=2048,jo(9,Ro.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Mo(),e=Tl.identifierPrefix;if(ra){var n=qr;e=":"+e+"R"+(n=(Zr&~(1<<32-oe(Zr)-1)).toString(32)+n),0<(n=bo++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=xo++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ls={readContext:Sa,useCallback:Zo,useContext:Sa,useEffect:Go,useImperativeHandle:Yo,useInsertionEffect:Wo,useLayoutEffect:Qo,useMemo:qo,useReducer:Po,useRef:Fo,useState:function(){return Po(Co)},useDebugValue:Jo,useDeferredValue:function(t){return Ko(Eo(),mo.memoizedState,t)},useTransition:function(){return[Po(Co)[0],Eo().memoizedState]},useMutableSource:Lo,useSyncExternalStore:Oo,useId:ts,unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:Zo,useContext:Sa,useEffect:Go,useImperativeHandle:Yo,useInsertionEffect:Wo,useLayoutEffect:Qo,useMemo:qo,useReducer:To,useRef:Fo,useState:function(){return To(Co)},useDebugValue:Jo,useDeferredValue:function(t){var e=Eo();return null===mo?e.memoizedState=t:Ko(e,mo.memoizedState,t)},useTransition:function(){return[To(Co)[0],Eo().memoizedState]},useMutableSource:Lo,useSyncExternalStore:Oo,useId:ts,unstable_isNewReconciler:!1};function cs(t,e){try{var n="",i=e;do{n+=U(i),i=i.return}while(i);var r=n}catch(a){r="\nError generating stack: "+a.message+"\n"+a.stack}return{value:t,source:e,stack:r,digest:null}}function hs(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function fs(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(t,e,n){(n=za(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Wl||(Wl=!0,Ql=i),fs(0,e)},n}function vs(t,e,n){(n=za(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){fs(0,e)}}var a=t.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,e),"function"!==typeof i&&(null===Xl?Xl=new Set([this]):Xl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ms(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new ds;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=Mu.bind(null,t,e,n),e.then(t,t))}function gs(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ys(t,e,n,i,r){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=za(-1,1)).tag=2,Ra(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var ws=b.ReactCurrentOwner,bs=!1;function xs(t,e,n,i){e.child=null===t?qa(e,null,n,i):Za(e,t.child,n,i)}function As(t,e,n,i,r){n=n.render;var a=e.ref;return ka(e,r),i=ko(t,e,n,i,a,r),n=So(),null===t||bs?(ra&&n&&ta(e),e.flags|=1,xs(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ws(t,e,r))}function _s(t,e,n,i,r){if(null===t){var a=n.type;return"function"!==typeof a||zu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Du(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,ks(t,e,a,i,r))}if(a=t.child,0===(t.lanes&r)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&t.ref===e.ref)return Ws(t,e,r)}return e.flags|=1,(t=Ru(a,i)).ref=e.ref,t.return=e,e.child=t}function ks(t,e,n,i,r){if(null!==t){var a=t.memoizedProps;if(li(a,i)&&t.ref===e.ref){if(bs=!1,e.pendingProps=i=a,0===(t.lanes&r))return e.lanes=t.lanes,Ws(t,e,r);0!==(131072&t.flags)&&(bs=!0)}}return Es(t,e,n,i,r)}function Ss(t,e,n){var i=e.pendingProps,r=i.children,a=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mr(Rl,zl),zl|=n;else{if(0===(1073741824&n))return t=null!==a?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Mr(Rl,zl),zl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==a?a.baseLanes:n,Mr(Rl,zl),zl|=i}else null!==a?(i=a.baseLanes|n,e.memoizedState=null):i=n,Mr(Rl,zl),zl|=i;return xs(t,e,r,n),e.child}function Ms(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Es(t,e,n,i,r){var a=Or(n)?Tr:Cr.current;return a=Lr(e,a),ka(e,r),n=ko(t,e,n,i,a,r),i=So(),null===t||bs?(ra&&i&&ta(e),e.flags|=1,xs(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ws(t,e,r))}function Cs(t,e,n,i,r){if(Or(n)){var a=!0;Ir(e)}else a=!1;if(ka(e,r),null===e.stateNode)Gs(t,e),Va(e,n,i),Wa(e,n,i,r),i=!0;else if(null===t){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Sa(u):u=Lr(e,u=Or(n)?Tr:Cr.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==i||l!==u)&&Ga(e,o,i,u),Ta=!1;var f=e.memoizedState;o.state=f,Ba(e,i,o,r),l=e.memoizedState,s!==i||f!==l||Pr.current||Ta?("function"===typeof c&&(Fa(e,n,c,i),l=e.memoizedState),(s=Ta||Ha(e,n,s,i,f,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=s):("function"===typeof o.componentDidMount&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Oa(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:ma(e.type,s),o.props=u,h=e.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Sa(l):l=Lr(e,l=Or(n)?Tr:Cr.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==l)&&Ga(e,o,i,l),Ta=!1,f=e.memoizedState,o.state=f,Ba(e,i,o,r);var p=e.memoizedState;s!==h||f!==p||Pr.current||Ta?("function"===typeof d&&(Fa(e,n,d,i),p=e.memoizedState),(u=Ta||Ha(e,n,u,i,f,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=u):("function"!==typeof o.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return Ps(t,e,n,i,a,r)}function Ps(t,e,n,i,r,a){Ms(t,e);var o=0!==(128&e.flags);if(!i&&!o)return r&&Br(e,n,!1),Ws(t,e,a);i=e.stateNode,ws.current=e;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&o?(e.child=Za(e,t.child,null,a),e.child=Za(e,null,s,a)):xs(t,e,s,a),e.memoizedState=i.state,r&&Br(e,n,!0),e.child}function Ts(t){var e=t.stateNode;e.pendingContext?Rr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Rr(0,e.context,!1),io(t,e.containerInfo)}function Ls(t,e,n,i,r){return da(),pa(r),e.flags|=256,xs(t,e,n,i),e.child}var Os,zs,Rs,Ds,Is={dehydrated:null,treeContext:null,retryLane:0};function Bs(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ns(t,e,n){var i,r=e.pendingProps,o=so.current,s=!1,l=0!==(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&0!==(2&o)),i?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),Mr(so,1&o),null===t)return ua(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,s?(r=e.mode,s=e.child,l={mode:"hidden",children:l},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Bu(l,r,0,null),t=Iu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Bs(n),e.memoizedState=Is,t):js(e,l));if(null!==(o=t.memoizedState)&&null!==(i=o.dehydrated))return function(t,e,n,i,r,o,s){if(n)return 256&e.flags?(e.flags&=-257,Fs(t,e,s,i=hs(Error(a(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=Bu({mode:"visible",children:i.children},r,0,null),(o=Iu(o,r,s,null)).flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,0!==(1&e.mode)&&Za(e,t.child,null,s),e.child.memoizedState=Bs(s),e.memoizedState=Is,o);if(0===(1&e.mode))return Fs(t,e,s,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Fs(t,e,s,i=hs(o=Error(a(419)),i,void 0))}if(l=0!==(s&t.childLanes),bs||l){if(null!==(i=Tl)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|s))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Pa(t,r),iu(i,t,r,-1))}return mu(),Fs(t,e,s,i=hs(Error(a(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=Cu.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,ia=ur(r.nextSibling),na=e,ra=!0,aa=null,null!==t&&(Xr[Yr++]=Zr,Xr[Yr++]=qr,Xr[Yr++]=Jr,Zr=t.id,qr=t.overflow,Jr=e),e=js(e,i.children),e.flags|=4096,e)}(t,e,l,r,i,o,n);if(s){s=r.fallback,l=e.mode,i=(o=t.child).sibling;var u={mode:"hidden",children:r.children};return 0===(1&l)&&e.child!==o?((r=e.child).childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ru(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==i?s=Ru(i,s):(s=Iu(s,l,n,null)).flags|=2,s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,l=null===(l=t.child.memoizedState)?Bs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=Is,r}return t=(s=t.child).sibling,r=Ru(s,{mode:"visible",children:r.children}),0===(1&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function js(t,e){return(e=Bu({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Fs(t,e,n,i){return null!==i&&pa(i),Za(e,t.child,null,n),(t=js(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Us(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),_a(t.return,e,n)}function Hs(t,e,n,i,r){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function Vs(t,e,n){var i=e.pendingProps,r=i.revealOrder,a=i.tail;if(xs(t,e,i.children,n),0!==(2&(i=so.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Us(t,n,e);else if(19===t.tag)Us(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Mr(so,i),0===(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===lo(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Hs(e,!1,r,n,a);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===lo(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Hs(e,!0,n,null,a);break;case"together":Hs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gs(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ws(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Bl|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Ru(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ru(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Qs(t,e){if(!ra)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Xs(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Ys(t,e,n){var i=e.pendingProps;switch(ea(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(e),null;case 1:case 17:return Or(e.type)&&zr(),Xs(e),null;case 3:return i=e.stateNode,ro(),Sr(Pr),Sr(Cr),co(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(ha(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==aa&&(su(aa),aa=null))),zs(t,e),Xs(e),null;case 5:oo(e);var r=no(eo.current);if(n=e.type,null!==t&&null!=e.stateNode)Rs(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(a(166));return Xs(e),null}if(t=no($a.current),ha(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[fr]=e,i[dr]=o,t=0!==(1&e.mode),n){case"dialog":ji("cancel",i),ji("close",i);break;case"iframe":case"object":case"embed":ji("load",i);break;case"video":case"audio":for(r=0;r<Di.length;r++)ji(Di[r],i);break;case"source":ji("error",i);break;case"img":case"image":case"link":ji("error",i),ji("load",i);break;case"details":ji("toggle",i);break;case"input":Z(i,o),ji("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},ji("invalid",i);break;case"textarea":rt(i,o),ji("invalid",i)}for(var l in yt(n,o),r=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?i.textContent!==u&&(!0!==o.suppressHydrationWarning&&Ki(i.textContent,u,t),r=["children",u]):"number"===typeof u&&i.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Ki(i.textContent,u,t),r=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&ji("scroll",i)}switch(n){case"input":Q(i),$(i,o,!0);break;case"textarea":Q(i),ot(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=$i)}i=r,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[fr]=e,t[dr]=i,Os(t,e,!1,!1),e.stateNode=t;t:{switch(l=wt(n,i),n){case"dialog":ji("cancel",t),ji("close",t),r=i;break;case"iframe":case"object":case"embed":ji("load",t),r=i;break;case"video":case"audio":for(r=0;r<Di.length;r++)ji(Di[r],t);r=i;break;case"source":ji("error",t),r=i;break;case"img":case"image":case"link":ji("error",t),ji("load",t),r=i;break;case"details":ji("toggle",t),r=i;break;case"input":Z(t,i),r=J(t,i),ji("invalid",t);break;case"option":default:r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=B({},i,{value:void 0}),ji("invalid",t);break;case"textarea":rt(t,i),r=it(t,i),ji("invalid",t)}for(o in yt(n,r),u=r)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?mt(t,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&ht(t,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&ft(t,c):"number"===typeof c&&ft(t,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&ji("scroll",t):null!=c&&w(t,o,c,l))}switch(n){case"input":Q(t),$(t,i,!1);break;case"textarea":Q(t),ot(t);break;case"option":null!=i.value&&t.setAttribute("value",""+G(i.value));break;case"select":t.multiple=!!i.multiple,null!=(o=i.value)?nt(t,!!i.multiple,o,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=$i)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Xs(e),null;case 6:if(t&&null!=e.stateNode)Ds(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(a(166));if(n=no(eo.current),no($a.current),ha(e)){if(i=e.stateNode,n=e.memoizedProps,i[fr]=e,(o=i.nodeValue!==n)&&null!==(t=na))switch(t.tag){case 3:Ki(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Ki(i.nodeValue,n,0!==(1&t.mode))}o&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[fr]=e,e.stateNode=i}return Xs(e),null;case 13:if(Sr(so),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ra&&null!==ia&&0!==(1&e.mode)&&0===(128&e.flags))fa(),da(),e.flags|=98560,o=!1;else if(o=ha(e),null!==i&&null!==i.dehydrated){if(null===t){if(!o)throw Error(a(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fr]=e}else da(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Xs(e),o=!1}else null!==aa&&(su(aa),aa=null),o=!0;if(!o)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((i=null!==i)!==(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&so.current)?0===Dl&&(Dl=3):mu())),null!==e.updateQueue&&(e.flags|=4),Xs(e),null);case 4:return ro(),zs(t,e),null===t&&Hi(e.stateNode.containerInfo),Xs(e),null;case 10:return Aa(e.type._context),Xs(e),null;case 19:if(Sr(so),null===(o=e.memoizedState))return Xs(e),null;if(i=0!==(128&e.flags),null===(l=o.rendering))if(i)Qs(o,!1);else{if(0!==Dl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=lo(t))){for(e.flags|=128,Qs(o,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Mr(so,1&so.current|2),e.child}t=t.sibling}null!==o.tail&&qt()>Vl&&(e.flags|=128,i=!0,Qs(o,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=lo(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Qs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ra)return Xs(e),null}else 2*qt()-o.renderingStartTime>Vl&&1073741824!==n&&(e.flags|=128,i=!0,Qs(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=o.last)?n.sibling=l:e.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=qt(),e.sibling=null,n=so.current,Mr(so,i?1&n|2:1&n),e):(Xs(e),null);case 22:case 23:return fu(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&zl)&&(Xs(e),6&e.subtreeFlags&&(e.flags|=8192)):Xs(e),null;case 24:case 25:return null}throw Error(a(156,e.tag))}function Js(t,e){switch(ea(e),e.tag){case 1:return Or(e.type)&&zr(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return ro(),Sr(Pr),Sr(Cr),co(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return oo(e),null;case 13:if(Sr(so),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(a(340));da()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Sr(so),null;case 4:return ro(),null;case 10:return Aa(e.type._context),null;case 22:case 23:return fu(),null;default:return null}}Os=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zs=function(){},Rs=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,no($a.current);var a,o=null;switch(n){case"input":r=J(t,r),i=J(t,i),o=[];break;case"select":r=B({},r,{value:void 0}),i=B({},i,{value:void 0}),o=[];break;case"textarea":r=it(t,r),i=it(t,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(t.onclick=$i)}for(c in yt(n,i),n=null,r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in i){var u=i[c];if(l=null!=r?r[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&ji("scroll",t),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}},Ds=function(t,e,n,i){n!==i&&(e.flags|=4)};var Zs=!1,qs=!1,Ks="function"===typeof WeakSet?WeakSet:Set,$s=null;function tl(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Su(t,e,i)}else n.current=null}function el(t,e,n){try{n()}catch(i){Su(t,e,i)}}var nl=!1;function il(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&t)===t){var a=r.destroy;r.destroy=void 0,void 0!==a&&el(e,n,a)}r=r.next}while(r!==i)}}function rl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function al(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[fr],delete e[dr],delete e[vr],delete e[mr],delete e[gr])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sl(t){return 5===t.tag||3===t.tag||4===t.tag}function ll(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||sl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ul(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=$i));else if(4!==i&&null!==(t=t.child))for(ul(t,e,n),t=t.sibling;null!==t;)ul(t,e,n),t=t.sibling}function cl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}var hl=null,fl=!1;function dl(t,e,n){for(n=n.child;null!==n;)pl(t,e,n),n=n.sibling}function pl(t,e,n){if(ae&&"function"===typeof ae.onCommitFiberUnmount)try{ae.onCommitFiberUnmount(re,n)}catch(s){}switch(n.tag){case 5:qs||tl(n,e);case 6:var i=hl,r=fl;hl=null,dl(t,e,n),fl=r,null!==(hl=i)&&(fl?(t=hl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(fl?(t=hl,n=n.stateNode,8===t.nodeType?lr(t.parentNode,n):1===t.nodeType&&lr(t,n),He(t)):lr(hl,n.stateNode));break;case 4:i=hl,r=fl,hl=n.stateNode.containerInfo,fl=!0,dl(t,e,n),hl=i,fl=r;break;case 0:case 11:case 14:case 15:if(!qs&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var a=r,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,e,o),r=r.next}while(r!==i)}dl(t,e,n);break;case 1:if(!qs&&(tl(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){Su(n,e,s)}dl(t,e,n);break;case 21:dl(t,e,n);break;case 22:1&n.mode?(qs=(i=qs)||null!==n.memoizedState,dl(t,e,n),qs=i):dl(t,e,n);break;default:dl(t,e,n)}}function vl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Ks),e.forEach((function(e){var i=Pu.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}function ml(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,s=e,l=s;t:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,fl=!1;break t;case 3:case 4:hl=l.stateNode.containerInfo,fl=!0;break t}l=l.return}if(null===hl)throw Error(a(160));pl(o,s,r),hl=null,fl=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(c){Su(r,e,c)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)gl(e,t),e=e.sibling}function gl(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ml(e,t),yl(t),4&i){try{il(3,t,t.return),rl(3,t)}catch(m){Su(t,t.return,m)}try{il(5,t,t.return)}catch(m){Su(t,t.return,m)}}break;case 1:ml(e,t),yl(t),512&i&&null!==n&&tl(n,n.return);break;case 5:if(ml(e,t),yl(t),512&i&&null!==n&&tl(n,n.return),32&t.flags){var r=t.stateNode;try{ft(r,"")}catch(m){Su(t,t.return,m)}}if(4&i&&null!=(r=t.stateNode)){var o=t.memoizedProps,s=null!==n?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&q(r,o),wt(l,s);var c=wt(l,o);for(s=0;s<u.length;s+=2){var h=u[s],f=u[s+1];"style"===h?mt(r,f):"dangerouslySetInnerHTML"===h?ht(r,f):"children"===h?ft(r,f):w(r,h,f,c)}switch(l){case"input":K(r,o);break;case"textarea":at(r,o);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?nt(r,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?nt(r,!!o.multiple,o.defaultValue,!0):nt(r,!!o.multiple,o.multiple?[]:"",!1))}r[dr]=o}catch(m){Su(t,t.return,m)}}break;case 6:if(ml(e,t),yl(t),4&i){if(null===t.stateNode)throw Error(a(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(m){Su(t,t.return,m)}}break;case 3:if(ml(e,t),yl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{He(e.containerInfo)}catch(m){Su(t,t.return,m)}break;case 4:default:ml(e,t),yl(t);break;case 13:ml(e,t),yl(t),8192&(r=t.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Hl=qt())),4&i&&vl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(qs=(c=qs)||h,ml(e,t),qs=c):ml(e,t),yl(t),8192&i){if(c=null!==t.memoizedState,(t.stateNode.isHidden=c)&&!h&&0!==(1&t.mode))for($s=t,h=t.child;null!==h;){for(f=$s=h;null!==$s;){switch(p=(d=$s).child,d.tag){case 0:case 11:case 14:case 15:il(4,d,d.return);break;case 1:tl(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){i=d,n=d.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){Su(i,n,m)}}break;case 5:tl(d,d.return);break;case 22:if(null!==d.memoizedState){Al(f);continue}}null!==p?(p.return=d,$s=p):Al(f)}h=h.sibling}t:for(h=null,f=t;;){if(5===f.tag){if(null===h){h=f;try{r=f.stateNode,c?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=vt("display",s))}catch(m){Su(t,t.return,m)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Su(t,t.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===t)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===t)break t;for(;null===f.sibling;){if(null===f.return||f.return===t)break t;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(e,t),yl(t),4&i&&vl(t);case 21:}}function yl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(sl(n)){var i=n;break t}n=n.return}throw Error(a(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(ft(r,""),i.flags&=-33),cl(t,ll(t),r);break;case 3:case 4:var o=i.stateNode.containerInfo;ul(t,ll(t),o);break;default:throw Error(a(161))}}catch(s){Su(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function wl(t,e,n){$s=t,bl(t,e,n)}function bl(t,e,n){for(var i=0!==(1&t.mode);null!==$s;){var r=$s,a=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||Zs;if(!o){var s=r.alternate,l=null!==s&&null!==s.memoizedState||qs;s=Zs;var u=qs;if(Zs=o,(qs=l)&&!u)for($s=r;null!==$s;)l=(o=$s).child,22===o.tag&&null!==o.memoizedState?_l(r):null!==l?(l.return=o,$s=l):_l(r);for(;null!==a;)$s=a,bl(a,e,n),a=a.sibling;$s=r,Zs=s,qs=u}xl(t)}else 0!==(8772&r.subtreeFlags)&&null!==a?(a.return=r,$s=a):xl(t)}}function xl(t){for(;null!==$s;){var e=$s;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:qs||rl(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!qs)if(null===n)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:ma(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&Na(e,o,i);break;case 3:var s=e.updateQueue;if(null!==s){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Na(e,s,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var c=e.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&He(f)}}}break;default:throw Error(a(163))}qs||512&e.flags&&al(e)}catch(d){Su(e,e.return,d)}}if(e===t){$s=null;break}if(null!==(n=e.sibling)){n.return=e.return,$s=n;break}$s=e.return}}function Al(t){for(;null!==$s;){var e=$s;if(e===t){$s=null;break}var n=e.sibling;if(null!==n){n.return=e.return,$s=n;break}$s=e.return}}function _l(t){for(;null!==$s;){var e=$s;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rl(4,e)}catch(l){Su(e,n,l)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var r=e.return;try{i.componentDidMount()}catch(l){Su(e,r,l)}}var a=e.return;try{al(e)}catch(l){Su(e,a,l)}break;case 5:var o=e.return;try{al(e)}catch(l){Su(e,o,l)}}}catch(l){Su(e,e.return,l)}if(e===t){$s=null;break}var s=e.sibling;if(null!==s){s.return=e.return,$s=s;break}$s=e.return}}var kl,Sl=Math.ceil,Ml=b.ReactCurrentDispatcher,El=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Pl=0,Tl=null,Ll=null,Ol=0,zl=0,Rl=kr(0),Dl=0,Il=null,Bl=0,Nl=0,jl=0,Fl=null,Ul=null,Hl=0,Vl=1/0,Gl=null,Wl=!1,Ql=null,Xl=null,Yl=!1,Jl=null,Zl=0,ql=0,Kl=null,$l=-1,tu=0;function eu(){return 0!==(6&Pl)?qt():-1!==$l?$l:$l=qt()}function nu(t){return 0===(1&t.mode)?1:0!==(2&Pl)&&0!==Ol?Ol&-Ol:null!==va.transition?(0===tu&&(tu=ve()),tu):0!==(t=we)?t:t=void 0===(t=window.event)?16:Ze(t.type)}function iu(t,e,n,i){if(50<ql)throw ql=0,Kl=null,Error(a(185));ge(t,n,i),0!==(2&Pl)&&t===Tl||(t===Tl&&(0===(2&Pl)&&(Nl|=n),4===Dl&&lu(t,Ol)),ru(t,i),1===n&&0===Pl&&0===(1&e.mode)&&(Vl=qt()+500,jr&&Hr()))}function ru(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-oe(a),s=1<<o,l=r[o];-1===l?0!==(s&n)&&0===(s&i)||(r[o]=de(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}(t,e);var i=fe(t,t===Tl?Ol:0);if(0===i)null!==n&&Yt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Yt(n),1===e)0===t.tag?function(t){jr=!0,Ur(t)}(uu.bind(null,t)):Ur(uu.bind(null,t)),or((function(){0===(6&Pl)&&Hr()})),n=null;else{switch(be(i)){case 1:n=$t;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=ie}n=Tu(n,au.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function au(t,e){if($l=-1,tu=0,0!==(6&Pl))throw Error(a(327));var n=t.callbackNode;if(_u()&&t.callbackNode!==n)return null;var i=fe(t,t===Tl?Ol:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||e)e=gu(t,i);else{e=i;var r=Pl;Pl|=2;var o=vu();for(Tl===t&&Ol===e||(Gl=null,Vl=qt()+500,du(t,e));;)try{wu();break}catch(l){pu(t,l)}xa(),Ml.current=o,Pl=r,null!==Ll?e=0:(Tl=null,Ol=0,e=Dl)}if(0!==e){if(2===e&&(0!==(r=pe(t))&&(i=r,e=ou(t,r))),1===e)throw n=Il,du(t,0),lu(t,i),ru(t,qt()),n;if(6===e)lu(t,i);else{if(r=t.current.alternate,0===(30&i)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!si(a(),r))return!1}catch(s){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=gu(t,i))&&(0!==(o=pe(t))&&(i=o,e=ou(t,o))),1===e))throw n=Il,du(t,0),lu(t,i),ru(t,qt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(a(345));case 2:case 5:Au(t,Ul,Gl);break;case 3:if(lu(t,i),(130023424&i)===i&&10<(e=Hl+500-qt())){if(0!==fe(t,0))break;if(((r=t.suspendedLanes)&i)!==i){eu(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ir(Au.bind(null,t,Ul,Gl),e);break}Au(t,Ul,Gl);break;case 4:if(lu(t,i),(4194240&i)===i)break;for(e=t.eventTimes,r=-1;0<i;){var s=31-oe(i);o=1<<s,(s=e[s])>r&&(r=s),i&=~o}if(i=r,10<(i=(120>(i=qt()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Sl(i/1960))-i)){t.timeoutHandle=ir(Au.bind(null,t,Ul,Gl),i);break}Au(t,Ul,Gl);break;default:throw Error(a(329))}}}return ru(t,qt()),t.callbackNode===n?au.bind(null,t):null}function ou(t,e){var n=Fl;return t.current.memoizedState.isDehydrated&&(du(t,e).flags|=256),2!==(t=gu(t,e))&&(e=Ul,Ul=n,null!==e&&su(e)),t}function su(t){null===Ul?Ul=t:Ul.push.apply(Ul,t)}function lu(t,e){for(e&=~jl,e&=~Nl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oe(e),i=1<<n;t[n]=-1,e&=~i}}function uu(t){if(0!==(6&Pl))throw Error(a(327));_u();var e=fe(t,0);if(0===(1&e))return ru(t,qt()),null;var n=gu(t,e);if(0!==t.tag&&2===n){var i=pe(t);0!==i&&(e=i,n=ou(t,i))}if(1===n)throw n=Il,du(t,0),lu(t,e),ru(t,qt()),n;if(6===n)throw Error(a(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Au(t,Ul,Gl),ru(t,qt()),null}function cu(t,e){var n=Pl;Pl|=1;try{return t(e)}finally{0===(Pl=n)&&(Vl=qt()+500,jr&&Hr())}}function hu(t){null!==Jl&&0===Jl.tag&&0===(6&Pl)&&_u();var e=Pl;Pl|=1;var n=Cl.transition,i=we;try{if(Cl.transition=null,we=1,t)return t()}finally{we=i,Cl.transition=n,0===(6&(Pl=e))&&Hr()}}function fu(){zl=Rl.current,Sr(Rl)}function du(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,rr(n)),null!==Ll)for(n=Ll.return;null!==n;){var i=n;switch(ea(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&zr();break;case 3:ro(),Sr(Pr),Sr(Cr),co();break;case 5:oo(i);break;case 4:ro();break;case 13:case 19:Sr(so);break;case 10:Aa(i.type._context);break;case 22:case 23:fu()}n=n.return}if(Tl=t,Ll=t=Ru(t.current,null),Ol=zl=e,Dl=0,Il=null,jl=Nl=Bl=0,Ul=Fl=null,null!==Ma){for(e=0;e<Ma.length;e++)if(null!==(i=(n=Ma[e]).interleaved)){n.interleaved=null;var r=i.next,a=n.pending;if(null!==a){var o=a.next;a.next=r,i.next=o}n.pending=i}Ma=null}return t}function pu(t,e){for(;;){var n=Ll;try{if(xa(),ho.current=os,yo){for(var i=vo.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}yo=!1}if(po=0,go=mo=vo=null,wo=!1,bo=0,El.current=null,null===n||null===n.return){Dl=1,Il=e,Ll=null;break}t:{var o=t,s=n.return,l=n,u=e;if(e=Ol,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,e),1&p.mode&&ms(o,c,e),u=c;var v=(e=p).updateQueue;if(null===v){var m=new Set;m.add(u),e.updateQueue=m}else v.add(u);break t}if(0===(1&e)){ms(o,c,e),mu();break t}u=Error(a(426))}else if(ra&&1&l.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,l,0,e),pa(cs(u,l));break t}}o=u=cs(u,l),4!==Dl&&(Dl=2),null===Fl?Fl=[o]:Fl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,Ia(o,ps(0,u,e));break t;case 1:l=u;var y=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Xl||!Xl.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e,Ia(o,vs(o,l,e));break t}}o=o.return}while(null!==o)}xu(n)}catch(b){e=b,Ll===n&&null!==n&&(Ll=n=n.return);continue}break}}function vu(){var t=Ml.current;return Ml.current=os,null===t?os:t}function mu(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Tl||0===(268435455&Bl)&&0===(268435455&Nl)||lu(Tl,Ol)}function gu(t,e){var n=Pl;Pl|=2;var i=vu();for(Tl===t&&Ol===e||(Gl=null,du(t,e));;)try{yu();break}catch(r){pu(t,r)}if(xa(),Pl=n,Ml.current=i,null!==Ll)throw Error(a(261));return Tl=null,Ol=0,Dl}function yu(){for(;null!==Ll;)bu(Ll)}function wu(){for(;null!==Ll&&!Jt();)bu(Ll)}function bu(t){var e=kl(t.alternate,t,zl);t.memoizedProps=t.pendingProps,null===e?xu(t):Ll=e,El.current=null}function xu(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Ys(n,e,zl)))return void(Ll=n)}else{if(null!==(n=Js(n,e)))return n.flags&=32767,void(Ll=n);if(null===t)return Dl=6,void(Ll=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Ll=e);Ll=e=t}while(null!==e);0===Dl&&(Dl=5)}function Au(t,e,n){var i=we,r=Cl.transition;try{Cl.transition=null,we=1,function(t,e,n,i){do{_u()}while(null!==Jl);if(0!==(6&Pl))throw Error(a(327));n=t.finishedWork;var r=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-oe(n),a=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~a}}(t,o),t===Tl&&(Ll=Tl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Tu(ee,(function(){return _u(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var s=we;we=1;var l=Pl;Pl|=4,El.current=null,function(t,e){if(tr=Ge,di(t=fi())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break t}var s=0,l=-1,u=-1,c=0,h=0,f=t,d=null;e:for(;;){for(var p;f!==n||0!==r&&3!==f.nodeType||(l=s+r),f!==o||0!==i&&3!==f.nodeType||(u=s+i),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===t)break e;if(d===n&&++c===r&&(l=s),d===o&&++h===i&&(u=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(er={focusedElem:t,selectionRange:n},Ge=!1,$s=e;null!==$s;)if(t=(e=$s).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,$s=t;else for(;null!==$s;){e=$s;try{var v=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:ma(e.type,m),g);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(x){Su(e,e.return,x)}if(null!==(t=e.sibling)){t.return=e.return,$s=t;break}$s=e.return}v=nl,nl=!1}(t,n),gl(n,t),pi(er),Ge=!!tr,er=tr=null,t.current=n,wl(n,t,r),Zt(),Pl=l,we=s,Cl.transition=o}else t.current=n;if(Yl&&(Yl=!1,Jl=t,Zl=r),o=t.pendingLanes,0===o&&(Xl=null),function(t){if(ae&&"function"===typeof ae.onCommitFiberRoot)try{ae.onCommitFiberRoot(re,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),ru(t,qt()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Wl)throw Wl=!1,t=Ql,Ql=null,t;0!==(1&Zl)&&0!==t.tag&&_u(),o=t.pendingLanes,0!==(1&o)?t===Kl?ql++:(ql=0,Kl=t):ql=0,Hr()}(t,e,n,i)}finally{Cl.transition=r,we=i}return null}function _u(){if(null!==Jl){var t=be(Zl),e=Cl.transition,n=we;try{if(Cl.transition=null,we=16>t?16:t,null===Jl)var i=!1;else{if(t=Jl,Jl=null,Zl=0,0!==(6&Pl))throw Error(a(331));var r=Pl;for(Pl|=4,$s=t.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for($s=c;null!==$s;){var h=$s;switch(h.tag){case 0:case 11:case 15:il(8,h,o)}var f=h.child;if(null!==f)f.return=h,$s=f;else for(;null!==$s;){var d=(h=$s).sibling,p=h.return;if(ol(h),h===c){$s=null;break}if(null!==d){d.return=p,$s=d;break}$s=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else t:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:il(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$s=y;break t}$s=o.return}}var w=t.current;for($s=w;null!==$s;){var b=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,$s=b;else t:for(s=w;null!==$s;){if(0!==(2048&(l=$s).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(A){Su(l,l.return,A)}if(l===s){$s=null;break t}var x=l.sibling;if(null!==x){x.return=l.return,$s=x;break t}$s=l.return}}if(Pl=r,Hr(),ae&&"function"===typeof ae.onPostCommitFiberRoot)try{ae.onPostCommitFiberRoot(re,t)}catch(A){}i=!0}return i}finally{we=n,Cl.transition=e}}return!1}function ku(t,e,n){t=Ra(t,e=ps(0,e=cs(n,e),1),1),e=eu(),null!==t&&(ge(t,1,e),ru(t,e))}function Su(t,e,n){if(3===t.tag)ku(t,t,n);else for(;null!==e;){if(3===e.tag){ku(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Xl||!Xl.has(i))){e=Ra(e,t=vs(e,t=cs(n,t),1),1),t=eu(),null!==e&&(ge(e,1,t),ru(e,t));break}}e=e.return}}function Mu(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=eu(),t.pingedLanes|=t.suspendedLanes&n,Tl===t&&(Ol&n)===n&&(4===Dl||3===Dl&&(130023424&Ol)===Ol&&500>qt()-Hl?du(t,0):jl|=n),ru(t,e)}function Eu(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ce,0===(130023424&(ce<<=1))&&(ce=4194304)));var n=eu();null!==(t=Pa(t,e))&&(ge(t,e,n),ru(t,n))}function Cu(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Eu(t,n)}function Pu(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(a(314))}null!==i&&i.delete(e),Eu(t,n)}function Tu(t,e){return Xt(t,e)}function Lu(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(t,e,n,i){return new Lu(t,e,n,i)}function zu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ru(t,e){var n=t.alternate;return null===n?((n=Ou(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Du(t,e,n,i,r,o){var s=2;if(i=t,"function"===typeof t)zu(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case _:return Iu(n.children,r,o,e);case k:s=8,r|=8;break;case S:return(t=Ou(12,n,e,2|r)).elementType=S,t.lanes=o,t;case P:return(t=Ou(13,n,e,r)).elementType=P,t.lanes=o,t;case T:return(t=Ou(19,n,e,r)).elementType=T,t.lanes=o,t;case z:return Bu(n,r,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case M:s=10;break t;case E:s=9;break t;case C:s=11;break t;case L:s=14;break t;case O:s=16,i=null;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Ou(s,n,e,r)).elementType=t,e.type=i,e.lanes=o,e}function Iu(t,e,n,i){return(t=Ou(7,t,i,e)).lanes=n,t}function Bu(t,e,n,i){return(t=Ou(22,t,i,e)).elementType=z,t.lanes=n,t.stateNode={isHidden:!1},t}function Nu(t,e,n){return(t=Ou(6,t,null,e)).lanes=n,t}function ju(t,e,n){return(e=Ou(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fu(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uu(t,e,n,i,r,a,o,s,l){return t=new Fu(t,e,n,s,l),1===e?(e=1,!0===a&&(e|=8)):e=0,a=Ou(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(a),t}function Hu(t){if(!t)return Er;t:{if(Ht(t=t._reactInternals)!==t||1!==t.tag)throw Error(a(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Or(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(a(171))}if(1===t.tag){var n=t.type;if(Or(n))return Dr(t,n,e)}return e}function Vu(t,e,n,i,r,a,o,s,l){return(t=Uu(n,i,!0,t,0,a,0,s,l)).context=Hu(null),n=t.current,(a=za(i=eu(),r=nu(n))).callback=void 0!==e&&null!==e?e:null,Ra(n,a,r),t.current.lanes=r,ge(t,r,i),ru(t,i),t}function Gu(t,e,n,i){var r=e.current,a=eu(),o=nu(r);return n=Hu(n),null===e.context?e.context=n:e.pendingContext=n,(e=za(a,o)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=Ra(r,e,o))&&(iu(t,r,o,a),Da(t,r,o)),o}function Wu(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Qu(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Xu(t,e){Qu(t,e),(t=t.alternate)&&Qu(t,e)}kl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Pr.current)bs=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return bs=!1,function(t,e,n){switch(e.tag){case 3:Ts(e),da();break;case 5:ao(e);break;case 1:Or(e.type)&&Ir(e);break;case 4:io(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Mr(ga,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(Mr(so,1&so.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Ns(t,e,n):(Mr(so,1&so.current),null!==(t=Ws(t,e,n))?t.sibling:null);Mr(so,1&so.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return Vs(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Mr(so,so.current),i)break;return null;case 22:case 23:return e.lanes=0,Ss(t,e,n)}return Ws(t,e,n)}(t,e,n);bs=0!==(131072&t.flags)}else bs=!1,ra&&0!==(1048576&e.flags)&&$r(e,Qr,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Gs(t,e),t=e.pendingProps;var r=Lr(e,Cr.current);ka(e,n),r=ko(null,e,i,t,r,n);var o=So();return e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Or(i)?(o=!0,Ir(e)):o=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,La(e),r.updater=Ua,e.stateNode=r,r._reactInternals=e,Wa(e,i,t,n),e=Ps(null,e,i,!0,o,n)):(e.tag=0,ra&&o&&ta(e),xs(null,e,r,n),e=e.child),e;case 16:i=e.elementType;t:{switch(Gs(t,e),t=e.pendingProps,i=(r=i._init)(i._payload),e.type=i,r=e.tag=function(t){if("function"===typeof t)return zu(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===C)return 11;if(t===L)return 14}return 2}(i),t=ma(i,t),r){case 0:e=Es(null,e,i,t,n);break t;case 1:e=Cs(null,e,i,t,n);break t;case 11:e=As(null,e,i,t,n);break t;case 14:e=_s(null,e,i,ma(i.type,t),n);break t}throw Error(a(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,Es(t,e,i,r=e.elementType===i?r:ma(i,r),n);case 1:return i=e.type,r=e.pendingProps,Cs(t,e,i,r=e.elementType===i?r:ma(i,r),n);case 3:t:{if(Ts(e),null===t)throw Error(a(387));i=e.pendingProps,r=(o=e.memoizedState).element,Oa(t,e),Ba(e,i,null,n);var s=e.memoizedState;if(i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Ls(t,e,i,n,r=cs(Error(a(423)),e));break t}if(i!==r){e=Ls(t,e,i,n,r=cs(Error(a(424)),e));break t}for(ia=ur(e.stateNode.containerInfo.firstChild),na=e,ra=!0,aa=null,n=qa(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),i===r){e=Ws(t,e,n);break t}xs(t,e,i,n)}e=e.child}return e;case 5:return ao(e),null===t&&ua(e),i=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,s=r.children,nr(i,r)?s=null:null!==o&&nr(i,o)&&(e.flags|=32),Ms(t,e),xs(t,e,s,n),e.child;case 6:return null===t&&ua(e),null;case 13:return Ns(t,e,n);case 4:return io(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=Za(e,null,i,n):xs(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,As(t,e,i,r=e.elementType===i?r:ma(i,r),n);case 7:return xs(t,e,e.pendingProps,n),e.child;case 8:case 12:return xs(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,s=r.value,Mr(ga,i._currentValue),i._currentValue=s,null!==o)if(si(o.value,s)){if(o.children===r.children&&!Pr.current){e=Ws(t,e,n);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===o.tag){(u=za(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),_a(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),_a(s,n,e),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,ka(e,n),i=i(r=Sa(r)),e.flags|=1,xs(t,e,i,n),e.child;case 14:return r=ma(i=e.type,e.pendingProps),_s(t,e,i,r=ma(i.type,r),n);case 15:return ks(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ma(i,r),Gs(t,e),e.tag=1,Or(i)?(t=!0,Ir(e)):t=!1,ka(e,n),Va(e,i,r),Wa(e,i,r,n),Ps(null,e,i,!0,t,n);case 19:return Vs(t,e,n);case 22:return Ss(t,e,n)}throw Error(a(156,e.tag))};var Yu="function"===typeof reportError?reportError:function(t){console.error(t)};function Ju(t){this._internalRoot=t}function Zu(t){this._internalRoot=t}function qu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Ku(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function $u(){}function tc(t,e,n,i,r){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof r){var s=r;r=function(){var t=Wu(o);s.call(t)}}Gu(e,o,t,r)}else o=function(t,e,n,i,r){if(r){if("function"===typeof i){var a=i;i=function(){var t=Wu(o);a.call(t)}}var o=Vu(e,i,t,0,null,!1,0,"",$u);return t._reactRootContainer=o,t[pr]=o.current,Hi(8===t.nodeType?t.parentNode:t),hu(),o}for(;r=t.lastChild;)t.removeChild(r);if("function"===typeof i){var s=i;i=function(){var t=Wu(l);s.call(t)}}var l=Uu(t,0,!1,null,0,!1,0,"",$u);return t._reactRootContainer=l,t[pr]=l.current,Hi(8===t.nodeType?t.parentNode:t),hu((function(){Gu(e,l,n,i)})),l}(n,e,t,r,i);return Wu(o)}Zu.prototype.render=Ju.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(a(409));Gu(t,e,null,null)},Zu.prototype.unmount=Ju.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;hu((function(){Gu(null,t,null,null)})),e[pr]=null}},Zu.prototype.unstable_scheduleHydration=function(t){if(t){var e=ke();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ze.length&&0!==e&&e<ze[n].priority;n++);ze.splice(n,0,t),0===n&&Be(t)}},xe=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ye(e,1|n),ru(e,qt()),0===(6&Pl)&&(Vl=qt()+500,Hr()))}break;case 13:hu((function(){var e=Pa(t,1);if(null!==e){var n=eu();iu(e,t,1,n)}})),Xu(t,1)}},Ae=function(t){if(13===t.tag){var e=Pa(t,134217728);if(null!==e)iu(e,t,134217728,eu());Xu(t,134217728)}},_e=function(t){if(13===t.tag){var e=nu(t),n=Pa(t,e);if(null!==n)iu(n,t,e,eu());Xu(t,e)}},ke=function(){return we},Se=function(t,e){var n=we;try{return we=t,e()}finally{we=n}},At=function(t,e,n){switch(e){case"input":if(K(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=xr(i);if(!r)throw Error(a(90));X(i),K(i,r)}}}break;case"textarea":at(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Ct=cu,Pt=hu;var ec={usingClientEntryPoint:!1,Events:[wr,br,xr,Mt,Et,cu]},nc={findFiberByHostInstance:yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ic={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Wt(t))?null:t.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{re=rc.inject(ic),ae=rc}catch(ct){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qu(e))throw Error(a(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!qu(t))throw Error(a(299));var n=!1,i="",r=Yu;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Uu(t,1,!1,null,0,n,0,i,r),t[pr]=e.current,Hi(8===t.nodeType?t.parentNode:t),new Ju(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw t=Object.keys(t).join(","),Error(a(268,t))}return t=null===(t=Wt(e))?null:t.stateNode},e.flushSync=function(t){return hu(t)},e.hydrate=function(t,e,n){if(!Ku(e))throw Error(a(200));return tc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!qu(t))throw Error(a(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",s=Yu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),e=Vu(e,null,t,1,null!=n?n:null,r,0,o,s),t[pr]=e.current,Hi(t),i)for(t=0;t<i.length;t++)r=(r=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Zu(e)},e.render=function(t,e,n){if(!Ku(e))throw Error(a(200));return tc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Ku(t))throw Error(a(40));return!!t._reactRootContainer&&(hu((function(){tc(null,null,t,!1,(function(){t._reactRootContainer=null,t[pr]=null}))})),!0)},e.unstable_batchedUpdates=cu,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Ku(n))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return tc(t,e,n,!1,i)},e.version="18.2.0-next-9e3b772b8-20220608"},1250:function(t,e,n){"use strict";var i=n(4164);e.createRoot=i.createRoot,e.hydrateRoot=i.hydrateRoot},4164:function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(4463)},1372:function(t,e){"use strict";var n=60103,i=60106,r=60107,a=60108,o=60114,s=60109,l=60110,u=60112,c=60113,h=60120,f=60115,d=60116,p=60121,v=60122,m=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var w=Symbol.for;n=w("react.element"),i=w("react.portal"),r=w("react.fragment"),a=w("react.strict_mode"),o=w("react.profiler"),s=w("react.provider"),l=w("react.context"),u=w("react.forward_ref"),c=w("react.suspense"),h=w("react.suspense_list"),f=w("react.memo"),d=w("react.lazy"),p=w("react.block"),v=w("react.server.block"),m=w("react.fundamental"),g=w("react.debug_trace_mode"),y=w("react.legacy_hidden")}function b(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case r:case o:case a:case c:case h:return t;default:switch(t=t&&t.$$typeof){case l:case u:case d:case f:case s:return t;default:return e}}case i:return e}}}e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===r||t===o||t===g||t===a||t===c||t===h||t===y||"object"===typeof t&&null!==t&&(t.$$typeof===d||t.$$typeof===f||t.$$typeof===s||t.$$typeof===l||t.$$typeof===u||t.$$typeof===m||t.$$typeof===p||t[0]===v)},e.typeOf=b},7441:function(t,e,n){"use strict";t.exports=n(1372)},6374:function(t,e,n){"use strict";var i=n(2791),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,n){var i,a={},u=null,c=null;for(i in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(c=e.ref),e)o.call(e,i)&&!l.hasOwnProperty(i)&&(a[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===a[i]&&(a[i]=e[i]);return{$$typeof:r,type:t,key:u,ref:c,props:a,_owner:s.current}}e.Fragment=a,e.jsx=u,e.jsxs=u},9117:function(t,e){"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function y(){}function w(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=g.prototype;var b=w.prototype=new y;b.constructor=w,v(b,g.prototype),b.isPureReactComponent=!0;var x=Array.isArray,A=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,i){var r,a={},o=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(o=""+e.key),e)A.call(e,r)&&!k.hasOwnProperty(r)&&(a[r]=e[r]);var l=arguments.length-2;if(1===l)a.children=i;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:n,type:t,key:o,ref:s,props:a,_owner:_.current}}function M(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var E=/\/+/g;function C(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function P(t,e,r,a,o){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=t),t=""===a?"."+C(l,0):a,x(o)?(r="",null!=t&&(r=t.replace(E,"$&/")+"/"),P(o,e,r,"",(function(t){return t}))):null!=o&&(M(o)&&(o=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+t)),e.push(o)),1;if(l=0,a=""===a?".":a+":",x(t))for(var u=0;u<t.length;u++){var c=a+C(s=t[u],u);l+=P(s,e,r,c,o)}else if(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"===typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=P(s=s.value,e,r,c=a+C(s,u++),o);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function T(t,e,n){if(null==t)return t;var i=[],r=0;return P(t,i,"","",(function(t){return e.call(n,t,r++)})),i}function L(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var O={current:null},z={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:z,ReactCurrentOwner:_};e.Children={map:T,forEach:function(t,e,n){T(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return T(t,(function(){e++})),e},toArray:function(t){return T(t,(function(t){return t}))||[]},only:function(t){if(!M(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=g,e.Fragment=r,e.Profiler=o,e.PureComponent=w,e.StrictMode=a,e.Suspense=c,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=v({},t.props),a=t.key,o=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,s=_.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)A.call(e,u)&&!k.hasOwnProperty(u)&&(r[u]=void 0===e[u]&&void 0!==l?l[u]:e[u])}var u=arguments.length-2;if(1===u)r.children=i;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:n,type:t.type,key:a,ref:o,props:r,_owner:s}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=M,e.lazy=function(t){return{$$typeof:f,_payload:{_status:-1,_result:t},_init:L}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=z.transition;z.transition={};try{t()}finally{z.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return O.current.useCallback(t,e)},e.useContext=function(t){return O.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return O.current.useDeferredValue(t)},e.useEffect=function(t,e){return O.current.useEffect(t,e)},e.useId=function(){return O.current.useId()},e.useImperativeHandle=function(t,e,n){return O.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return O.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return O.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return O.current.useMemo(t,e)},e.useReducer=function(t,e,n){return O.current.useReducer(t,e,n)},e.useRef=function(t){return O.current.useRef(t)},e.useState=function(t){return O.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return O.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return O.current.useTransition()},e.version="18.2.0"},2791:function(t,e,n){"use strict";t.exports=n(9117)},184:function(t,e,n){"use strict";t.exports=n(6374)},6813:function(t,e){"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,r=t[i];if(!(0<a(r,e)))break t;t[i]=e,t[n]=r,n=i}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length,o=r>>>1;i<o;){var s=2*(i+1)-1,l=t[s],u=s+1,c=t[u];if(0>a(l,n))u<r&&0>a(c,l)?(t[i]=c,t[u]=n,i=u):(t[i]=l,t[s]=n,i=s);else{if(!(u<r&&0>a(c,n)))break t;t[i]=c,t[u]=n,i=u}}}return e}function a(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],c=[],h=1,f=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(t){for(var e=i(c);null!==e;){if(null===e.callback)r(c);else{if(!(e.startTime<=t))break;r(c),e.sortIndex=e.expirationTime,n(u,e)}e=i(c)}}function x(t){if(m=!1,b(t),!v)if(null!==i(u))v=!0,z(A);else{var e=i(c);null!==e&&R(x,e.startTime-t)}}function A(t,n){v=!1,m&&(m=!1,y(M),M=-1),p=!0;var a=d;try{for(b(n),f=i(u);null!==f&&(!(f.expirationTime>n)||t&&!P());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?f.callback=s:f===i(u)&&r(u),b(n)}else r(u);f=i(u)}if(null!==f)var l=!0;else{var h=i(c);null!==h&&R(x,h.startTime-n),l=!1}return l}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,S=null,M=-1,E=5,C=-1;function P(){return!(e.unstable_now()-C<E)}function T(){if(null!==S){var t=e.unstable_now();C=t;var n=!0;try{n=S(!0,t)}finally{n?_():(k=!1,S=null)}}else k=!1}if("function"===typeof w)_=function(){w(T)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,O=L.port2;L.port1.onmessage=T,_=function(){O.postMessage(null)}}else _=function(){g(T,0)};function z(t){S=t,k||(k=!0,_())}function R(t,n){M=g((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,z(A))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return i(u)},e.unstable_next=function(t){switch(d){case 1:case 2:case 3:var e=3;break;default:e=d}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_scheduleCallback=function(t,r,a){var o=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:h++,callback:r,priorityLevel:t,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(t.sortIndex=a,n(c,t),null===i(u)&&t===i(c)&&(m?(y(M),M=-1):m=!0,R(x,a-o))):(t.sortIndex=s,n(u,t),v||p||(v=!0,z(A))),t},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(t){var e=d;return function(){var n=d;d=e;try{return t.apply(this,arguments)}finally{d=n}}}},5296:function(t,e,n){"use strict";t.exports=n(6813)},9613:function(t){t.exports=function(t,e,n,i){var r=n?n.call(i,t,e):void 0;if(void 0!==r)return!!r;if(t===e)return!0;if("object"!==typeof t||!t||"object"!==typeof e||!e)return!1;var a=Object.keys(t),o=Object.keys(e);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(e),l=0;l<a.length;l++){var u=a[l];if(!s(u))return!1;var c=t[u],h=e[u];if(!1===(r=n?n.call(i,c,h,u):void 0)||void 0===r&&c!==h)return!1}return!0}},8202:function(t,e,n){var i={"./basegame_logo.webp":648,"./morrowind_logo.webp":5865,"./summerset_logo.webp":9439};function r(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=a,t.exports=r,r.id=8202},685:function(t,e,n){var i={"./alikr.jpg":1416,"./auridon.jpg":4823,"./bangkorai.jpg":1507,"./deshaan.jpg":5807,"./eastmarch.jpg":7340,"./glenumbra.jpg":7916,"./goldcoast.jpg":974,"./grahtwood.jpg":2119,"./greenshade.jpg":7084,"./malabaltor.jpg":4841,"./reapersmarch.jpg":3729,"./rivenspire.jpg":8265,"./sample.jpg":2394,"./shadowfen.jpg":5171,"./stonefalls.jpg":7275,"./stormhaven.jpg":546,"./tamriel.jpg":73,"./therift.jpg":5110,"./wrothgar.jpg":2262};function r(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=a,t.exports=r,r.id=685},5369:function(t,e,n){var i={"./a1.webp":2030,"./a2.webp":4819,"./a3.webp":2127,"./a4.webp":8465,"./a5.webp":9060,"./a6.webp":339,"./a7.webp":127,"./a8.webp":4847,"./ad1.webp":7514,"./ad2.webp":9754,"./ad3.webp":3233,"./ad4.webp":2545,"./ad5.webp":7537,"./bk1.webp":3254,"./bk2.webp":4818,"./em1.webp":8119,"./em2.webp":2530,"./em3.webp":3138,"./em4.webp":2991,"./em5.webp":429,"./gc1.webp":5896,"./gc2.webp":9902,"./gc3.webp":4517,"./gc4.webp":3948,"./gc5.webp":5607,"./gn1.webp":3271,"./gn2.webp":5287,"./gn3.webp":8546,"./gs1.webp":7289,"./gs2.webp":9004,"./gw1.webp":6654,"./gw2.webp":2984,"./gw3.webp":8781,"./gw4.webp":5203,"./gw5.webp":502,"./gw6.webp":8446,"./gw7.webp":2189,"./gw8.webp":5343,"./gw9.webp":7673,"./mt1.webp":7535,"./mt1_og.webp":4258,"./mt1_old.webp":1943,"./mt2.webp":6964,"./mt3.webp":4857,"./mt3_old.webp":1172,"./mt4.webp":1116,"./mt5.webp":3742,"./r1.webp":3516,"./r2.webp":8829,"./r3.webp":590,"./r4.webp":1877,"./r5.webp":1597,"./r6.webp":6093,"./r7.webp":9027,"./rm1.webp":7288,"./rm2.webp":4462,"./rm3.webp":438,"./rm4.webp":6256,"./rm5.webp":7272,"./rm6.webp":792,"./rm7.webp":3148,"./rm8.webp":6873,"./rs10.webp":4735,"./rs2.webp":4381,"./rs3.webp":654,"./rs4.webp":4646,"./rs5.webp":2226,"./rs7.webp":2931,"./rs8.webp":9743,"./rs9.webp":1303,"./sh1.webp":2781,"./sh2.webp":7064,"./sh3.webp":4992,"./sh4.webp":6533,"./sh5.webp":1694,"./sh6.webp":6196,"./wg1.webp":9665,"./wg2.webp":375};function r(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=a,t.exports=r,r.id=5369},4958:function(t,e,n){var i={"./a1.webp":5537,"./a2.webp":6171,"./a3.webp":2718,"./a4.webp":6221,"./a5.webp":250,"./a6.webp":3110,"./a7.webp":7678,"./a8.webp":8681,"./ad1.webp":2605,"./ad2.webp":8609,"./bk1.webp":5996,"./bk2.webp":5222,"./em1.webp":4572,"./em2.webp":2453,"./em3.webp":1939,"./em4.webp":118,"./em5.webp":8956,"./gc1.webp":5785,"./gc2.webp":7107,"./gc3.webp":5582,"./gc4.webp":492,"./gc5.webp":7352,"./gn1.webp":303,"./gn2.webp":4328,"./gn3.webp":4031,"./gs1.webp":9304,"./gs2.webp":9150,"./gw1.webp":2801,"./gw2.webp":132,"./gw3.webp":8755,"./gw4.webp":8217,"./gw5.webp":8592,"./gw6.webp":4314,"./gw7.webp":3885,"./gw8.webp":4623,"./gw9.webp":6413,"./mt1.webp":6755,"./mt2.webp":159,"./mt3.webp":918,"./mt4.webp":5218,"./mt5.webp":7053,"./r1.webp":7579,"./r2.webp":1317,"./r3.webp":6e3,"./r4.webp":6594,"./r5.webp":8277,"./r6.webp":9848,"./r7.webp":3536,"./rm1.webp":3371,"./rm2.webp":9148,"./rm3.webp":4062,"./rm4.webp":1267,"./rm5.webp":3551,"./rm6.webp":9957,"./rm7.webp":9454,"./rm8.webp":6862,"./rs1.webp":8069,"./rs2.webp":2630,"./rs3.webp":2336,"./sh1.webp":8300,"./sh2.webp":1715,"./sh3.webp":3095,"./sh4.webp":9364,"./sh5.webp":3834,"./wg1.webp":9564,"./wg2.webp":13};function r(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=a,t.exports=r,r.id=4958},7541:function(t,e,n){"use strict";t.exports=n.p+"static/media/info_bg.0292c7048de6dba4ade8.mp4"},648:function(t,e,n){"use strict";t.exports=n.p+"static/media/basegame_logo.219cb39d8bcd4e208b87.webp"},5865:function(t,e,n){"use strict";t.exports=n.p+"static/media/morrowind_logo.f1332f32e87e3276c691.webp"},9439:function(t,e,n){"use strict";t.exports=n.p+"static/media/summerset_logo.895ce790d65750ff78af.webp"},3048:function(t,e,n){"use strict";t.exports=n.p+"static/media/favicon.e3cc4b997cc641e3db80.webp"},6450:function(t,e,n){"use strict";t.exports=n.p+"static/media/marker.9d1304f6587c347d0e2d.webp"},2030:function(t,e,n){"use strict";t.exports=n.p+"static/media/a1.39225c19ff34314cb9c7.webp"},4819:function(t,e,n){"use strict";t.exports=n.p+"static/media/a2.98517df054090aa2789b.webp"},2127:function(t,e,n){"use strict";t.exports=n.p+"static/media/a3.a2ab98a05a2396c9cfa1.webp"},8465:function(t,e,n){"use strict";t.exports=n.p+"static/media/a4.2b075b57f7773758e47d.webp"},9060:function(t,e,n){"use strict";t.exports=n.p+"static/media/a5.bd9d80969ef36b230e15.webp"},339:function(t,e,n){"use strict";t.exports=n.p+"static/media/a6.63e913e5779a9b27643a.webp"},127:function(t,e,n){"use strict";t.exports=n.p+"static/media/a7.5289e355b9e8bf016d40.webp"},4847:function(t,e,n){"use strict";t.exports=n.p+"static/media/a8.afedfb52057e5dde244d.webp"},7514:function(t,e,n){"use strict";t.exports=n.p+"static/media/ad1.3cd061012e5328deb1ce.webp"},9754:function(t,e,n){"use strict";t.exports=n.p+"static/media/ad2.92770b3b8e08612afcf8.webp"},3233:function(t,e,n){"use strict";t.exports=n.p+"static/media/ad3.3c328c71b92ef6258a62.webp"},2545:function(t,e,n){"use strict";t.exports=n.p+"static/media/ad4.d0baab527c70b76c43e4.webp"},7537:function(t,e,n){"use strict";t.exports=n.p+"static/media/ad5.7ef55cf441c36cc7e11a.webp"},3254:function(t,e,n){"use strict";t.exports=n.p+"static/media/bk1.56623f9791c95ce7141e.webp"},4818:function(t,e,n){"use strict";t.exports=n.p+"static/media/bk2.b785f46b08b2dc760562.webp"},8119:function(t,e,n){"use strict";t.exports=n.p+"static/media/em1.270b71832301c01b21ab.webp"},2530:function(t,e,n){"use strict";t.exports=n.p+"static/media/em2.31bd65323e9f34ee2d2f.webp"},3138:function(t,e,n){"use strict";t.exports=n.p+"static/media/em3.9d2a661cbcf95fe39f7e.webp"},2991:function(t,e,n){"use strict";t.exports=n.p+"static/media/em4.e026b2a5e112115cb730.webp"},429:function(t,e,n){"use strict";t.exports=n.p+"static/media/em5.8ac1af9e953606ac2047.webp"},5896:function(t,e,n){"use strict";t.exports=n.p+"static/media/gc1.ae0558b659449681bc5a.webp"},9902:function(t,e,n){"use strict";t.exports=n.p+"static/media/gc2.6b77ce35c46a2fe60f9d.webp"},4517:function(t,e,n){"use strict";t.exports=n.p+"static/media/gc3.df48c3181388782c555f.webp"},3948:function(t,e,n){"use strict";t.exports=n.p+"static/media/gc4.d77f7decdd7065e6f29f.webp"},5607:function(t,e,n){"use strict";t.exports=n.p+"static/media/gc5.8e0675c639756d3e71a7.webp"},3271:function(t,e,n){"use strict";t.exports=n.p+"static/media/gn1.3b6d20f4ae33b5dc096d.webp"},5287:function(t,e,n){"use strict";t.exports=n.p+"static/media/gn2.809d10c3feb738c930de.webp"},8546:function(t,e,n){"use strict";t.exports=n.p+"static/media/gn3.f3fde81067a834895ff9.webp"},7289:function(t,e,n){"use strict";t.exports=n.p+"static/media/gs1.830606effa886f9d7029.webp"},9004:function(t,e,n){"use strict";t.exports=n.p+"static/media/gs2.7779c944ee2a56e6a1b1.webp"},6654:function(t,e,n){"use strict";t.exports=n.p+"static/media/gw1.5197c8723957f593484a.webp"},2984:function(t,e,n){"use strict";t.exports=n.p+"static/media/gw2.a52639bdfe6349def5bc.webp"},8781:function(t,e,n){"use strict";t.exports=n.p+"static/media/gw3.bb6789e0ad575778733e.webp"},5203:function(t,e,n){"use strict";t.exports=n.p+"static/media/gw4.51c6d3e05ef807fb9650.webp"},502:function(t,e,n){"use strict";t.exports=n.p+"static/media/gw5.3cadc4912bc6fc4268a0.webp"},8446:function(t,e,n){"use strict";t.exports=n.p+"static/media/gw6.fc40855c8010be6e291a.webp"},2189:function(t,e,n){"use strict";t.exports=n.p+"static/media/gw7.01fa95cf11b9b8ed0e9d.webp"},5343:function(t,e,n){"use strict";t.exports=n.p+"static/media/gw8.3b0e9cddbbbf8fed36e1.webp"},7673:function(t,e,n){"use strict";t.exports=n.p+"static/media/gw9.5d5d17adf75a6deffa14.webp"},7535:function(t,e,n){"use strict";t.exports=n.p+"static/media/mt1.9468304220bf090f74f5.webp"},4258:function(t,e,n){"use strict";t.exports=n.p+"static/media/mt1_og.bcfacdead4072e0f5241.webp"},1943:function(t,e,n){"use strict";t.exports=n.p+"static/media/mt1_old.8e459431b7beae6a953d.webp"},6964:function(t,e,n){"use strict";t.exports=n.p+"static/media/mt2.cdd7b94bc9bd089fdb3e.webp"},4857:function(t,e,n){"use strict";t.exports=n.p+"static/media/mt3.a9ed37147904d2c2229f.webp"},1172:function(t,e,n){"use strict";t.exports=n.p+"static/media/mt3_old.1e130ae597d2077d1d86.webp"},1116:function(t,e,n){"use strict";t.exports=n.p+"static/media/mt4.d2276d53738814609c89.webp"},3742:function(t,e,n){"use strict";t.exports=n.p+"static/media/mt5.35b223161579b8334ee8.webp"},3516:function(t,e,n){"use strict";t.exports=n.p+"static/media/r1.1f90ce04018bd69d7021.webp"},8829:function(t,e,n){"use strict";t.exports=n.p+"static/media/r2.98f4317513be82006441.webp"},590:function(t,e,n){"use strict";t.exports=n.p+"static/media/r3.e2823a13dcf07504c11c.webp"},1877:function(t,e,n){"use strict";t.exports=n.p+"static/media/r4.d28c3d55f157ff87bb92.webp"},1597:function(t,e,n){"use strict";t.exports=n.p+"static/media/r5.aabec985db6ae55b221a.webp"},6093:function(t,e,n){"use strict";t.exports=n.p+"static/media/r6.6cca39fcfd643b6fe6d8.webp"},9027:function(t,e,n){"use strict";t.exports=n.p+"static/media/r7.075eafc15a6df3236d03.webp"},7288:function(t,e,n){"use strict";t.exports=n.p+"static/media/rm1.9bd18e5dcbb569ffa225.webp"},4462:function(t,e,n){"use strict";t.exports=n.p+"static/media/rm2.6ef5d2e18bea47ef341a.webp"},438:function(t,e,n){"use strict";t.exports=n.p+"static/media/rm3.062e70a1672de6fcfc8f.webp"},6256:function(t,e,n){"use strict";t.exports=n.p+"static/media/rm4.2300c6821ec75f09763f.webp"},7272:function(t,e,n){"use strict";t.exports=n.p+"static/media/rm5.8f1a587949429d9a08d6.webp"},792:function(t,e,n){"use strict";t.exports=n.p+"static/media/rm6.24f2abc59c19bcbff9de.webp"},3148:function(t,e,n){"use strict";t.exports=n.p+"static/media/rm7.ad7f2c3fa7212ec914be.webp"},6873:function(t,e,n){"use strict";t.exports=n.p+"static/media/rm8.740754e9f041748edcd0.webp"},4735:function(t,e,n){"use strict";t.exports=n.p+"static/media/rs10.491f3306b42554b93b69.webp"},4381:function(t,e,n){"use strict";t.exports=n.p+"static/media/rs2.14eed048b31e033c8f9f.webp"},654:function(t,e,n){"use strict";t.exports=n.p+"static/media/rs3.28ea315ef47cfbc6dc9f.webp"},4646:function(t,e,n){"use strict";t.exports=n.p+"static/media/rs4.42e8a0b55839c61d60c9.webp"},2226:function(t,e,n){"use strict";t.exports=n.p+"static/media/rs5.14aa3d00cd3ea1b0088d.webp"},2931:function(t,e,n){"use strict";t.exports=n.p+"static/media/rs7.a3baba2aa5e72f091f22.webp"},9743:function(t,e,n){"use strict";t.exports=n.p+"static/media/rs8.b8a059e7aa98f0a4672e.webp"},1303:function(t,e,n){"use strict";t.exports=n.p+"static/media/rs9.44202a8c81ebb2973048.webp"},2781:function(t,e,n){"use strict";t.exports=n.p+"static/media/sh1.344c54e3ad4eb5e35bd2.webp"},7064:function(t,e,n){"use strict";t.exports=n.p+"static/media/sh2.e9ae794d83148bb83aa8.webp"},4992:function(t,e,n){"use strict";t.exports=n.p+"static/media/sh3.d1896fc591e8c9d6ea01.webp"},6533:function(t,e,n){"use strict";t.exports=n.p+"static/media/sh4.1c54c195ce3a40060180.webp"},1694:function(t,e,n){"use strict";t.exports=n.p+"static/media/sh5.c1b6c7d3ccd8a87f33d9.webp"},6196:function(t,e,n){"use strict";t.exports=n.p+"static/media/sh6.2a9611de3e5d8b84c1b8.webp"},9665:function(t,e,n){"use strict";t.exports=n.p+"static/media/wg1.6862cdfd72b5ce9cfb55.webp"},375:function(t,e,n){"use strict";t.exports=n.p+"static/media/wg2.1fb5650ccd8f753e3a1c.webp"},5537:function(t,e,n){"use strict";t.exports=n.p+"static/media/a1.b6ba08446f59c2160687.webp"},6171:function(t,e,n){"use strict";t.exports=n.p+"static/media/a2.0e90a0baae2bbd7b4ba4.webp"},2718:function(t,e,n){"use strict";t.exports=n.p+"static/media/a3.7fbaa036ebe71411c3cb.webp"},6221:function(t,e,n){"use strict";t.exports=n.p+"static/media/a4.0b5f1549eb340804fa34.webp"},250:function(t,e,n){"use strict";t.exports=n.p+"static/media/a5.7751e7a5733d90f7b320.webp"},3110:function(t,e,n){"use strict";t.exports=n.p+"static/media/a6.c1c58375322176b9c39b.webp"},7678:function(t,e,n){"use strict";t.exports=n.p+"static/media/a7.719079de83a6806dc520.webp"},8681:function(t,e,n){"use strict";t.exports=n.p+"static/media/a8.4f8610f6eb3132124324.webp"},2605:function(t,e,n){"use strict";t.exports=n.p+"static/media/ad1.6012026a6592dff312cb.webp"},8609:function(t,e,n){"use strict";t.exports=n.p+"static/media/ad2.e7eeccb3075787b15a87.webp"},5996:function(t,e,n){"use strict";t.exports=n.p+"static/media/bk1.63e42834be6d8c3c55df.webp"},5222:function(t,e,n){"use strict";t.exports=n.p+"static/media/bk2.d6b8a9c5085a778ef1ac.webp"},4572:function(t,e,n){"use strict";t.exports=n.p+"static/media/em1.0536745c982d19965f43.webp"},2453:function(t,e,n){"use strict";t.exports=n.p+"static/media/em2.6fb102e5b49e62b621b2.webp"},1939:function(t,e,n){"use strict";t.exports=n.p+"static/media/em3.35c2622f301026210f43.webp"},118:function(t,e,n){"use strict";t.exports=n.p+"static/media/em4.5146765741c0d88e2a0c.webp"},8956:function(t,e,n){"use strict";t.exports=n.p+"static/media/em5.7f8ef9a4bd6d70ebb12f.webp"},5785:function(t,e,n){"use strict";t.exports=n.p+"static/media/gc1.fca2a0e214dbcc64526f.webp"},7107:function(t,e,n){"use strict";t.exports=n.p+"static/media/gc2.f2d70a51db40442ebc9f.webp"},5582:function(t,e,n){"use strict";t.exports=n.p+"static/media/gc3.17fb1776a50a574fdf4f.webp"},492:function(t,e,n){"use strict";t.exports=n.p+"static/media/gc4.3a076079b488b522b136.webp"},7352:function(t,e,n){"use strict";t.exports=n.p+"static/media/gc5.9f77f860eb49e0a79d02.webp"},303:function(t,e,n){"use strict";t.exports=n.p+"static/media/gn1.30ae99a11373fd52f218.webp"},4328:function(t,e,n){"use strict";t.exports=n.p+"static/media/gn2.fe0567ee2fd0492d9a38.webp"},4031:function(t,e,n){"use strict";t.exports=n.p+"static/media/gn3.020ed6784a3bcb6b9d43.webp"},9304:function(t,e,n){"use strict";t.exports=n.p+"static/media/gs1.f639e53c73ea57f2f961.webp"},9150:function(t,e,n){"use strict";t.exports=n.p+"static/media/gs2.84b04310df00c1016986.webp"},2801:function(t,e,n){"use strict";t.exports=n.p+"static/media/gw1.e829b156b87b55c12c7d.webp"},132:function(t,e,n){"use strict";t.exports=n.p+"static/media/gw2.6e7a905859fc6716b4da.webp"},8755:function(t,e,n){"use strict";t.exports=n.p+"static/media/gw3.e5148ca007b8ff5d7aae.webp"},8217:function(t,e,n){"use strict";t.exports=n.p+"static/media/gw4.c2e41dc7af9c01c771ec.webp"},8592:function(t,e,n){"use strict";t.exports=n.p+"static/media/gw5.b4cc9dc4bb190455843c.webp"},4314:function(t,e,n){"use strict";t.exports=n.p+"static/media/gw6.91755f017829a1d35a6e.webp"},3885:function(t,e,n){"use strict";t.exports=n.p+"static/media/gw7.5579e0e0cc9ed98d4b03.webp"},4623:function(t,e,n){"use strict";t.exports=n.p+"static/media/gw8.86b7b5f40dbd15df298a.webp"},6413:function(t,e,n){"use strict";t.exports=n.p+"static/media/gw9.d7586d2befc74dfd50ba.webp"},6755:function(t,e,n){"use strict";t.exports=n.p+"static/media/mt1.c0fb27934deb67c81f2d.webp"},159:function(t,e,n){"use strict";t.exports=n.p+"static/media/mt2.37f464a366734bf94e16.webp"},918:function(t,e,n){"use strict";t.exports=n.p+"static/media/mt3.6232548f22bf3ccfd2e4.webp"},5218:function(t,e,n){"use strict";t.exports=n.p+"static/media/mt4.f2e99bb47331d7c8eea5.webp"},7053:function(t,e,n){"use strict";t.exports=n.p+"static/media/mt5.60e7d191a305b07974ef.webp"},7579:function(t,e,n){"use strict";t.exports=n.p+"static/media/r1.fe00bc58a6c5ac6e411d.webp"},1317:function(t,e,n){"use strict";t.exports=n.p+"static/media/r2.8e77dadd1b1f5bc3088f.webp"},6e3:function(t,e,n){"use strict";t.exports=n.p+"static/media/r3.8e524647284b555afd03.webp"},6594:function(t,e,n){"use strict";t.exports=n.p+"static/media/r4.8e2f7e1bbfc6927512bf.webp"},8277:function(t,e,n){"use strict";t.exports=n.p+"static/media/r5.aacd0f6171ef482d5dcd.webp"},9848:function(t,e,n){"use strict";t.exports=n.p+"static/media/r6.974761be6f827497747e.webp"},3536:function(t,e,n){"use strict";t.exports=n.p+"static/media/r7.897a59774851e695d924.webp"},3371:function(t,e,n){"use strict";t.exports=n.p+"static/media/rm1.4e4b68c34131758e0e5c.webp"},9148:function(t,e,n){"use strict";t.exports=n.p+"static/media/rm2.f9c695e5431e06f8abae.webp"},4062:function(t,e,n){"use strict";t.exports=n.p+"static/media/rm3.055b84798be46a7679f6.webp"},1267:function(t,e,n){"use strict";t.exports=n.p+"static/media/rm4.7771422d4d354cdea6f2.webp"},3551:function(t,e,n){"use strict";t.exports=n.p+"static/media/rm5.165e5eeeec602c4d0b3c.webp"},9957:function(t,e,n){"use strict";t.exports=n.p+"static/media/rm6.fd3f27b62cbc89c91c32.webp"},9454:function(t,e,n){"use strict";t.exports=n.p+"static/media/rm7.f2eacfb660df8ded6dcd.webp"},6862:function(t,e,n){"use strict";t.exports=n.p+"static/media/rm8.47a25c0f11078bf52c5d.webp"},8069:function(t,e,n){"use strict";t.exports=n.p+"static/media/rs1.d210101f4a2ef1afcf0d.webp"},2630:function(t,e,n){"use strict";t.exports=n.p+"static/media/rs2.7912c151b1f6b8aa1b47.webp"},2336:function(t,e,n){"use strict";t.exports=n.p+"static/media/rs3.44b2f32c6df2f4263296.webp"},8300:function(t,e,n){"use strict";t.exports=n.p+"static/media/sh1.da9a22a1c64183f9f6c7.webp"},1715:function(t,e,n){"use strict";t.exports=n.p+"static/media/sh2.f1804cc7d539a03f7582.webp"},3095:function(t,e,n){"use strict";t.exports=n.p+"static/media/sh3.2bea9ff87f9e5fc58714.webp"},9364:function(t,e,n){"use strict";t.exports=n.p+"static/media/sh4.8473edd2b2dac2e703d7.webp"},3834:function(t,e,n){"use strict";t.exports=n.p+"static/media/sh5.c400f41e82313db87860.webp"},9564:function(t,e,n){"use strict";t.exports=n.p+"static/media/wg1.fc331178acc972435ff2.webp"},13:function(t,e,n){"use strict";t.exports=n.p+"static/media/wg2.8daec93603eac549a9e4.webp"},9580:function(t,e,n){"use strict";t.exports=n.p+"static/media/raven_icon.5bed791514d34fd106c3.webp"},1965:function(t,e,n){"use strict";t.exports=n.p+"static/media/bg14.7e2a4cf55f5860a63a64.jpg"},1416:function(t,e,n){"use strict";t.exports=n.p+"static/media/alikr.15950f6b34d15af00e4c.jpg"},4823:function(t,e,n){"use strict";t.exports=n.p+"static/media/auridon.b191da3f48ef5aa366c8.jpg"},1507:function(t,e,n){"use strict";t.exports=n.p+"static/media/bangkorai.643ca1870711218b2a62.jpg"},5807:function(t,e,n){"use strict";t.exports=n.p+"static/media/deshaan.822336147d9cf907ccb7.jpg"},7340:function(t,e,n){"use strict";t.exports=n.p+"static/media/eastmarch.c3f81e0ca76b6ea948e4.jpg"},7916:function(t,e,n){"use strict";t.exports=n.p+"static/media/glenumbra.cdf982edf9bc4231f315.jpg"},974:function(t,e,n){"use strict";t.exports=n.p+"static/media/goldcoast.58b9293b5cc52cb76755.jpg"},2119:function(t,e,n){"use strict";t.exports=n.p+"static/media/grahtwood.dbb0925ade696ce182fa.jpg"},7084:function(t,e,n){"use strict";t.exports=n.p+"static/media/greenshade.d3b3c517598caacd9ecc.jpg"},4841:function(t,e,n){"use strict";t.exports=n.p+"static/media/malabaltor.e10fbcff2b7813beced7.jpg"},3729:function(t,e,n){"use strict";t.exports=n.p+"static/media/reapersmarch.cc6b10cb42723cb1698c.jpg"},8265:function(t,e,n){"use strict";t.exports=n.p+"static/media/rivenspire.141aad8374adc9afac20.jpg"},2394:function(t,e,n){"use strict";t.exports=n.p+"static/media/sample.974961c25e9b4604eb87.jpg"},5171:function(t,e,n){"use strict";t.exports=n.p+"static/media/shadowfen.67596ac0d42e11a069f9.jpg"},7275:function(t,e,n){"use strict";t.exports=n.p+"static/media/stonefalls.5591104f7bbe692d6ad4.jpg"},546:function(t,e,n){"use strict";t.exports=n.p+"static/media/stormhaven.633362962b2bf39ffcda.jpg"},73:function(t,e,n){"use strict";t.exports=n.p+"static/media/tamriel.57580df8542ddc1a7feb.jpg"},5110:function(t,e,n){"use strict";t.exports=n.p+"static/media/therift.bd25e79b1148dd6fdb71.jpg"},2262:function(t,e,n){"use strict";t.exports=n.p+"static/media/wrothgar.21a8134a1ffc3a0e95a1.jpg"}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,n),a.exports}n.m=t,n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,i){return n.f[i](t,e),e}),[]))},n.u=function(t){return"static/js/"+t+".c4e7f8f9.chunk.js"},n.miniCssF=function(t){},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={},e="client:";n.l=function(i,r,a,o){if(t[i])t[i].push(r);else{var s,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==e+a){s=h;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+a),s.src=i),t[i]=[r];var f=function(e,n){s.onerror=s.onload=null,clearTimeout(d);var r=t[i];if(delete t[i],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(t){return t(n)})),e)return e(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/",function(){var t={179:0};n.f.j=function(e,i){var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)i.push(r[2]);else{var a=new Promise((function(n,i){r=t[e]=[n,i]}));i.push(r[2]=a);var o=n.p+n.u(e),s=new Error;n.l(o,(function(i){if(n.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var a=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;s.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,r[1](s)}}),"chunk-"+e,e)}};var e=function(e,i){var r,a,o=i[0],s=i[1],l=i[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(l)l(n)}for(e&&e(i);u<o.length;u++)a=o[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0},i=self.webpackChunkclient=self.webpackChunkclient||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}(),n.nc=void 0,function(){"use strict";var t,e=n(2791),i=n(1250);function r(t){if(Array.isArray(t))return t}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o(t,e){if(t){if("string"===typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){return r(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}}(t,e)||o(t,e)||s()}function u(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function c(t){return function(t){if(Array.isArray(t))return a(t)}(t)||u(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function d(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==f(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===f(e)?e:String(e)}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,d(i.key),i)}}function v(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function g(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t,e){if(e&&("object"===f(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}function A(t){var e=w();return function(){var n,i=y(t);if(e){var r=y(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return x(this,n)}}function _(t,e,n){return _=w()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&m(r,n.prototype),r},_.apply(null,arguments)}function k(t){var e="function"===typeof Map?new Map:void 0;return k=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return _(t,arguments,y(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),m(i,t)},k(t)}function S(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function M(){return M=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},M.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(t||(t={}));var E,C="popstate";function P(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function T(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function L(t,e){return{usr:t.state,key:t.key,idx:e}}function O(t,e,n,i){return void 0===n&&(n=null),M({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?R(e):e,{state:n,key:e&&e.key||i||Math.random().toString(36).substr(2,8)})}function z(t){var e=t.pathname,n=void 0===e?"/":e,i=t.search,r=void 0===i?"":i,a=t.hash,o=void 0===a?"":a;return r&&"?"!==r&&(n+="?"===r.charAt(0)?r:"?"+r),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function R(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function D(e,n,i,r){void 0===r&&(r={});var a=r,o=a.window,s=void 0===o?document.defaultView:o,l=a.v5Compat,u=void 0!==l&&l,c=s.history,h=t.Pop,f=null,d=p();function p(){return(c.state||{idx:null}).idx}function v(){h=t.Pop;var e=p(),n=null==e?null:e-d;d=e,f&&f({action:h,location:g.location,delta:n})}function m(t){var e="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof t?t:z(t);return P(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==d&&(d=0,c.replaceState(M({},c.state,{idx:d}),""));var g={get action(){return h},get location(){return e(s,c)},listen:function(t){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(C,v),f=t,function(){s.removeEventListener(C,v),f=null}},createHref:function(t){return n(s,t)},createURL:m,encodeLocation:function(t){var e=m(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(e,n){h=t.Push;var r=O(g.location,e,n);i&&i(r,e);var a=L(r,d=p()+1),o=g.createHref(r);try{c.pushState(a,"",o)}catch(l){s.location.assign(o)}u&&f&&f({action:h,location:g.location,delta:1})},replace:function(e,n){h=t.Replace;var r=O(g.location,e,n);i&&i(r,e);var a=L(r,d=p()),o=g.createHref(r);c.replaceState(a,"",o),u&&f&&f({action:h,location:g.location,delta:0})},go:function(t){return c.go(t)}};return g}!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(E||(E={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function I(t,e,n){void 0===n&&(n="/");var i=Z(("string"===typeof e?R(e):e).pathname||"/",n);if(null==i)return null;var r=B(t);!function(t){t.sort((function(t,e){return t.score!==e.score?e.score-t.score:function(t,e){var n=t.length===e.length&&t.slice(0,-1).every((function(t,n){return t===e[n]}));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((function(t){return t.childrenIndex})),e.routesMeta.map((function(t){return t.childrenIndex})))}))}(r);for(var a=null,o=0;null==a&&o<r.length;++o)a=X(r[o],J(i));return a}function B(t,e,n,i){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===i&&(i="");var r=function(t,r,a){var o={relativePath:void 0===a?t.path||"":a,caseSensitive:!0===t.caseSensitive,childrenIndex:r,route:t};o.relativePath.startsWith("/")&&(P(o.relativePath.startsWith(i),'Absolute route path "'+o.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(i.length));var s=tt([i,o.relativePath]),l=n.concat(o);t.children&&t.children.length>0&&(P(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),B(t.children,e,l,s)),(null!=t.path||t.index)&&e.push({path:s,score:Q(s,t.index),routesMeta:l})};return t.forEach((function(t,e){var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?")){var i,a=S(N(t.path));try{for(a.s();!(i=a.n()).done;){var o=i.value;r(t,e,o)}}catch(s){a.e(s)}finally{a.f()}}else r(t,e)})),e}function N(t){var e=t.split("/");if(0===e.length)return[];var n,i=r(n=e)||u(n)||o(n)||s(),a=i[0],l=i.slice(1),h=a.endsWith("?"),f=a.replace(/\?$/,"");if(0===l.length)return h?[f,""]:[f];var d=N(l.join("/")),p=[];return p.push.apply(p,c(d.map((function(t){return""===t?f:[f,t].join("/")})))),h&&p.push.apply(p,c(d)),p.map((function(e){return t.startsWith("/")&&""===e?"/":e}))}var j=/^:\w+$/,F=3,U=2,H=1,V=10,G=-2,W=function(t){return"*"===t};function Q(t,e){var n=t.split("/"),i=n.length;return n.some(W)&&(i+=G),e&&(i+=U),n.filter((function(t){return!W(t)})).reduce((function(t,e){return t+(j.test(e)?F:""===e?H:V)}),i)}function X(t,e){for(var n=t.routesMeta,i={},r="/",a=[],o=0;o<n.length;++o){var s=n[o],l=o===n.length-1,u="/"===r?e:e.slice(r.length)||"/",c=Y({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(i,c.params);var h=s.route;a.push({params:i,pathname:tt([r,c.pathname]),pathnameBase:et(tt([r,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(r=tt([r,c.pathnameBase]))}return a}function Y(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});var n=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);T("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');var i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(t,e){return i.push(e),"/([^\\/]+)"}));t.endsWith("*")?(i.push("*"),r+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==t&&"/"!==t&&(r+="(?:(?=\\/|$))");var a=new RegExp(r,e?void 0:"i");return[a,i]}(t.path,t.caseSensitive,t.end),i=l(n,2),r=i[0],a=i[1],o=e.match(r);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(t,e,n){if("*"===e){var i=c[n]||"";u=s.slice(0,s.length-i.length).replace(/(.)\/+$/,"$1")}return t[e]=function(t,e){try{return decodeURIComponent(t)}catch(n){return T(!1,'The value for the URL param "'+e+'" will not be decoded because the string "'+t+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),t}}(c[n]||"",e),t}),{}),pathname:s,pathnameBase:u,pattern:t}}function J(t){try{return decodeURI(t)}catch(e){return T(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function Z(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;var n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&"/"!==i?null:t.slice(n)||"/"}function q(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function K(t){return t.filter((function(t,e){return 0===e||t.route.path&&t.route.path.length>0}))}function $(t,e,n,i){var r;void 0===i&&(i=!1),"string"===typeof t?r=R(t):(P(!(r=M({},t)).pathname||!r.pathname.includes("?"),q("?","pathname","search",r)),P(!r.pathname||!r.pathname.includes("#"),q("#","pathname","hash",r)),P(!r.search||!r.search.includes("#"),q("#","search","hash",r)));var a,o=""===t||""===r.pathname,s=o?"/":r.pathname;if(i||null==s)a=n;else{var l=e.length-1;if(s.startsWith("..")){for(var u=s.split("/");".."===u[0];)u.shift(),l-=1;r.pathname=u.join("/")}a=l>=0?e[l]:"/"}var c=function(t,e){void 0===e&&(e="/");var n="string"===typeof t?R(t):t,i=n.pathname,r=n.search,a=void 0===r?"":r,o=n.hash,s=void 0===o?"":o,l=i?i.startsWith("/")?i:function(t,e){var n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((function(t){".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(i,e):e;return{pathname:l,search:nt(a),hash:it(s)}}(r,a),h=s&&"/"!==s&&s.endsWith("/"),f=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!f||(c.pathname+="/"),c}var tt=function(t){return t.join("/").replace(/\/\/+/g,"/")},et=function(t){return t.replace(/\/+$/,"").replace(/^\/*/,"/")},nt=function(t){return t&&"?"!==t?t.startsWith("?")?t:"?"+t:""},it=function(t){return t&&"#"!==t?t.startsWith("#")?t:"#"+t:""},rt=function(t){g(n,t);var e=A(n);function n(){return h(this,n),e.apply(this,arguments)}return v(n)}(k(Error));function at(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}var ot=["post","put","patch","delete"],st=(new Set(ot),["get"].concat(ot));new Set(st),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function lt(){return lt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},lt.apply(this,arguments)}var ut=e.createContext(null);var ct=e.createContext(null);var ht=e.createContext(null);var ft=e.createContext(null);var dt=e.createContext(null);var pt=e.createContext({outlet:null,matches:[],isDataRoute:!1});var vt=e.createContext(null);function mt(){return null!=e.useContext(dt)}function gt(){return mt()||P(!1),e.useContext(dt).location}function yt(t){e.useContext(ft).static||e.useLayoutEffect(t)}function wt(){return e.useContext(pt).isDataRoute?function(){var t=Tt(kt.UseNavigateStable).router,n=Ot(St.UseNavigateStable),i=e.useRef(!1);return yt((function(){i.current=!0})),e.useCallback((function(e,r){void 0===r&&(r={}),i.current&&("number"===typeof e?t.navigate(e):t.navigate(e,lt({fromRouteId:n},r)))}),[t,n])}():function(){mt()||P(!1);var t=e.useContext(ut),n=e.useContext(ft),i=n.basename,r=n.navigator,a=e.useContext(pt).matches,o=gt().pathname,s=JSON.stringify(K(a).map((function(t){return t.pathnameBase}))),l=e.useRef(!1);return yt((function(){l.current=!0})),e.useCallback((function(e,n){if(void 0===n&&(n={}),l.current)if("number"!==typeof e){var a=$(e,JSON.parse(s),o,"path"===n.relative);null==t&&"/"!==i&&(a.pathname="/"===a.pathname?i:tt([i,a.pathname])),(n.replace?r.replace:r.push)(a,n.state,n)}else r.go(e)}),[i,r,s,o,t])}()}var bt=e.createContext(null);function xt(t,n){var i=(void 0===n?{}:n).relative,r=e.useContext(pt).matches,a=gt().pathname,o=JSON.stringify(K(r).map((function(t){return t.pathnameBase})));return e.useMemo((function(){return $(t,JSON.parse(o),a,"path"===i)}),[t,o,a,i])}function At(n,i,r){mt()||P(!1);var a,o=e.useContext(ft).navigator,s=e.useContext(pt).matches,l=s[s.length-1],u=l?l.params:{},c=(l&&l.pathname,l?l.pathnameBase:"/"),h=(l&&l.route,gt());if(i){var f,d="string"===typeof i?R(i):i;"/"===c||(null==(f=d.pathname)?void 0:f.startsWith(c))||P(!1),a=d}else a=h;var p=a.pathname||"/",v=I(n,{pathname:"/"===c?p:p.slice(c.length)||"/"});var m=Pt(v&&v.map((function(t){return Object.assign({},t,{params:Object.assign({},u,t.params),pathname:tt([c,o.encodeLocation?o.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?c:tt([c,o.encodeLocation?o.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])})})),s,r);return i&&m?e.createElement(dt.Provider,{value:{location:lt({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},m):m}function _t(){var t=function(){var t,n=e.useContext(vt),i=Lt(St.UseRouteError),r=Ot(St.UseRouteError);if(n)return n;return null==(t=i.errors)?void 0:t[r]}(),n=at(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),i?e.createElement("pre",{style:a},i):null,null)}var kt,St,Mt=e.createElement(_t,null),Et=function(t){g(i,t);var n=A(i);function i(t){var e;return h(this,i),(e=n.call(this,t)).state={location:t.location,revalidation:t.revalidation,error:t.error},e}return v(i,[{key:"componentDidCatch",value:function(t,e){console.error("React Router caught the following error during render",t,e)}},{key:"render",value:function(){return this.state.error?e.createElement(pt.Provider,{value:this.props.routeContext},e.createElement(vt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(t){return{error:t}}},{key:"getDerivedStateFromProps",value:function(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}}]),i}(e.Component);function Ct(t){var n=t.routeContext,i=t.match,r=t.children,a=e.useContext(ut);return a&&a.static&&a.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=i.route.id),e.createElement(pt.Provider,{value:n},r)}function Pt(t,n,i){var r;if(void 0===n&&(n=[]),void 0===i&&(i=null),null==t){var a;if(null==(a=i)||!a.errors)return null;t=i.matches}var o=t,s=null==(r=i)?void 0:r.errors;if(null!=s){var l=o.findIndex((function(t){return t.route.id&&(null==s?void 0:s[t.route.id])}));l>=0||P(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((function(t,r,a){var l=r.route.id?null==s?void 0:s[r.route.id]:null,u=null;i&&(u=r.route.errorElement||Mt);var c=n.concat(o.slice(0,a+1)),h=function(){var n;return n=l?u:r.route.Component?e.createElement(r.route.Component,null):r.route.element?r.route.element:t,e.createElement(Ct,{match:r,routeContext:{outlet:t,matches:c,isDataRoute:null!=i},children:n})};return i&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?e.createElement(Et,{location:i.location,revalidation:i.revalidation,component:u,error:l,children:h(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):h()}),null)}function Tt(t){var n=e.useContext(ut);return n||P(!1),n}function Lt(t){var n=e.useContext(ct);return n||P(!1),n}function Ot(t){var n=function(t){var n=e.useContext(pt);return n||P(!1),n}(),i=n.matches[n.matches.length-1];return i.route.id||P(!1),i.route.id}!function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"}(kt||(kt={})),function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"}(St||(St={}));var zt;function Rt(t){return function(t){var n=e.useContext(pt).outlet;return n?e.createElement(bt.Provider,{value:t},n):n}(t.context)}function Dt(t){P(!1)}function It(n){var i=n.basename,r=void 0===i?"/":i,a=n.children,o=void 0===a?null:a,s=n.location,l=n.navigationType,u=void 0===l?t.Pop:l,c=n.navigator,h=n.static,f=void 0!==h&&h;mt()&&P(!1);var d=r.replace(/^\/*/,"/"),p=e.useMemo((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"===typeof s&&(s=R(s));var v=s,m=v.pathname,g=void 0===m?"/":m,y=v.search,w=void 0===y?"":y,b=v.hash,x=void 0===b?"":b,A=v.state,_=void 0===A?null:A,k=v.key,S=void 0===k?"default":k,M=e.useMemo((function(){var t=Z(g,d);return null==t?null:{location:{pathname:t,search:w,hash:x,state:_,key:S},navigationType:u}}),[d,g,w,x,_,S,u]);return null==M?null:e.createElement(ft.Provider,{value:p},e.createElement(dt.Provider,{children:o,value:M}))}function Bt(t){var e=t.children,n=t.location;return At(jt(e),n)}!function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"}(zt||(zt={}));var Nt=new Promise((function(){}));e.Component;function jt(t,n){void 0===n&&(n=[]);var i=[];return e.Children.forEach(t,(function(t,r){if(e.isValidElement(t)){var a=[].concat(c(n),[r]);if(t.type!==e.Fragment){t.type!==Dt&&P(!1),t.props.index&&t.props.children&&P(!1);var o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=jt(t.props.children,a)),i.push(o)}else i.push.apply(i,jt(t.props.children,a))}})),i}function Ft(){return Ft=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ft.apply(this,arguments)}function Ut(t,e){if(null==t)return{};var n,i,r={},a=Object.keys(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}var Ht=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Vt(t){var n,i=t.basename,r=t.children,a=t.window,o=e.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),D((function(t,e){var n=t.location;return O("",{pathname:n.pathname,search:n.search,hash:n.hash},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:z(e)}),null,n)));var s=o.current,u=l(e.useState({action:s.action,location:s.location}),2),c=u[0],h=u[1];return e.useLayoutEffect((function(){return s.listen(h)}),[s]),e.createElement(It,{basename:i,children:r,location:c.location,navigationType:c.action,navigator:s})}var Gt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Wt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qt=e.forwardRef((function(t,n){var i,r=t.onClick,a=t.relative,o=t.reloadDocument,s=t.replace,l=t.state,u=t.target,c=t.to,h=t.preventScrollReset,f=Ut(t,Ht),d=e.useContext(ft).basename,p=!1;if("string"===typeof c&&Wt.test(c)&&(i=c,Gt))try{var v=new URL(window.location.href),m=c.startsWith("//")?new URL(v.protocol+c):new URL(c),g=Z(m.pathname,d);m.origin===v.origin&&null!=g?c=g+m.search+m.hash:p=!0}catch(b){}var y=function(t,n){var i=(void 0===n?{}:n).relative;mt()||P(!1);var r=e.useContext(ft),a=r.basename,o=r.navigator,s=xt(t,{relative:i}),l=s.hash,u=s.pathname,c=s.search,h=u;return"/"!==a&&(h="/"===u?a:tt([a,u])),o.createHref({pathname:h,search:c,hash:l})}(c,{relative:a}),w=function(t,n){var i=void 0===n?{}:n,r=i.target,a=i.replace,o=i.state,s=i.preventScrollReset,l=i.relative,u=wt(),c=gt(),h=xt(t,{relative:l});return e.useCallback((function(e){if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(e,r)){e.preventDefault();var n=void 0!==a?a:z(c)===z(h);u(t,{replace:n,state:o,preventScrollReset:s,relative:l})}}),[c,u,h,a,o,r,t,s,l])}(c,{replace:s,state:l,target:u,preventScrollReset:h,relative:a});return e.createElement("a",Ft({},f,{href:i||y,onClick:p||o?r:function(t){r&&r(t),t.defaultPrevented||w(t)},ref:n,target:u}))}));var Xt,Yt;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Xt||(Xt={})),function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(Yt||(Yt={}));var Jt=n(3423),Zt=n(184),qt=function(t){var i=l((0,e.useState)(!0),2),r=i[0],a=i[1];return(0,Zt.jsxs)("div",{className:"relative",children:[(0,Zt.jsx)("nav",{className:"relative top-0 z-10 w-full bg-gray-900 border-gray-200 shadow-lg shadow-black/50",children:(0,Zt.jsxs)("div",{className:"flex flex-wrap items-center justify-between max-w-screen-xl p-4 mx-auto",children:[(0,Zt.jsxs)(Qt,{to:"/",className:"flex items-center",children:[(0,Zt.jsx)("img",{src:n(3048),className:"h-8 mr-3 -mb-1",alt:"NirnGuessr Logo"}),(0,Zt.jsxs)("span",{className:"self-center -mb-2 text-2xl font-semibold text-white whitespace-nowrap",children:["Nirn",(0,Zt.jsx)("span",{className:"-mb-2 text-transparent bg-clip-text bg-gradient-to-l to-yellow-400 from-yellow-600",children:"Guessr"})]})]}),(0,Zt.jsxs)("button",{onClick:function(t){a(!r)},"data-collapse-toggle":"navbar-default",type:"button",className:"inline-flex items-center p-2 ml-3 text-sm text-gray-400 rounded-lg md:hidden focus:outline-none focus:ring-2 hover:bg-gray-700 focus:ring-gray-600","aria-controls":"navbar-default","aria-expanded":"false",children:[(0,Zt.jsx)("span",{className:"sr-only",children:"Open main menu"}),(0,Zt.jsx)("svg",{className:"w-6 h-6","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,Zt.jsx)("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})]})]})}),(0,Zt.jsx)("div",{className:"w-full sm:hidden absolute duration-200 bottom-0 "+(r?" -translate-y-48":" translate-y-10"),id:"navbar-solid-bg",children:(0,Zt.jsx)("ul",{className:"flex flex-col items-end mt-4 space-x-8 font-medium bg-transparent border-0 rounded-lg bg-gray-50 dark:bg-gray-800 dark:bg-transparent dark:border-gray-700",children:(0,Zt.jsx)("li",{children:(0,Zt.jsx)(Qt,{to:"/about",className:"inline-block p-0 py-2 pl-3 pr-4 text-white bg-transparent rounded bg-gradient-to-br from-slate-800 to-slate-900 ","aria-current":"page",children:"About"})})})})]})},Kt=function(t){return(0,Zt.jsx)(Zt.Fragment,{children:(0,Zt.jsxs)("div",{className:"flex flex-col h-screen overflow-hidden",style:{fontFamily:"Planewalker"},children:[(0,Zt.jsx)(qt,{}),(0,Zt.jsx)(Rt,{})]})})};function $t(){$t=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(P){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof d?e:d,o=Object.create(a.prototype),s=new M(r||[]);return i(o,"_invoke",{value:A(t,n,s)}),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(P){return{type:"throw",arg:P}}}t.wrap=u;var h={};function d(){}function p(){}function v(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(E([])));y&&y!==e&&n.call(y,a)&&(m=y);var w=v.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(i,a,o,s){var l=c(t[i],t,a);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==f(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(h).then((function(t){u.value=t,o(u)}),(function(t){return r("throw",t,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function A(t,e,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return C()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(t,e,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function _(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=c(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=v,i(w,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:p,configurable:!0}),p.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},b(x.prototype),l(x.prototype,o,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new x(u(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},b(w),l(w,s,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=E,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return o.type="throw",o.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function te(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,r)}function ee(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){te(a,i,r,o,s,"next",t)}function s(t){te(a,i,r,o,s,"throw",t)}o(void 0)}))}}function ne(t,e){return function(){return t.apply(e,arguments)}}var ie,re=Object.prototype.toString,ae=Object.getPrototypeOf,oe=(ie=Object.create(null),function(t){var e=re.call(t);return ie[e]||(ie[e]=e.slice(8,-1).toLowerCase())}),se=function(t){return t=t.toLowerCase(),function(e){return oe(e)===t}},le=function(t){return function(e){return typeof e===t}},ue=Array.isArray,ce=le("undefined");var he=se("ArrayBuffer");var fe=le("string"),de=le("function"),pe=le("number"),ve=function(t){return null!==t&&"object"===typeof t},me=function(t){if("object"!==oe(t))return!1;var e=ae(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ge=se("Date"),ye=se("File"),we=se("Blob"),be=se("FileList"),xe=se("URLSearchParams");function Ae(t,e){var n,i,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==r&&r;if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),ue(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{var o,s=a?Object.getOwnPropertyNames(t):Object.keys(t),l=s.length;for(n=0;n<l;n++)o=s[n],e.call(null,t[o],o,t)}}function _e(t,e){e=e.toLowerCase();for(var n,i=Object.keys(t),r=i.length;r-- >0;)if(e===(n=i[r]).toLowerCase())return n;return null}var ke="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Se=function(t){return!ce(t)&&t!==ke};var Me,Ee=(Me="undefined"!==typeof Uint8Array&&ae(Uint8Array),function(t){return Me&&t instanceof Me}),Ce=se("HTMLFormElement"),Pe=function(t){var e=Object.prototype.hasOwnProperty;return function(t,n){return e.call(t,n)}}(),Te=se("RegExp"),Le=function(t,e){var n=Object.getOwnPropertyDescriptors(t),i={};Ae(n,(function(n,r){!1!==e(n,r,t)&&(i[r]=n)})),Object.defineProperties(t,i)},Oe="abcdefghijklmnopqrstuvwxyz",ze="0123456789",Re={DIGIT:ze,ALPHA:Oe,ALPHA_DIGIT:Oe+Oe.toUpperCase()+ze};var De=se("AsyncFunction"),Ie={isArray:ue,isArrayBuffer:he,isBuffer:function(t){return null!==t&&!ce(t)&&null!==t.constructor&&!ce(t.constructor)&&de(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:function(t){var e;return t&&("function"===typeof FormData&&t instanceof FormData||de(t.append)&&("formdata"===(e=oe(t))||"object"===e&&de(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&he(t.buffer)},isString:fe,isNumber:pe,isBoolean:function(t){return!0===t||!1===t},isObject:ve,isPlainObject:me,isUndefined:ce,isDate:ge,isFile:ye,isBlob:we,isRegExp:Te,isFunction:de,isStream:function(t){return ve(t)&&de(t.pipe)},isURLSearchParams:xe,isTypedArray:Ee,isFileList:be,forEach:Ae,merge:function t(){for(var e=(Se(this)&&this||{}).caseless,n={},i=function(i,r){var a=e&&_e(n,r)||r;me(n[a])&&me(i)?n[a]=t(n[a],i):me(i)?n[a]=t({},i):ue(i)?n[a]=i.slice():n[a]=i},r=0,a=arguments.length;r<a;r++)arguments[r]&&Ae(arguments[r],i);return n},extend:function(t,e,n){return Ae(e,(function(e,i){n&&de(e)?t[i]=ne(e,n):t[i]=e}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),t},trim:function(t){return t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,n,i){t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:function(t,e,n,i){var r,a,o,s={};if(e=e||{},null==t)return e;do{for(a=(r=Object.getOwnPropertyNames(t)).length;a-- >0;)o=r[a],i&&!i(o,t,e)||s[o]||(e[o]=t[o],s[o]=!0);t=!1!==n&&ae(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:oe,kindOfTest:se,endsWith:function(t,e,n){t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;var i=t.indexOf(e,n);return-1!==i&&i===n},toArray:function(t){if(!t)return null;if(ue(t))return t;var e=t.length;if(!pe(e))return null;for(var n=new Array(e);e-- >0;)n[e]=t[e];return n},forEachEntry:function(t,e){for(var n,i=(t&&t[Symbol.iterator]).call(t);(n=i.next())&&!n.done;){var r=n.value;e.call(t,r[0],r[1])}},matchAll:function(t,e){for(var n,i=[];null!==(n=t.exec(e));)i.push(n);return i},isHTMLForm:Ce,hasOwnProperty:Pe,hasOwnProp:Pe,reduceDescriptors:Le,freezeMethods:function(t){Le(t,(function(e,n){if(de(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var i=t[n];de(i)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(t,e){var n={},i=function(t){t.forEach((function(t){n[t]=!0}))};return ue(t)?i(t):i(String(t).split(e)),n},toCamelCase:function(t){return t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(t,e){return t=+t,Number.isFinite(t)?t:e},findKey:_e,global:ke,isContextDefined:Se,ALPHABET:Re,generateString:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re.ALPHA_DIGIT,n="",i=e.length;t--;)n+=e[Math.random()*i|0];return n},isSpecCompliantForm:function(t){return!!(t&&de(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:function(t){var e=new Array(10);return function t(n,i){if(ve(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;var r=ue(n)?[]:{};return Ae(n,(function(e,n){var a=t(e,i+1);!ce(a)&&(r[n]=a)})),e[i]=void 0,r}}return n}(t,0)},isAsyncFn:De,isThenable:function(t){return t&&(ve(t)||de(t))&&de(t.then)&&de(t.catch)}};function Be(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}Ie.inherits(Be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ie.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Ne=Be.prototype,je={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(t){je[t]={value:t}})),Object.defineProperties(Be,je),Object.defineProperty(Ne,"isAxiosError",{value:!0}),Be.from=function(t,e,n,i,r,a){var o=Object.create(Ne);return Ie.toFlatObject(t,o,(function(t){return t!==Error.prototype}),(function(t){return"isAxiosError"!==t})),Be.call(o,t.message,e,n,i,r),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};var Fe=Be;function Ue(t){return Ie.isPlainObject(t)||Ie.isArray(t)}function He(t){return Ie.endsWith(t,"[]")?t.slice(0,-2):t}function Ve(t,e,n){return t?t.concat(e).map((function(t,e){return t=He(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}var Ge=Ie.toFlatObject(Ie,{},null,(function(t){return/^is[A-Z]/.test(t)}));var We=function(t,e,n){if(!Ie.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;var i=(n=Ie.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!Ie.isUndefined(e[t])}))).metaTokens,r=n.visitor||u,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Ie.isSpecCompliantForm(e);if(!Ie.isFunction(r))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(Ie.isDate(t))return t.toISOString();if(!s&&Ie.isBlob(t))throw new Fe("Blob is not supported. Use a Buffer instead.");return Ie.isArrayBuffer(t)||Ie.isTypedArray(t)?s&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function u(t,n,r){var s=t;if(t&&!r&&"object"===typeof t)if(Ie.endsWith(n,"{}"))n=i?n:n.slice(0,-2),t=JSON.stringify(t);else if(Ie.isArray(t)&&function(t){return Ie.isArray(t)&&!t.some(Ue)}(t)||(Ie.isFileList(t)||Ie.endsWith(n,"[]"))&&(s=Ie.toArray(t)))return n=He(n),s.forEach((function(t,i){!Ie.isUndefined(t)&&null!==t&&e.append(!0===o?Ve([n],i,a):null===o?n:n+"[]",l(t))})),!1;return!!Ue(t)||(e.append(Ve(r,n,a),l(t)),!1)}var c=[],h=Object.assign(Ge,{defaultVisitor:u,convertValue:l,isVisitable:Ue});if(!Ie.isObject(t))throw new TypeError("data must be an object");return function t(n,i){if(!Ie.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+i.join("."));c.push(n),Ie.forEach(n,(function(n,a){!0===(!(Ie.isUndefined(n)||null===n)&&r.call(e,n,Ie.isString(a)?a.trim():a,i,h))&&t(n,i?i.concat(a):[a])})),c.pop()}}(t),e};function Qe(t){var e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function Xe(t,e){this._pairs=[],t&&We(t,this,e)}var Ye=Xe.prototype;Ye.append=function(t,e){this._pairs.push([t,e])},Ye.toString=function(t){var e=t?function(e){return t.call(this,e,Qe)}:Qe;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var Je=Xe;function Ze(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qe(t,e,n){if(!e)return t;var i,r=n&&n.encode||Ze,a=n&&n.serialize;if(i=a?a(e,n):Ie.isURLSearchParams(e)?e.toString():new Je(e,n).toString(r)){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}var Ke=function(){function t(){h(this,t),this.handlers=[]}return v(t,[{key:"use",value:function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(t){this.handlers[t]&&(this.handlers[t]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(t){Ie.forEach(this.handlers,(function(e){null!==e&&t(e)}))}}]),t}(),$e=Ke,tn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},en={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Je,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var t;return("undefined"===typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var nn=function(t){function e(t,n,i,r){var a=t[r++],o=Number.isFinite(+a),s=r>=t.length;return a=!a&&Ie.isArray(i)?i.length:a,s?(Ie.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):(i[a]&&Ie.isObject(i[a])||(i[a]=[]),e(t,n,i[a],r)&&Ie.isArray(i[a])&&(i[a]=function(t){var e,n,i={},r=Object.keys(t),a=r.length;for(e=0;e<a;e++)i[n=r[e]]=t[n];return i}(i[a])),!o)}if(Ie.isFormData(t)&&Ie.isFunction(t.entries)){var n={};return Ie.forEachEntry(t,(function(t,i){e(function(t){return Ie.matchAll(/\w+|\[(\w*)]/g,t).map((function(t){return"[]"===t[0]?"":t[1]||t[0]}))}(t),i,n,0)})),n}return null},rn={"Content-Type":void 0};var an={transitional:tn,adapter:["xhr","http"],transformRequest:[function(t,e){var n,i=e.getContentType()||"",r=i.indexOf("application/json")>-1,a=Ie.isObject(t);if(a&&Ie.isHTMLForm(t)&&(t=new FormData(t)),Ie.isFormData(t))return r&&r?JSON.stringify(nn(t)):t;if(Ie.isArrayBuffer(t)||Ie.isBuffer(t)||Ie.isStream(t)||Ie.isFile(t)||Ie.isBlob(t))return t;if(Ie.isArrayBufferView(t))return t.buffer;if(Ie.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return We(t,new en.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,i){return en.isNode&&Ie.isBuffer(t)?(this.append(e,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((n=Ie.isFileList(t))||i.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return We(n?{"files[]":t}:t,o&&new o,this.formSerializer)}}return a||r?(e.setContentType("application/json",!1),function(t,e,n){if(Ie.isString(t))try{return(e||JSON.parse)(t),Ie.trim(t)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||an.transitional,n=e&&e.forcedJSONParsing,i="json"===this.responseType;if(t&&Ie.isString(t)&&(n&&!this.responseType||i)){var r=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(r){if("SyntaxError"===a.name)throw Fe.from(a,Fe.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:en.classes.FormData,Blob:en.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ie.forEach(["delete","get","head"],(function(t){an.headers[t]={}})),Ie.forEach(["post","put","patch"],(function(t){an.headers[t]=Ie.merge(rn)}));var on=an,sn=Ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ln=Symbol("internals");function un(t){return t&&String(t).trim().toLowerCase()}function cn(t){return!1===t||null==t?t:Ie.isArray(t)?t.map(cn):String(t)}function hn(t,e,n,i,r){return Ie.isFunction(i)?i.call(this,e,n):(r&&(e=n),Ie.isString(e)?Ie.isString(i)?-1!==e.indexOf(i):Ie.isRegExp(i)?i.test(e):void 0:void 0)}var fn=function(t,e){function n(t){h(this,n),t&&this.set(t)}return v(n,[{key:"set",value:function(t,e,n){var i=this;function r(t,e,n){var r=un(e);if(!r)throw new Error("header name must be a non-empty string");var a=Ie.findKey(i,r);(!a||void 0===i[a]||!0===n||void 0===n&&!1!==i[a])&&(i[a||e]=cn(t))}var a=function(t,e){return Ie.forEach(t,(function(t,n){return r(t,n,e)}))};return Ie.isPlainObject(t)||t instanceof this.constructor?a(t,e):Ie.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?a(function(t){var e,n,i,r={};return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),e=t.substring(0,i).trim().toLowerCase(),n=t.substring(i+1).trim(),!e||r[e]&&sn[e]||("set-cookie"===e?r[e]?r[e].push(n):r[e]=[n]:r[e]=r[e]?r[e]+", "+n:n)})),r}(t),e):null!=t&&r(e,t,n),this}},{key:"get",value:function(t,e){if(t=un(t)){var n=Ie.findKey(this,t);if(n){var i=this[n];if(!e)return i;if(!0===e)return function(t){for(var e,n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;e=i.exec(t);)n[e[1]]=e[2];return n}(i);if(Ie.isFunction(e))return e.call(this,i,n);if(Ie.isRegExp(e))return e.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(t,e){if(t=un(t)){var n=Ie.findKey(this,t);return!(!n||void 0===this[n]||e&&!hn(0,this[n],n,e))}return!1}},{key:"delete",value:function(t,e){var n=this,i=!1;function r(t){if(t=un(t)){var r=Ie.findKey(n,t);!r||e&&!hn(0,n[r],r,e)||(delete n[r],i=!0)}}return Ie.isArray(t)?t.forEach(r):r(t),i}},{key:"clear",value:function(t){for(var e=Object.keys(this),n=e.length,i=!1;n--;){var r=e[n];t&&!hn(0,this[r],r,t,!0)||(delete this[r],i=!0)}return i}},{key:"normalize",value:function(t){var e=this,n={};return Ie.forEach(this,(function(i,r){var a=Ie.findKey(n,r);if(a)return e[a]=cn(i),void delete e[r];var o=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n}))}(r):String(r).trim();o!==r&&delete e[r],e[o]=cn(i),n[o]=!0})),this}},{key:"concat",value:function(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=this.constructor).concat.apply(t,[this].concat(n))}},{key:"toJSON",value:function(t){var e=Object.create(null);return Ie.forEach(this,(function(n,i){null!=n&&!1!==n&&(e[i]=t&&Ie.isArray(n)?n.join(", "):n)})),e}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(t){var e=l(t,2);return e[0]+": "+e[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(t){return t instanceof this?t:new this(t)}},{key:"concat",value:function(t){for(var e=new this(t),n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((function(t){return e.set(t)})),e}},{key:"accessor",value:function(t){var e=(this[ln]=this[ln]={accessors:{}}).accessors,n=this.prototype;function i(t){var i=un(t);e[i]||(!function(t,e){var n=Ie.toCamelCase(" "+e);["get","set","has"].forEach((function(i){Object.defineProperty(t,i+n,{value:function(t,n,r){return this[i].call(this,e,t,n,r)},configurable:!0})}))}(n,t),e[i]=!0)}return Ie.isArray(t)?t.forEach(i):i(t),this}}]),n}();fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ie.freezeMethods(fn.prototype),Ie.freezeMethods(fn);var dn=fn;function pn(t,e){var n=this||on,i=e||n,r=dn.from(i.headers),a=i.data;return Ie.forEach(t,(function(t){a=t.call(n,a,r.normalize(),e?e.status:void 0)})),r.normalize(),a}function vn(t){return!(!t||!t.__CANCEL__)}function mn(t,e,n){Fe.call(this,null==t?"canceled":t,Fe.ERR_CANCELED,e,n),this.name="CanceledError"}Ie.inherits(mn,Fe,{__CANCEL__:!0});var gn=mn;var yn=en.isStandardBrowserEnv?{write:function(t,e,n,i,r,a){var o=[];o.push(t+"="+encodeURIComponent(e)),Ie.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ie.isString(i)&&o.push("path="+i),Ie.isString(r)&&o.push("domain="+r),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function wn(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}var bn=en.isStandardBrowserEnv?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=Ie.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0};var xn=function(t,e){t=t||10;var n,i=new Array(t),r=new Array(t),a=0,o=0;return e=void 0!==e?e:1e3,function(s){var l=Date.now(),u=r[o];n||(n=l),i[a]=s,r[a]=l;for(var c=o,h=0;c!==a;)h+=i[c++],c%=t;if((a=(a+1)%t)===o&&(o=(o+1)%t),!(l-n<e)){var f=u&&l-u;return f?Math.round(1e3*h/f):void 0}}};function An(t,e){var n=0,i=xn(50,250);return function(r){var a=r.loaded,o=r.lengthComputable?r.total:void 0,s=a-n,l=i(s);n=a;var u={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:r};u[e?"download":"upload"]=!0,t(u)}}var _n={http:null,xhr:"undefined"!==typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){var i,r=t.data,a=dn.from(t.headers).normalize(),o=t.responseType;function s(){t.cancelToken&&t.cancelToken.unsubscribe(i),t.signal&&t.signal.removeEventListener("abort",i)}Ie.isFormData(r)&&(en.isStandardBrowserEnv||en.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));var l=new XMLHttpRequest;if(t.auth){var u=t.auth.username||"",c=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.set("Authorization","Basic "+btoa(u+":"+c))}var h=wn(t.baseURL,t.url);function f(){if(l){var i=dn.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new Fe("Request failed with status code "+n.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}((function(t){e(t),s()}),(function(t){n(t),s()}),{data:o&&"text"!==o&&"json"!==o?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:i,config:t,request:l}),l=null}}if(l.open(t.method.toUpperCase(),qe(h,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,"onloadend"in l?l.onloadend=f:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(f)},l.onabort=function(){l&&(n(new Fe("Request aborted",Fe.ECONNABORTED,t,l)),l=null)},l.onerror=function(){n(new Fe("Network Error",Fe.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",i=t.transitional||tn;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new Fe(e,i.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,t,l)),l=null},en.isStandardBrowserEnv){var d=(t.withCredentials||bn(h))&&t.xsrfCookieName&&yn.read(t.xsrfCookieName);d&&a.set(t.xsrfHeaderName,d)}void 0===r&&a.setContentType(null),"setRequestHeader"in l&&Ie.forEach(a.toJSON(),(function(t,e){l.setRequestHeader(e,t)})),Ie.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),o&&"json"!==o&&(l.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&l.addEventListener("progress",An(t.onDownloadProgress,!0)),"function"===typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",An(t.onUploadProgress)),(t.cancelToken||t.signal)&&(i=function(e){l&&(n(!e||e.type?new gn(null,t,l):e),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(i),t.signal&&(t.signal.aborted?i():t.signal.addEventListener("abort",i)));var p=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(h);p&&-1===en.protocols.indexOf(p)?n(new Fe("Unsupported protocol "+p+":",Fe.ERR_BAD_REQUEST,t)):l.send(r||null)}))}};Ie.forEach(_n,(function(t,e){if(t){try{Object.defineProperty(t,"name",{value:e})}catch(n){}Object.defineProperty(t,"adapterName",{value:e})}}));var kn=function(t){for(var e,n,i=(t=Ie.isArray(t)?t:[t]).length,r=0;r<i&&(e=t[r],!(n=Ie.isString(e)?_n[e.toLowerCase()]:e));r++);if(!n){if(!1===n)throw new Fe("Adapter ".concat(e," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(Ie.hasOwnProp(_n,e)?"Adapter '".concat(e,"' is not available in the build"):"Unknown adapter '".concat(e,"'"))}if(!Ie.isFunction(n))throw new TypeError("adapter is not a function");return n};function Sn(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new gn(null,t)}function Mn(t){return Sn(t),t.headers=dn.from(t.headers),t.data=pn.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),kn(t.adapter||on.adapter)(t).then((function(e){return Sn(t),e.data=pn.call(t,t.transformResponse,e),e.headers=dn.from(e.headers),e}),(function(e){return vn(e)||(Sn(t),e&&e.response&&(e.response.data=pn.call(t,t.transformResponse,e.response),e.response.headers=dn.from(e.response.headers))),Promise.reject(e)}))}var En=function(t){return t instanceof dn?t.toJSON():t};function Cn(t,e){e=e||{};var n={};function i(t,e,n){return Ie.isPlainObject(t)&&Ie.isPlainObject(e)?Ie.merge.call({caseless:n},t,e):Ie.isPlainObject(e)?Ie.merge({},e):Ie.isArray(e)?e.slice():e}function r(t,e,n){return Ie.isUndefined(e)?Ie.isUndefined(t)?void 0:i(void 0,t,n):i(t,e,n)}function a(t,e){if(!Ie.isUndefined(e))return i(void 0,e)}function o(t,e){return Ie.isUndefined(e)?Ie.isUndefined(t)?void 0:i(void 0,t):i(void 0,e)}function s(n,r,a){return a in e?i(n,r):a in t?i(void 0,n):void 0}var l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(t,e){return r(En(t),En(e),!0)}};return Ie.forEach(Object.keys(Object.assign({},t,e)),(function(i){var a=l[i]||r,o=a(t[i],e[i],i);Ie.isUndefined(o)&&a!==s||(n[i]=o)})),n}var Pn="1.4.0",Tn={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){Tn[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var Ln={};Tn.transitional=function(t,e,n){function i(t,e){return"[Axios v1.4.0] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,r,a){if(!1===t)throw new Fe(i(r," has been removed"+(e?" in "+e:"")),Fe.ERR_DEPRECATED);return e&&!Ln[r]&&(Ln[r]=!0,console.warn(i(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,a)}};var On={assertOptions:function(t,e,n){if("object"!==typeof t)throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(t),r=i.length;r-- >0;){var a=i[r],o=e[a];if(o){var s=t[a],l=void 0===s||o(s,a,t);if(!0!==l)throw new Fe("option "+a+" must be "+l,Fe.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Fe("Unknown option "+a,Fe.ERR_BAD_OPTION)}},validators:Tn},zn=On.validators,Rn=function(){function t(e){h(this,t),this.defaults=e,this.interceptors={request:new $e,response:new $e}}return v(t,[{key:"request",value:function(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{};var n,i=e=Cn(this.defaults,e),r=i.transitional,a=i.paramsSerializer,o=i.headers;void 0!==r&&On.assertOptions(r,{silentJSONParsing:zn.transitional(zn.boolean),forcedJSONParsing:zn.transitional(zn.boolean),clarifyTimeoutError:zn.transitional(zn.boolean)},!1),null!=a&&(Ie.isFunction(a)?e.paramsSerializer={serialize:a}:On.assertOptions(a,{encode:zn.function,serialize:zn.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase(),(n=o&&Ie.merge(o.common,o[e.method]))&&Ie.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete o[t]})),e.headers=dn.concat(n,o);var s=[],l=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(l=l&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));var u,c=[];this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)}));var h,f=0;if(!l){var d=[Mn.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,c),h=d.length,u=Promise.resolve(e);f<h;)u=u.then(d[f++],d[f++]);return u}h=s.length;var p=e;for(f=0;f<h;){var v=s[f++],m=s[f++];try{p=v(p)}catch(g){m.call(this,g);break}}try{u=Mn.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}},{key:"getUri",value:function(t){return qe(wn((t=Cn(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}]),t}();Ie.forEach(["delete","get","head","options"],(function(t){Rn.prototype[t]=function(e,n){return this.request(Cn(n||{},{method:t,url:e,data:(n||{}).data}))}})),Ie.forEach(["post","put","patch"],(function(t){function e(e){return function(n,i,r){return this.request(Cn(r||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Rn.prototype[t]=e(),Rn.prototype[t+"Form"]=e(!0)}));var Dn=Rn,In=function(){function t(e){if(h(this,t),"function"!==typeof e)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(t){n=t}));var i=this;this.promise.then((function(t){if(i._listeners){for(var e=i._listeners.length;e-- >0;)i._listeners[e](t);i._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){i.subscribe(t),e=t})).then(t);return n.cancel=function(){i.unsubscribe(e)},n},e((function(t,e,r){i.reason||(i.reason=new gn(t,e,r),n(i.reason))}))}return v(t,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}},{key:"unsubscribe",value:function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}}}],[{key:"source",value:function(){var e;return{token:new t((function(t){e=t})),cancel:e}}}]),t}();var Bn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bn).forEach((function(t){var e=l(t,2),n=e[0],i=e[1];Bn[i]=n}));var Nn=Bn;var jn=function t(e){var n=new Dn(e),i=ne(Dn.prototype.request,n);return Ie.extend(i,Dn.prototype,n,{allOwnKeys:!0}),Ie.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return t(Cn(e,n))},i}(on);jn.Axios=Dn,jn.CanceledError=gn,jn.CancelToken=In,jn.isCancel=vn,jn.VERSION=Pn,jn.toFormData=We,jn.AxiosError=Fe,jn.Cancel=jn.CanceledError,jn.all=function(t){return Promise.all(t)},jn.spread=function(t){return function(e){return t.apply(null,e)}},jn.isAxiosError=function(t){return Ie.isObject(t)&&!0===t.isAxiosError},jn.mergeConfig=Cn,jn.AxiosHeaders=dn,jn.formToJSON=function(t){return nn(Ie.isHTMLForm(t)?new FormData(t):t)},jn.HttpStatusCode=Nn,jn.default=jn;var Fn,Un,Hn=jn,Vn=function(){return Vn=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Vn.apply(this,arguments)};function Gn(t,e,n){if(n||2===arguments.length)for(var i,r=0,a=e.length;r<a;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Wn(t){var e="function"===typeof Map?new Map:void 0;return Wn=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return Qn(t,arguments,ri(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ti(i,t)},Wn(t)}function Qn(t,e,n){return Qn=ii()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&ti(r,n.prototype),r},Qn.apply(null,arguments)}function Xn(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,r)}function Yn(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Zn(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Jn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}}(t,e)||Zn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zn(t,e){if(t){if("string"===typeof t)return qn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qn(t,e):void 0}}function qn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Kn(){return Kn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ri(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},Kn.apply(this,arguments)}function $n(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ti(t,e)}function ti(t,e){return ti=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ti(t,e)}function ei(t){var e=ii();return function(){var n,i=ri(t);if(e){var r=ri(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===si(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ni(t)}(this,n)}}function ni(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ii(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ri(t){return ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ri(t)}function ai(t,e,n){return(e=hi(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oi(){oi=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(C){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),s=new S(r||[]);return i(o,"_invoke",{value:x(t,n,s)}),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(C){return{type:"throw",arg:C}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var v={};l(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(M([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=p.prototype=f.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(i,a,o,s){var l=c(t[i],t,a);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==si(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(h).then((function(t){u.value=t,o(u)}),(function(t){return r("throw",t,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function x(t,e,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return E()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=A(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(t,e,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function A(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=c(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function M(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=p,i(y,"constructor",{value:p,configurable:!0}),i(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),l(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new b(u(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},w(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=M,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return o.type="throw",o.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:M(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function si(t){return si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},si(t)}function li(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ui(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,hi(i.key),i)}}function ci(t,e,n){return e&&ui(t.prototype,e),n&&ui(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hi(t){var e=function(t,e){if("object"!==si(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==si(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===si(e)?e:String(e)}var fi="150",di=0,pi=1,vi=2,mi=1,gi=2,yi=3,wi=0,bi=1,xi=2,Ai=0,_i=1,ki=2,Si=3,Mi=4,Ei=5,Ci=100,Pi=101,Ti=102,Li=103,Oi=104,zi=200,Ri=201,Di=202,Ii=203,Bi=204,Ni=205,ji=206,Fi=207,Ui=208,Hi=209,Vi=210,Gi=0,Wi=1,Qi=2,Xi=3,Yi=4,Ji=5,Zi=6,qi=7,Ki=0,$i=1,tr=2,er=0,nr=1,ir=2,rr=3,ar=4,or=5,sr=301,lr=302,ur=303,cr=304,hr=306,fr=1e3,dr=1001,pr=1002,vr=1003,mr=1004,gr=1005,yr=1006,wr=1007,br=1008,xr=1009,Ar=1010,_r=1011,kr=1012,Sr=1013,Mr=1014,Er=1015,Cr=1016,Pr=1017,Tr=1018,Lr=1020,Or=1021,zr=1023,Rr=1024,Dr=1025,Ir=1026,Br=1027,Nr=1028,jr=1029,Fr=1030,Ur=1031,Hr=1033,Vr=33776,Gr=33777,Wr=33778,Qr=33779,Xr=35840,Yr=35841,Jr=35842,Zr=35843,qr=36196,Kr=37492,$r=37496,ta=37808,ea=37809,na=37810,ia=37811,ra=37812,aa=37813,oa=37814,sa=37815,la=37816,ua=37817,ca=37818,ha=37819,fa=37820,da=37821,pa=36492,va=36283,ma=36284,ga=36285,ya=36286,wa=3e3,ba=3001,xa=3201,Aa=0,_a=1,ka="srgb",Sa="srgb-linear",Ma="display-p3",Ea=7680,Ca="300 es",Pa=1035,Ta=function(){function t(){li(this,t)}return ci(t,[{key:"addEventListener",value:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}},{key:"hasEventListener",value:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}},{key:"removeEventListener",value:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}}}},{key:"dispatchEvent",value:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,t);t.target=null}}}}]),t}(),La=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Oa=1234567,za=Math.PI/180,Ra=180/Math.PI;function Da(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(La[255&t]+La[t>>8&255]+La[t>>16&255]+La[t>>24&255]+"-"+La[255&e]+La[e>>8&255]+"-"+La[e>>16&15|64]+La[e>>24&255]+"-"+La[63&n|128]+La[n>>8&255]+"-"+La[n>>16&255]+La[n>>24&255]+La[255&i]+La[i>>8&255]+La[i>>16&255]+La[i>>24&255]).toLowerCase()}function Ia(t,e,n){return Math.max(e,Math.min(n,t))}function Ba(t,e){return(t%e+e)%e}function Na(t,e,n){return(1-n)*t+n*e}function ja(t){return 0===(t&t-1)&&0!==t}function Fa(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Ua(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Ha(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error("Invalid component type.")}}var Va={DEG2RAD:za,RAD2DEG:Ra,generateUUID:Da,clamp:Ia,euclideanModulo:Ba,mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},inverseLerp:function(t,e,n){return t!==e?(n-t)/(e-t):0},lerp:Na,damp:function(t,e,n,i){return Na(t,e,1-Math.exp(-n*i))},pingpong:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e-Math.abs(Ba(t,2*e)-e)},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){void 0!==t&&(Oa=t);var e=Oa+=1831565813;return e=Math.imul(e^e>>>15,1|e),(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)/4294967296},degToRad:function(t){return t*za},radToDeg:function(t){return t*Ra},isPowerOfTwo:ja,ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:Fa,setQuaternionFromProperEuler:function(t,e,n,i,r){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((e+i)/2),c=o((e+i)/2),h=a((e-i)/2),f=o((e-i)/2),d=a((i-e)/2),p=o((i-e)/2);switch(r){case"XYX":t.set(s*c,l*h,l*f,s*u);break;case"YZY":t.set(l*f,s*c,l*h,s*u);break;case"ZXZ":t.set(l*h,l*f,s*c,s*u);break;case"XZX":t.set(s*c,l*p,l*d,s*u);break;case"YXY":t.set(l*d,s*c,l*p,s*u);break;case"ZYZ":t.set(l*p,l*d,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}},normalize:Ha,denormalize:Ua},Ga=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;li(this,e),e.prototype.isVector2=!0,this.x=t,this.y=n}return ci(e,[{key:"width",get:function(){return this.x},set:function(t){this.x=t}},{key:"height",get:function(){return this.y},set:function(t){this.y=t}},{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var t=Math.atan2(-this.y,-this.x)+Math.PI;return t}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t}},{key:"fromBufferAttribute",value:function(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}},{key:"rotateAround",value:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*n-a*i+t.x,this.y=r*i+a*n+t.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:oi().mark((function t(){return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x;case 2:return t.next=4,this.y;case 4:case"end":return t.stop()}}),t,this)}))}]),e}(),Wa=function(){function t(){li(this,t),t.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}return ci(t,[{key:"set",value:function(t,e,n,i,r,a,o,s,l){var u=this.elements;return u[0]=t,u[1]=i,u[2]=o,u[3]=e,u[4]=r,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,i=e.elements,r=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],h=n[2],f=n[5],d=n[8],p=i[0],v=i[3],m=i[6],g=i[1],y=i[4],w=i[7],b=i[2],x=i[5],A=i[8];return r[0]=a*p+o*g+s*b,r[3]=a*v+o*y+s*x,r[6]=a*m+o*w+s*A,r[1]=l*p+u*g+c*b,r[4]=l*v+u*y+c*x,r[7]=l*m+u*w+c*A,r[2]=h*p+f*g+d*b,r[5]=h*v+f*y+d*x,r[8]=h*m+f*w+d*A,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8];return e*a*u-e*o*l-n*r*u+n*o*s+i*r*l-i*a*s}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=u*a-o*l,h=o*s-u*r,f=l*r-a*s,d=e*c+n*h+i*f;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);var p=1/d;return t[0]=c*p,t[1]=(i*l-u*n)*p,t[2]=(o*n-i*a)*p,t[3]=h*p,t[4]=(u*e-i*s)*p,t[5]=(i*r-o*e)*p,t[6]=f*p,t[7]=(n*s-l*e)*p,t[8]=(a*e-n*r)*p,this}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}},{key:"getNormalMatrix",value:function(t){return this.setFromMatrix4(t).invert().transpose()}},{key:"transposeIntoArray",value:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}},{key:"setUvTransform",value:function(t,e,n,i,r,a,o){var s=Math.cos(r),l=Math.sin(r);return this.set(n*s,n*l,-n*(s*a+l*o)+a+t,-i*l,i*s,-i*(-l*a+s*o)+o+e,0,0,1),this}},{key:"scale",value:function(t,e){return this.premultiply(Qa.makeScale(t,e)),this}},{key:"rotate",value:function(t){return this.premultiply(Qa.makeRotation(-t)),this}},{key:"translate",value:function(t,e){return this.premultiply(Qa.makeTranslation(t,e)),this}},{key:"makeTranslation",value:function(t,e){return this.set(1,0,t,0,1,e,0,0,1),this}},{key:"makeRotation",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,n,e,0,0,0,1),this}},{key:"makeScale",value:function(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),t}(),Qa=new Wa;function Xa(t){for(var e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Ya(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}var Ja=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;li(this,e),this.isQuaternion=!0,this._x=t,this._y=n,this._z=i,this._w=r}return ci(e,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}},{key:"set",value:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(t,e){var n=t._x,i=t._y,r=t._z,a=t._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(i/2),c=o(r/2),h=s(n/2),f=s(i/2),d=s(r/2);switch(a){case"XYZ":this._x=h*u*c+l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c-h*f*d;break;case"YXZ":this._x=h*u*c+l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c+h*f*d;break;case"ZXY":this._x=h*u*c-l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c-h*f*d;break;case"ZYX":this._x=h*u*c-l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c+h*f*d;break;case"YZX":this._x=h*u*c+l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c-h*f*d;break;case"XZY":this._x=h*u*c-l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c+h*f*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==e&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(t,e){var n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e=t.elements,n=e[0],i=e[4],r=e[8],a=e[1],o=e[5],s=e[9],l=e[2],u=e[6],c=e[10],h=n+o+c;if(h>0){var f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-s)*f,this._y=(r-l)*f,this._z=(a-i)*f}else if(n>o&&n>c){var d=2*Math.sqrt(1+n-o-c);this._w=(u-s)/d,this._x=.25*d,this._y=(i+a)/d,this._z=(r+l)/d}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(r-l)/p,this._x=(i+a)/p,this._y=.25*p,this._z=(s+u)/p}else{var v=2*Math.sqrt(1+c-n-o);this._w=(a-i)/v,this._x=(r+l)/v,this._y=(s+u)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(t,e){var n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(t){return 2*Math.acos(Math.abs(Ia(this.dot(t),-1,1)))}},{key:"rotateTowards",value:function(t,e){var n=this.angleTo(t);if(0===n)return this;var i=Math.min(1,e/n);return this.slerp(t,i),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}},{key:"multiply",value:function(t){return this.multiplyQuaternions(this,t)}},{key:"premultiply",value:function(t){return this.multiplyQuaternions(t,this)}},{key:"multiplyQuaternions",value:function(t,e){var n=t._x,i=t._y,r=t._z,a=t._w,o=e._x,s=e._y,l=e._z,u=e._w;return this._x=n*u+a*o+i*l-r*s,this._y=i*u+a*s+r*o-n*l,this._z=r*u+a*l+n*s-i*o,this._w=a*u-n*o-i*s-r*l,this._onChangeCallback(),this}},{key:"slerp",value:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,i=this._y,r=this._z,a=this._w,o=a*t._w+n*t._x+i*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=n,this._y=i,this._z=r,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-e;return this._w=l*a+e*this._w,this._x=l*n+e*this._x,this._y=l*i+e*this._y,this._z=l*r+e*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),h=Math.sin((1-e)*c)/u,f=Math.sin(e*c)/u;return this._w=a*h+this._w*f,this._x=n*h+this._x*f,this._y=i*h+this._y*f,this._z=r*h+this._z*f,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(t,e,n){return this.copy(t).slerp(e,n)}},{key:"random",value:function(){var t=Math.random(),e=Math.sqrt(1-t),n=Math.sqrt(t),i=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(e*Math.cos(i),n*Math.sin(r),n*Math.cos(r),e*Math.sin(i))}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}},{key:"fromBufferAttribute",value:function(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:oi().mark((function t(){return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._x;case 2:return t.next=4,this._y;case 4:return t.next=6,this._z;case 6:return t.next=8,this._w;case 8:case"end":return t.stop()}}),t,this)}))}],[{key:"slerpFlat",value:function(t,e,n,i,r,a,o){var s=n[i+0],l=n[i+1],u=n[i+2],c=n[i+3],h=r[a+0],f=r[a+1],d=r[a+2],p=r[a+3];if(0===o)return t[e+0]=s,t[e+1]=l,t[e+2]=u,void(t[e+3]=c);if(1===o)return t[e+0]=h,t[e+1]=f,t[e+2]=d,void(t[e+3]=p);if(c!==p||s!==h||l!==f||u!==d){var v=1-o,m=s*h+l*f+u*d+c*p,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var w=Math.sqrt(y),b=Math.atan2(w,m*g);v=Math.sin(v*b)/w,o=Math.sin(o*b)/w}var x=o*g;if(s=s*v+h*x,l=l*v+f*x,u=u*v+d*x,c=c*v+p*x,v===1-o){var A=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=A,l*=A,u*=A,c*=A}}t[e]=s,t[e+1]=l,t[e+2]=u,t[e+3]=c}},{key:"multiplyQuaternionsFlat",value:function(t,e,n,i,r,a){var o=n[i],s=n[i+1],l=n[i+2],u=n[i+3],c=r[a],h=r[a+1],f=r[a+2],d=r[a+3];return t[e]=o*d+u*c+s*f-l*h,t[e+1]=s*d+u*h+l*c-o*f,t[e+2]=l*d+u*f+o*h-s*c,t[e+3]=u*d-o*c-s*h-l*f,t}}]),e}(),Za=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;li(this,e),e.prototype.isVector3=!0,this.x=t,this.y=n,this.z=i}return ci(e,[{key:"set",value:function(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}},{key:"applyEuler",value:function(t){return this.applyQuaternion(Ka.setFromEuler(t))}},{key:"applyAxisAngle",value:function(t,e){return this.applyQuaternion(Ka.setFromAxisAngle(t,e))}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this}},{key:"applyNormalMatrix",value:function(t){return this.applyMatrix3(t).normalize()}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements,a=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*a,this}},{key:"applyQuaternion",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.x,a=t.y,o=t.z,s=t.w,l=s*e+a*i-o*n,u=s*n+o*e-r*i,c=s*i+r*n-a*e,h=-r*e-a*n-o*i;return this.x=l*s+h*-r+u*-o-c*-a,this.y=u*s+h*-a+c*-r-l*-o,this.z=c*s+h*-o+l*-a-u*-r,this}},{key:"project",value:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}},{key:"unproject",value:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}},{key:"transformDirection",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}},{key:"cross",value:function(t){return this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,e){var n=t.x,i=t.y,r=t.z,a=e.x,o=e.y,s=e.z;return this.x=i*s-r*o,this.y=r*a-n*s,this.z=n*o-i*a,this}},{key:"projectOnVector",value:function(t){var e=t.lengthSq();if(0===e)return this.set(0,0,0);var n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}},{key:"projectOnPlane",value:function(t){return qa.copy(this).projectOnVector(t),this.sub(qa)}},{key:"reflect",value:function(t){return this.sub(qa.copy(t).multiplyScalar(2*this.dot(t)))}},{key:"angleTo",value:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;var n=this.dot(t)/e;return Math.acos(Ia(n,-1,1))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}},{key:"setFromSphericalCoords",value:function(t,e,n){var i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}},{key:"setFromMatrixPosition",value:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}},{key:"setFromMatrixScale",value:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}},{key:"setFromMatrixColumn",value:function(t,e){return this.fromArray(t.elements,4*e)}},{key:"setFromMatrix3Column",value:function(t,e){return this.fromArray(t.elements,3*e)}},{key:"setFromEuler",value:function(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}},{key:"fromBufferAttribute",value:function(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(t,2));return this.x=n*Math.cos(e),this.y=n*Math.sin(e),this.z=t,this}},{key:Symbol.iterator,value:oi().mark((function t(){return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x;case 2:return t.next=4,this.y;case 4:return t.next=6,this.z;case 6:case"end":return t.stop()}}),t,this)}))}]),e}(),qa=new Za,Ka=new Ja;function $a(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function to(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}var eo=(new Wa).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),no=(new Wa).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),io=new Za;var ro,ao=(ai(Fn={},Sa,(function(t){return t})),ai(Fn,ka,(function(t){return t.convertSRGBToLinear()})),ai(Fn,Ma,(function(t){return t.convertSRGBToLinear(),io.set(t.r,t.g,t.b).applyMatrix3(no),t.setRGB(io.x,io.y,io.z)})),Fn),oo=(ai(Un={},Sa,(function(t){return t})),ai(Un,ka,(function(t){return t.convertLinearToSRGB()})),ai(Un,Ma,(function(t){return io.set(t.r,t.g,t.b).applyMatrix3(eo),t.setRGB(io.x,io.y,io.z).convertLinearToSRGB()})),Un),so={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return Sa},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(!1===this.enabled||e===n||!e||!n)return t;var i=ao[e],r=oo[n];if(void 0===i||void 0===r)throw new Error('Unsupported color space conversion, "'.concat(e,'" to "').concat(n,'".'));return r(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},lo=function(){function t(){li(this,t)}return ci(t,null,[{key:"getDataURL",value:function(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;var e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===ro&&(ro=Ya("canvas")),ro.width=t.width,ro.height=t.height;var n=ro.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=ro}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(t){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap){var e=Ya("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);for(var i=n.getImageData(0,0,t.width,t.height),r=i.data,a=0;a<r.length;a++)r[a]=255*$a(r[a]/255);return n.putImageData(i,0,0),e}if(t.data){for(var o=t.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*$a(o[s]/255)):o[s]=$a(o[s]);return{data:o,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}]),t}(),uo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;li(this,t),this.isSource=!0,this.uuid=Da(),this.data=e,this.version=0}return ci(t,[{key:"needsUpdate",set:function(t){!0===t&&this.version++}},{key:"toJSON",value:function(t){var e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];var n={uuid:this.uuid,url:""},i=this.data;if(null!==i){var r;if(Array.isArray(i)){r=[];for(var a=0,o=i.length;a<o;a++)i[a].isDataTexture?r.push(co(i[a].image)):r.push(co(i[a]))}else r=co(i);n.url=r}return e||(t.images[this.uuid]=n),n}}]),t}();function co(t){return"undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap?lo.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var ho=0,fo=function(t){$n(n,t);var e=ei(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dr,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:dr,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yr,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:br,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:zr,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:xr,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:wa;return li(this,n),(t=e.call(this)).isTexture=!0,Object.defineProperty(ni(t),"id",{value:ho++}),t.uuid=Da(),t.name="",t.source=new uo(i),t.mipmaps=[],t.mapping=r,t.wrapS=a,t.wrapT=o,t.magFilter=s,t.minFilter=l,t.anisotropy=h,t.format=u,t.internalFormat=null,t.type=c,t.offset=new Ga(0,0),t.repeat=new Ga(1,1),t.center=new Ga(0,0),t.rotation=0,t.matrixAutoUpdate=!0,t.matrix=new Wa,t.generateMipmaps=!0,t.premultiplyAlpha=!1,t.flipY=!0,t.unpackAlignment=4,t.encoding=f,t.userData={},t.version=0,t.onUpdate=null,t.isRenderTargetTexture=!1,t.needsPMREMUpdate=!1,t}return ci(n,[{key:"image",get:function(){return this.source.data},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.source.data=t}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(t){var e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),e||(t.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case fr:t.x=t.x-Math.floor(t.x);break;case dr:t.x=t.x<0?0:1;break;case pr:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case fr:t.y=t.y-Math.floor(t.y);break;case dr:t.y=t.y<0?0:1;break;case pr:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}},{key:"needsUpdate",set:function(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}}]),n}(Ta);fo.DEFAULT_IMAGE=null,fo.DEFAULT_MAPPING=300,fo.DEFAULT_ANISOTROPY=1;var po=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;li(this,e),e.prototype.isVector4=!0,this.x=t,this.y=n,this.z=i,this.w=r}return ci(e,[{key:"width",get:function(){return this.z},set:function(t){this.z=t}},{key:"height",get:function(){return this.w},set:function(t){this.w=t}},{key:"set",value:function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setW",value:function(t){return this.w=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,i=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*e+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*e+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*e+a[7]*n+a[11]*i+a[15]*r,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"setAxisAngleFromQuaternion",value:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}},{key:"setAxisAngleFromRotationMatrix",value:function(t){var e,n,i,r,a=.01,o=.1,s=t.elements,l=s[0],u=s[4],c=s[8],h=s[1],f=s[5],d=s[9],p=s[2],v=s[6],m=s[10];if(Math.abs(u-h)<a&&Math.abs(c-p)<a&&Math.abs(d-v)<a){if(Math.abs(u+h)<o&&Math.abs(c+p)<o&&Math.abs(d+v)<o&&Math.abs(l+f+m-3)<o)return this.set(1,0,0,0),this;e=Math.PI;var g=(l+1)/2,y=(f+1)/2,w=(m+1)/2,b=(u+h)/4,x=(c+p)/4,A=(d+v)/4;return g>y&&g>w?g<a?(n=0,i=.707106781,r=.707106781):(i=b/(n=Math.sqrt(g)),r=x/n):y>w?y<a?(n=.707106781,i=0,r=.707106781):(n=b/(i=Math.sqrt(y)),r=A/i):w<a?(n=.707106781,i=.707106781,r=0):(n=x/(r=Math.sqrt(w)),i=A/r),this.set(n,i,r,e),this}var _=Math.sqrt((v-d)*(v-d)+(c-p)*(c-p)+(h-u)*(h-u));return Math.abs(_)<.001&&(_=1),this.x=(v-d)/_,this.y=(c-p)/_,this.z=(h-u)/_,this.w=Math.acos((l+f+m-1)/2),this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}},{key:"fromBufferAttribute",value:function(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:oi().mark((function t(){return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x;case 2:return t.next=4,this.y;case 4:return t.next=6,this.z;case 6:return t.next=8,this.w;case 8:case"end":return t.stop()}}),t,this)}))}]),e}(),vo=function(t){$n(n,t);var e=ei(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};li(this,n),(t=e.call(this)).isWebGLRenderTarget=!0,t.width=i,t.height=r,t.depth=1,t.scissor=new po(0,0,i,r),t.scissorTest=!1,t.viewport=new po(0,0,i,r);var o={width:i,height:r,depth:1};return t.texture=new fo(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),t.texture.isRenderTargetTexture=!0,t.texture.flipY=!1,t.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,t.texture.internalFormat=void 0!==a.internalFormat?a.internalFormat:null,t.texture.minFilter=void 0!==a.minFilter?a.minFilter:yr,t.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,t.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,t.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,t.samples=void 0!==a.samples?a.samples:0,t}return ci(n,[{key:"setSize",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===t&&this.height===e&&this.depth===n||(this.width=t,this.height=e,this.depth=n,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;var e=Object.assign({},t.texture.image);return this.texture.source=new uo(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Ta),mo=function(t){$n(n,t);var e=ei(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return li(this,n),(t=e.call(this,null)).isDataArrayTexture=!0,t.image={data:i,width:r,height:a,depth:o},t.magFilter=vr,t.minFilter=vr,t.wrapR=dr,t.generateMipmaps=!1,t.flipY=!1,t.unpackAlignment=1,t}return ci(n)}(fo),go=function(t){$n(n,t);var e=ei(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return li(this,n),(t=e.call(this,null)).isData3DTexture=!0,t.image={data:i,width:r,height:a,depth:o},t.magFilter=vr,t.minFilter=vr,t.wrapR=dr,t.generateMipmaps=!1,t.flipY=!1,t.unpackAlignment=1,t}return ci(n)}(fo),yo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Za(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Za(-1/0,-1/0,-1/0);li(this,t),this.isBox3=!0,this.min=e,this.max=n}return ci(t,[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromArray",value:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=t.length;s<l;s+=3){var u=t[s],c=t[s+1],h=t[s+2];u<e&&(e=u),c<n&&(n=c),h<i&&(i=h),u>r&&(r=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,a,o),this}},{key:"setFromBufferAttribute",value:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=t.count;s<l;s++){var u=t.getX(s),c=t.getY(s),h=t.getZ(s);u<e&&(e=u),c<n&&(n=c),h<i&&(i=h),u>r&&(r=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,a,o),this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){var n=bo.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}},{key:"setFromObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(t,e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"expandByObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.updateWorldMatrix(!1,!1);var n=t.geometry;if(void 0!==n)if(e&&void 0!=n.attributes&&void 0!==n.attributes.position)for(var i=n.attributes.position,r=0,a=i.count;r<a;r++)bo.fromBufferAttribute(i,r).applyMatrix4(t.matrixWorld),this.expandByPoint(bo);else null===n.boundingBox&&n.computeBoundingBox(),xo.copy(n.boundingBox),xo.applyMatrix4(t.matrixWorld),this.union(xo);for(var o=t.children,s=0,l=o.length;s<l;s++)this.expandByObject(o[s],e);return this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}},{key:"getParameter",value:function(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}},{key:"intersectsSphere",value:function(t){return this.clampPoint(t.center,bo),bo.distanceToSquared(t.center)<=t.radius*t.radius}},{key:"intersectsPlane",value:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}},{key:"intersectsTriangle",value:function(t){if(this.isEmpty())return!1;this.getCenter(Co),Po.subVectors(this.max,Co),Ao.subVectors(t.a,Co),_o.subVectors(t.b,Co),ko.subVectors(t.c,Co),So.subVectors(_o,Ao),Mo.subVectors(ko,_o),Eo.subVectors(Ao,ko);var e=[0,-So.z,So.y,0,-Mo.z,Mo.y,0,-Eo.z,Eo.y,So.z,0,-So.x,Mo.z,0,-Mo.x,Eo.z,0,-Eo.x,-So.y,So.x,0,-Mo.y,Mo.x,0,-Eo.y,Eo.x,0];return!!Oo(e,Ao,_o,ko,Po)&&(!!Oo(e=[1,0,0,0,1,0,0,0,1],Ao,_o,ko,Po)&&(To.crossVectors(So,Mo),Oo(e=[To.x,To.y,To.z],Ao,_o,ko,Po)))}},{key:"clampPoint",value:function(t,e){return e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return this.clampPoint(t,bo).distanceTo(t)}},{key:"getBoundingSphere",value:function(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(bo).length()),t}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"applyMatrix4",value:function(t){return this.isEmpty()||(wo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),wo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),wo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),wo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),wo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),wo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),wo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),wo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(wo)),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),t}(),wo=[new Za,new Za,new Za,new Za,new Za,new Za,new Za,new Za],bo=new Za,xo=new yo,Ao=new Za,_o=new Za,ko=new Za,So=new Za,Mo=new Za,Eo=new Za,Co=new Za,Po=new Za,To=new Za,Lo=new Za;function Oo(t,e,n,i,r){for(var a=0,o=t.length-3;a<=o;a+=3){Lo.fromArray(t,a);var s=r.x*Math.abs(Lo.x)+r.y*Math.abs(Lo.y)+r.z*Math.abs(Lo.z),l=e.dot(Lo),u=n.dot(Lo),c=i.dot(Lo);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var zo=new yo,Ro=new Za,Do=new Za,Io=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Za,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;li(this,t),this.center=e,this.radius=n}return ci(t,[{key:"set",value:function(t,e){return this.center.copy(t),this.radius=e,this}},{key:"setFromPoints",value:function(t,e){var n=this.center;void 0!==e?n.copy(e):zo.setFromPoints(t).getCenter(n);for(var i=0,r=0,a=t.length;r<a;r++)i=Math.max(i,n.distanceToSquared(t[r]));return this.radius=Math.sqrt(i),this}},{key:"copy",value:function(t){return this.center.copy(t.center),this.radius=t.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(t){return t.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}},{key:"intersectsBox",value:function(t){return t.intersectsSphere(this)}},{key:"intersectsPlane",value:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(t,e){var n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}},{key:"getBoundingBox",value:function(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}},{key:"applyMatrix4",value:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}},{key:"translate",value:function(t){return this.center.add(t),this}},{key:"expandByPoint",value:function(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;Ro.subVectors(t,this.center);var e=Ro.lengthSq();if(e>this.radius*this.radius){var n=Math.sqrt(e),i=.5*(n-this.radius);this.center.addScaledVector(Ro,i/n),this.radius+=i}return this}},{key:"union",value:function(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(Do.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(Ro.copy(t.center).add(Do)),this.expandByPoint(Ro.copy(t.center).sub(Do))),this)}},{key:"equals",value:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),Bo=new Za,No=new Za,jo=new Za,Fo=new Za,Uo=new Za,Ho=new Za,Vo=new Za,Go=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Za,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Za(0,0,-1);li(this,t),this.origin=e,this.direction=n}return ci(t,[{key:"set",value:function(t,e){return this.origin.copy(t),this.direction.copy(e),this}},{key:"copy",value:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}},{key:"at",value:function(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}},{key:"lookAt",value:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this}},{key:"recast",value:function(t){return this.origin.copy(this.at(t,Bo)),this}},{key:"closestPointToPoint",value:function(t,e){e.subVectors(t,this.origin);var n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,n)}},{key:"distanceToPoint",value:function(t){return Math.sqrt(this.distanceSqToPoint(t))}},{key:"distanceSqToPoint",value:function(t){var e=Bo.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Bo.copy(this.origin).addScaledVector(this.direction,e),Bo.distanceToSquared(t))}},{key:"distanceSqToSegment",value:function(t,e,n,i){No.copy(t).add(e).multiplyScalar(.5),jo.copy(e).sub(t).normalize(),Fo.copy(this.origin).sub(No);var r,a,o,s,l=.5*t.distanceTo(e),u=-this.direction.dot(jo),c=Fo.dot(this.direction),h=-Fo.dot(jo),f=Fo.lengthSq(),d=Math.abs(1-u*u);if(d>0)if(a=u*c-h,s=l*d,(r=u*h-c)>=0)if(a>=-s)if(a<=s){var p=1/d;o=(r*=p)*(r+u*(a*=p)+2*c)+a*(u*r+a+2*h)+f}else a=l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+f;else a=-l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+f;else a<=-s?o=-(r=Math.max(0,-(-u*l+c)))*r+(a=r>0?-l:Math.min(Math.max(-l,-h),l))*(a+2*h)+f:a<=s?(r=0,o=(a=Math.min(Math.max(-l,-h),l))*(a+2*h)+f):o=-(r=Math.max(0,-(u*l+c)))*r+(a=r>0?l:Math.min(Math.max(-l,-h),l))*(a+2*h)+f;else a=u>0?-l:l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+f;return n&&n.copy(this.origin).addScaledVector(this.direction,r),i&&i.copy(No).addScaledVector(jo,a),o}},{key:"intersectSphere",value:function(t,e){Bo.subVectors(t.center,this.origin);var n=Bo.dot(this.direction),i=Bo.dot(Bo)-n*n,r=t.radius*t.radius;if(i>r)return null;var a=Math.sqrt(r-i),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,e):this.at(o,e)}},{key:"intersectsSphere",value:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}},{key:"distanceToPlane",value:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}},{key:"intersectPlane",value:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}},{key:"intersectsPlane",value:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}},{key:"intersectBox",value:function(t,e){var n,i,r,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(n=(t.min.x-h.x)*l,i=(t.max.x-h.x)*l):(n=(t.max.x-h.x)*l,i=(t.min.x-h.x)*l),u>=0?(r=(t.min.y-h.y)*u,a=(t.max.y-h.y)*u):(r=(t.max.y-h.y)*u,a=(t.min.y-h.y)*u),n>a||r>i?null:((r>n||isNaN(n))&&(n=r),(a<i||isNaN(i))&&(i=a),c>=0?(o=(t.min.z-h.z)*c,s=(t.max.z-h.z)*c):(o=(t.max.z-h.z)*c,s=(t.min.z-h.z)*c),n>s||o>i?null:((o>n||n!==n)&&(n=o),(s<i||i!==i)&&(i=s),i<0?null:this.at(n>=0?n:i,e)))}},{key:"intersectsBox",value:function(t){return null!==this.intersectBox(t,Bo)}},{key:"intersectTriangle",value:function(t,e,n,i,r){Uo.subVectors(e,t),Ho.subVectors(n,t),Vo.crossVectors(Uo,Ho);var a,o=this.direction.dot(Vo);if(o>0){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Fo.subVectors(this.origin,t);var s=a*this.direction.dot(Ho.crossVectors(Fo,Ho));if(s<0)return null;var l=a*this.direction.dot(Uo.cross(Fo));if(l<0)return null;if(s+l>o)return null;var u=-a*Fo.dot(Vo);return u<0?null:this.at(u/o,r)}},{key:"applyMatrix4",value:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}},{key:"equals",value:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),Wo=function(){function t(){li(this,t),t.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return ci(t,[{key:"set",value:function(t,e,n,i,r,a,o,s,l,u,c,h,f,d,p,v){var m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=i,m[1]=r,m[5]=a,m[9]=o,m[13]=s,m[2]=l,m[6]=u,m[10]=c,m[14]=h,m[3]=f,m[7]=d,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new t).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}},{key:"copyPosition",value:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}},{key:"setFromMatrix3",value:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(t){var e=this.elements,n=t.elements,i=1/Qo.setFromMatrixColumn(t,0).length(),r=1/Qo.setFromMatrixColumn(t,1).length(),a=1/Qo.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*a,e[9]=n[9]*a,e[10]=n[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromEuler",value:function(t){var e=this.elements,n=t.x,i=t.y,r=t.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(i),l=Math.sin(i),u=Math.cos(r),c=Math.sin(r);if("XYZ"===t.order){var h=a*u,f=a*c,d=o*u,p=o*c;e[0]=s*u,e[4]=-s*c,e[8]=l,e[1]=f+d*l,e[5]=h-p*l,e[9]=-o*s,e[2]=p-h*l,e[6]=d+f*l,e[10]=a*s}else if("YXZ"===t.order){var v=s*u,m=s*c,g=l*u,y=l*c;e[0]=v+y*o,e[4]=g*o-m,e[8]=a*l,e[1]=a*c,e[5]=a*u,e[9]=-o,e[2]=m*o-g,e[6]=y+v*o,e[10]=a*s}else if("ZXY"===t.order){var w=s*u,b=s*c,x=l*u,A=l*c;e[0]=w-A*o,e[4]=-a*c,e[8]=x+b*o,e[1]=b+x*o,e[5]=a*u,e[9]=A-w*o,e[2]=-a*l,e[6]=o,e[10]=a*s}else if("ZYX"===t.order){var _=a*u,k=a*c,S=o*u,M=o*c;e[0]=s*u,e[4]=S*l-k,e[8]=_*l+M,e[1]=s*c,e[5]=M*l+_,e[9]=k*l-S,e[2]=-l,e[6]=o*s,e[10]=a*s}else if("YZX"===t.order){var E=a*s,C=a*l,P=o*s,T=o*l;e[0]=s*u,e[4]=T-E*c,e[8]=P*c+C,e[1]=c,e[5]=a*u,e[9]=-o*u,e[2]=-l*u,e[6]=C*c+P,e[10]=E-T*c}else if("XZY"===t.order){var L=a*s,O=a*l,z=o*s,R=o*l;e[0]=s*u,e[4]=-c,e[8]=l*u,e[1]=L*c+R,e[5]=a*u,e[9]=O*c-z,e[2]=z*c-O,e[6]=o*u,e[10]=R*c+L}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(t){return this.compose(Yo,t,Jo)}},{key:"lookAt",value:function(t,e,n){var i=this.elements;return Ko.subVectors(t,e),0===Ko.lengthSq()&&(Ko.z=1),Ko.normalize(),Zo.crossVectors(n,Ko),0===Zo.lengthSq()&&(1===Math.abs(n.z)?Ko.x+=1e-4:Ko.z+=1e-4,Ko.normalize(),Zo.crossVectors(n,Ko)),Zo.normalize(),qo.crossVectors(Ko,Zo),i[0]=Zo.x,i[4]=qo.x,i[8]=Ko.x,i[1]=Zo.y,i[5]=qo.y,i[9]=Ko.y,i[2]=Zo.z,i[6]=qo.z,i[10]=Ko.z,this}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,i=e.elements,r=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],f=n[13],d=n[2],p=n[6],v=n[10],m=n[14],g=n[3],y=n[7],w=n[11],b=n[15],x=i[0],A=i[4],_=i[8],k=i[12],S=i[1],M=i[5],E=i[9],C=i[13],P=i[2],T=i[6],L=i[10],O=i[14],z=i[3],R=i[7],D=i[11],I=i[15];return r[0]=a*x+o*S+s*P+l*z,r[4]=a*A+o*M+s*T+l*R,r[8]=a*_+o*E+s*L+l*D,r[12]=a*k+o*C+s*O+l*I,r[1]=u*x+c*S+h*P+f*z,r[5]=u*A+c*M+h*T+f*R,r[9]=u*_+c*E+h*L+f*D,r[13]=u*k+c*C+h*O+f*I,r[2]=d*x+p*S+v*P+m*z,r[6]=d*A+p*M+v*T+m*R,r[10]=d*_+p*E+v*L+m*D,r[14]=d*k+p*C+v*O+m*I,r[3]=g*x+y*S+w*P+b*z,r[7]=g*A+y*M+w*T+b*R,r[11]=g*_+y*E+w*L+b*D,r[15]=g*k+y*C+w*O+b*I,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],a=t[1],o=t[5],s=t[9],l=t[13],u=t[2],c=t[6],h=t[10],f=t[14];return t[3]*(+r*s*c-i*l*c-r*o*h+n*l*h+i*o*f-n*s*f)+t[7]*(+e*s*f-e*l*h+r*a*h-i*a*f+i*l*u-r*s*u)+t[11]*(+e*l*c-e*o*f-r*a*c+n*a*f+r*o*u-n*l*u)+t[15]*(-i*o*u-e*s*c+e*o*h+i*a*c-n*a*h+n*s*u)}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}},{key:"setPosition",value:function(t,e,n){var i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],h=t[10],f=t[11],d=t[12],p=t[13],v=t[14],m=t[15],g=c*v*l-p*h*l+p*s*f-o*v*f-c*s*m+o*h*m,y=d*h*l-u*v*l-d*s*f+a*v*f+u*s*m-a*h*m,w=u*p*l-d*c*l+d*o*f-a*p*f-u*o*m+a*c*m,b=d*c*s-u*p*s-d*o*h+a*p*h+u*o*v-a*c*v,x=e*g+n*y+i*w+r*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var A=1/x;return t[0]=g*A,t[1]=(p*h*r-c*v*r-p*i*f+n*v*f+c*i*m-n*h*m)*A,t[2]=(o*v*r-p*s*r+p*i*l-n*v*l-o*i*m+n*s*m)*A,t[3]=(c*s*r-o*h*r-c*i*l+n*h*l+o*i*f-n*s*f)*A,t[4]=y*A,t[5]=(u*v*r-d*h*r+d*i*f-e*v*f-u*i*m+e*h*m)*A,t[6]=(d*s*r-a*v*r-d*i*l+e*v*l+a*i*m-e*s*m)*A,t[7]=(a*h*r-u*s*r+u*i*l-e*h*l-a*i*f+e*s*f)*A,t[8]=w*A,t[9]=(d*c*r-u*p*r-d*n*f+e*p*f+u*n*m-e*c*m)*A,t[10]=(a*p*r-d*o*r+d*n*l-e*p*l-a*n*m+e*o*m)*A,t[11]=(u*o*r-a*c*r-u*n*l+e*c*l+a*n*f-e*o*f)*A,t[12]=b*A,t[13]=(u*p*i-d*c*i+d*n*h-e*p*h-u*n*v+e*c*v)*A,t[14]=(d*o*i-a*p*i-d*n*s+e*p*s+a*n*v-e*o*v)*A,t[15]=(a*c*i-u*o*i+u*n*s-e*c*s-a*n*h+e*o*h)*A,this}},{key:"scale",value:function(t){var e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this}},{key:"getMaxScaleOnAxis",value:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))}},{key:"makeTranslation",value:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}},{key:"makeRotationY",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=1-n,a=t.x,o=t.y,s=t.z,l=r*a,u=r*o;return this.set(l*a+n,l*o-i*s,l*s+i*o,0,l*o+i*s,u*o+n,u*s-i*a,0,l*s-i*o,u*s+i*a,r*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(t,e,n,i,r,a){return this.set(1,n,r,0,t,1,a,0,e,i,1,0,0,0,0,1),this}},{key:"compose",value:function(t,e,n){var i=this.elements,r=e._x,a=e._y,o=e._z,s=e._w,l=r+r,u=a+a,c=o+o,h=r*l,f=r*u,d=r*c,p=a*u,v=a*c,m=o*c,g=s*l,y=s*u,w=s*c,b=n.x,x=n.y,A=n.z;return i[0]=(1-(p+m))*b,i[1]=(f+w)*b,i[2]=(d-y)*b,i[3]=0,i[4]=(f-w)*x,i[5]=(1-(h+m))*x,i[6]=(v+g)*x,i[7]=0,i[8]=(d+y)*A,i[9]=(v-g)*A,i[10]=(1-(h+p))*A,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}},{key:"decompose",value:function(t,e,n){var i=this.elements,r=Qo.set(i[0],i[1],i[2]).length(),a=Qo.set(i[4],i[5],i[6]).length(),o=Qo.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],Xo.copy(this);var s=1/r,l=1/a,u=1/o;return Xo.elements[0]*=s,Xo.elements[1]*=s,Xo.elements[2]*=s,Xo.elements[4]*=l,Xo.elements[5]*=l,Xo.elements[6]*=l,Xo.elements[8]*=u,Xo.elements[9]*=u,Xo.elements[10]*=u,e.setFromRotationMatrix(Xo),n.x=r,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(t,e,n,i,r,a){var o=this.elements,s=2*r/(e-t),l=2*r/(n-i),u=(e+t)/(e-t),c=(n+i)/(n-i),h=-(a+r)/(a-r),f=-2*a*r/(a-r);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=f,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(t,e,n,i,r,a){var o=this.elements,s=1/(e-t),l=1/(n-i),u=1/(a-r),c=(e+t)*s,h=(n+i)*l,f=(a+r)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-f,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}]),t}(),Qo=new Za,Xo=new Wo,Yo=new Za(0,0,0),Jo=new Za(1,1,1),Zo=new Za,qo=new Za,Ko=new Za,$o=new Wo,ts=new Ja,es=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DEFAULT_ORDER;li(this,e),this.isEuler=!0,this._x=t,this._y=n,this._z=i,this._order=r}return ci(e,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}},{key:"set",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=t,this._y=e,this._z=n,this._order=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.elements,r=i[0],a=i[4],o=i[8],s=i[1],l=i[5],u=i[9],c=i[2],h=i[6],f=i[10];switch(e){case"XYZ":this._y=Math.asin(Ia(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Ia(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,r),this._z=0);break;case"ZXY":this._x=Math.asin(Ia(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,r));break;case"ZYX":this._y=Math.asin(-Ia(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(s,r)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(Ia(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,r)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-Ia(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(t,e,n){return $o.makeRotationFromQuaternion(t),this.setFromRotationMatrix($o,e,n)}},{key:"setFromVector3",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(t.x,t.y,t.z,e)}},{key:"reorder",value:function(t){return ts.setFromEuler(this),this.setFromQuaternion(ts,t)}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}},{key:"fromArray",value:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:oi().mark((function t(){return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._x;case 2:return t.next=4,this._y;case 4:return t.next=6,this._z;case 6:return t.next=8,this._order;case 8:case"end":return t.stop()}}),t,this)}))}]),e}();es.DEFAULT_ORDER="XYZ";var ns=function(){function t(){li(this,t),this.mask=1}return ci(t,[{key:"set",value:function(t){this.mask=(1<<t|0)>>>0}},{key:"enable",value:function(t){this.mask|=1<<t|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(t){this.mask^=1<<t|0}},{key:"disable",value:function(t){this.mask&=~(1<<t|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(t){return 0!==(this.mask&t.mask)}},{key:"isEnabled",value:function(t){return 0!==(this.mask&(1<<t|0))}}]),t}(),is=0,rs=new Za,as=new Ja,os=new Wo,ss=new Za,ls=new Za,us=new Za,cs=new Ja,hs=new Za(1,0,0),fs=new Za(0,1,0),ds=new Za(0,0,1),ps={type:"added"},vs={type:"removed"},ms=function(t){$n(n,t);var e=ei(n);function n(){var t;li(this,n),(t=e.call(this)).isObject3D=!0,Object.defineProperty(ni(t),"id",{value:is++}),t.uuid=Da(),t.name="",t.type="Object3D",t.parent=null,t.children=[],t.up=n.DEFAULT_UP.clone();var i=new Za,r=new es,a=new Ja,o=new Za(1,1,1);return r._onChange((function(){a.setFromEuler(r,!1)})),a._onChange((function(){r.setFromQuaternion(a,void 0,!1)})),Object.defineProperties(ni(t),{position:{configurable:!0,enumerable:!0,value:i},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Wo},normalMatrix:{value:new Wa}}),t.matrix=new Wo,t.matrixWorld=new Wo,t.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,t.matrixWorldNeedsUpdate=!1,t.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,t.layers=new ns,t.visible=!0,t.castShadow=!1,t.receiveShadow=!1,t.frustumCulled=!0,t.renderOrder=0,t.animations=[],t.userData={},t}return ci(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(t){return this.quaternion.premultiply(t),this}},{key:"setRotationFromAxisAngle",value:function(t,e){this.quaternion.setFromAxisAngle(t,e)}},{key:"setRotationFromEuler",value:function(t){this.quaternion.setFromEuler(t,!0)}},{key:"setRotationFromMatrix",value:function(t){this.quaternion.setFromRotationMatrix(t)}},{key:"setRotationFromQuaternion",value:function(t){this.quaternion.copy(t)}},{key:"rotateOnAxis",value:function(t,e){return as.setFromAxisAngle(t,e),this.quaternion.multiply(as),this}},{key:"rotateOnWorldAxis",value:function(t,e){return as.setFromAxisAngle(t,e),this.quaternion.premultiply(as),this}},{key:"rotateX",value:function(t){return this.rotateOnAxis(hs,t)}},{key:"rotateY",value:function(t){return this.rotateOnAxis(fs,t)}},{key:"rotateZ",value:function(t){return this.rotateOnAxis(ds,t)}},{key:"translateOnAxis",value:function(t,e){return rs.copy(t).applyQuaternion(this.quaternion),this.position.add(rs.multiplyScalar(e)),this}},{key:"translateX",value:function(t){return this.translateOnAxis(hs,t)}},{key:"translateY",value:function(t){return this.translateOnAxis(fs,t)}},{key:"translateZ",value:function(t){return this.translateOnAxis(ds,t)}},{key:"localToWorld",value:function(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(os.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(t,e,n){t.isVector3?ss.copy(t):ss.set(t,e,n);var i=this.parent;this.updateWorldMatrix(!0,!1),ls.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?os.lookAt(ls,ss,this.up):os.lookAt(ss,ls,this.up),this.quaternion.setFromRotationMatrix(os),i&&(os.extractRotation(i.matrixWorld),as.setFromRotationMatrix(os),this.quaternion.premultiply(as.invert()))}},{key:"add",value:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(ps)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}},{key:"remove",value:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(vs)),this}},{key:"removeFromParent",value:function(){var t=this.parent;return null!==t&&t.remove(this),this}},{key:"clear",value:function(){for(var t=0;t<this.children.length;t++){var e=this.children[t];e.parent=null,e.dispatchEvent(vs)}return this.children.length=0,this}},{key:"attach",value:function(t){return this.updateWorldMatrix(!0,!1),os.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),os.multiply(t.parent.matrixWorld)),t.applyMatrix4(os),this.add(t),t.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(t){return this.getObjectByProperty("id",t)}},{key:"getObjectByName",value:function(t){return this.getObjectByProperty("name",t)}},{key:"getObjectByProperty",value:function(t,e){if(this[t]===e)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(t,e);if(void 0!==r)return r}}},{key:"getObjectsByProperty",value:function(t,e){var n=[];this[t]===e&&n.push(this);for(var i=0,r=this.children.length;i<r;i++){var a=this.children[i].getObjectsByProperty(t,e);a.length>0&&(n=n.concat(a))}return n}},{key:"getWorldPosition",value:function(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ls,t,us),t}},{key:"getWorldScale",value:function(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ls,cs,t),t}},{key:"getWorldDirection",value:function(t){this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(t){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverse(t)}},{key:"traverseVisible",value:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}}},{key:"traverseAncestors",value:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,i=e.length;n<i;n++){var r=e[n];!0!==r.matrixWorldAutoUpdate&&!0!==t||r.updateMatrixWorld(t)}}},{key:"updateWorldMatrix",value:function(t,e){var n=this.parent;if(!0===t&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var i=this.children,r=0,a=i.length;r<a;r++){var o=i[r];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(t){var e=void 0===t||"string"===typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];r(t.shapes,u)}else r(t.shapes,o)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],h=0,f=this.material.length;h<f;h++)c.push(r(t.materials,this.material[h]));i.material=c}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(var d=0;d<this.children.length;d++)i.children.push(this.children[d].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(var p=0;p<this.animations.length;p++){var v=this.animations[p];i.animations.push(r(t.animations,v))}}if(e){var m=k(t.geometries),g=k(t.materials),y=k(t.textures),w=k(t.images),b=k(t.shapes),x=k(t.skeletons),A=k(t.animations),_=k(t.nodes);m.length>0&&(n.geometries=m),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),w.length>0&&(n.images=w),b.length>0&&(n.shapes=b),x.length>0&&(n.skeletons=x),A.length>0&&(n.animations=A),_.length>0&&(n.nodes=_)}return n.object=i,n;function k(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}}},{key:"clone",value:function(t){return(new this.constructor).copy(this,t)}},{key:"copy",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var i=t.children[n];this.add(i.clone())}return this}}]),n}(Ta);ms.DEFAULT_UP=new Za(0,1,0),ms.DEFAULT_MATRIX_AUTO_UPDATE=!0,ms.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var gs=new Za,ys=new Za,ws=new Za,bs=new Za,xs=new Za,As=new Za,_s=new Za,ks=new Za,Ss=new Za,Ms=new Za,Es=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Za,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Za,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Za;li(this,t),this.a=e,this.b=n,this.c=i}return ci(t,[{key:"set",value:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}},{key:"setFromAttributeAndIndices",value:function(t,e,n,i){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,i),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}},{key:"getArea",value:function(){return gs.subVectors(this.c,this.b),ys.subVectors(this.a,this.b),.5*gs.cross(ys).length()}},{key:"getMidpoint",value:function(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(e){return t.getNormal(this.a,this.b,this.c,e)}},{key:"getPlane",value:function(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(e,n){return t.getBarycoord(e,this.a,this.b,this.c,n)}},{key:"getUV",value:function(e,n,i,r,a){return t.getUV(e,this.a,this.b,this.c,n,i,r,a)}},{key:"containsPoint",value:function(e){return t.containsPoint(e,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(e){return t.isFrontFacing(this.a,this.b,this.c,e)}},{key:"intersectsBox",value:function(t){return t.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(t,e){var n,i,r=this.a,a=this.b,o=this.c;xs.subVectors(a,r),As.subVectors(o,r),ks.subVectors(t,r);var s=xs.dot(ks),l=As.dot(ks);if(s<=0&&l<=0)return e.copy(r);Ss.subVectors(t,a);var u=xs.dot(Ss),c=As.dot(Ss);if(u>=0&&c<=u)return e.copy(a);var h=s*c-u*l;if(h<=0&&s>=0&&u<=0)return n=s/(s-u),e.copy(r).addScaledVector(xs,n);Ms.subVectors(t,o);var f=xs.dot(Ms),d=As.dot(Ms);if(d>=0&&f<=d)return e.copy(o);var p=f*l-s*d;if(p<=0&&l>=0&&d<=0)return i=l/(l-d),e.copy(r).addScaledVector(As,i);var v=u*d-f*c;if(v<=0&&c-u>=0&&f-d>=0)return _s.subVectors(o,a),i=(c-u)/(c-u+(f-d)),e.copy(a).addScaledVector(_s,i);var m=1/(v+p+h);return n=p*m,i=h*m,e.copy(r).addScaledVector(xs,n).addScaledVector(As,i)}},{key:"equals",value:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}],[{key:"getNormal",value:function(t,e,n,i){i.subVectors(n,e),gs.subVectors(t,e),i.cross(gs);var r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}},{key:"getBarycoord",value:function(t,e,n,i,r){gs.subVectors(i,e),ys.subVectors(n,e),ws.subVectors(t,e);var a=gs.dot(gs),o=gs.dot(ys),s=gs.dot(ws),l=ys.dot(ys),u=ys.dot(ws),c=a*l-o*o;if(0===c)return r.set(-2,-1,-1);var h=1/c,f=(l*s-o*u)*h,d=(a*u-o*s)*h;return r.set(1-f-d,d,f)}},{key:"containsPoint",value:function(t,e,n,i){return this.getBarycoord(t,e,n,i,bs),bs.x>=0&&bs.y>=0&&bs.x+bs.y<=1}},{key:"getUV",value:function(t,e,n,i,r,a,o,s){return this.getBarycoord(t,e,n,i,bs),s.set(0,0),s.addScaledVector(r,bs.x),s.addScaledVector(a,bs.y),s.addScaledVector(o,bs.z),s}},{key:"isFrontFacing",value:function(t,e,n,i){return gs.subVectors(n,e),ys.subVectors(t,e),gs.cross(ys).dot(i)<0}}]),t}(),Cs=0,Ps=function(t){$n(n,t);var e=ei(n);function n(){var t;return li(this,n),(t=e.call(this)).isMaterial=!0,Object.defineProperty(ni(t),"id",{value:Cs++}),t.uuid=Da(),t.name="",t.type="Material",t.blending=_i,t.side=wi,t.vertexColors=!1,t.opacity=1,t.transparent=!1,t.blendSrc=Bi,t.blendDst=Ni,t.blendEquation=Ci,t.blendSrcAlpha=null,t.blendDstAlpha=null,t.blendEquationAlpha=null,t.depthFunc=Xi,t.depthTest=!0,t.depthWrite=!0,t.stencilWriteMask=255,t.stencilFunc=519,t.stencilRef=0,t.stencilFuncMask=255,t.stencilFail=Ea,t.stencilZFail=Ea,t.stencilZPass=Ea,t.stencilWrite=!1,t.clippingPlanes=null,t.clipIntersection=!1,t.clipShadows=!1,t.shadowSide=null,t.colorWrite=!0,t.precision=null,t.polygonOffset=!1,t.polygonOffsetFactor=0,t.polygonOffsetUnits=0,t.dithering=!1,t.alphaToCoverage=!1,t.premultipliedAlpha=!1,t.forceSinglePass=!1,t.visible=!0,t.toneMapped=!0,t.userData={},t.version=0,t._alphaTest=0,t}return ci(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(t){this._alphaTest>0!==t>0&&this.version++,this._alphaTest=t}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n){var i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}}},{key:"toJSON",value:function(t){var e=void 0===t||"string"===typeof t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==_i&&(n.blending=this.blending),this.side!==wi&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),e){var r=i(t.textures),a=i(t.images);r.length>0&&(n.textures=r),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;var e=t.clippingPlanes,n=null;if(null!==e){var i=e.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}}]),n}(Ta),Ts={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ls={h:0,s:0,l:0},Os={h:0,s:0,l:0};function zs(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}var Rs=function(t){function e(t,n,i){return li(this,e),this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===n&&void 0===i?this.set(t):this.setRGB(t,n,i)}return ci(e,[{key:"set",value:function(t){return t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t),this}},{key:"setScalar",value:function(t){return this.r=t,this.g=t,this.b=t,this}},{key:"setHex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ka;return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,so.toWorkingColorSpace(this,e),this}},{key:"setRGB",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:so.workingColorSpace;return this.r=t,this.g=e,this.b=n,so.toWorkingColorSpace(this,i),this}},{key:"setHSL",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:so.workingColorSpace;if(t=Ba(t,1),e=Ia(e,0,1),n=Ia(n,0,1),0===e)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+e):n+e-n*e,a=2*n-r;this.r=zs(a,r,t+1/3),this.g=zs(a,r,t),this.b=zs(a,r,t-1/3)}return so.toWorkingColorSpace(this,i),this}},{key:"setStyle",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ka;function i(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}if(e=/^(\w+)\(([^\)]*)\)/.exec(t)){var r,a=e[1],o=e[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,so.toWorkingColorSpace(this,n),i(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,so.toWorkingColorSpace(this,n),i(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){var s=parseFloat(r[1])/360,l=parseFloat(r[2])/100,u=parseFloat(r[3])/100;return i(r[4]),this.setHSL(s,l,u,n)}break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(e=/^\#([A-Fa-f\d]+)$/.exec(t)){var c=e[1],h=c.length;if(3===h)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,so.toWorkingColorSpace(this,n),this;if(6===h)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,so.toWorkingColorSpace(this,n),this;console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,n);return this}},{key:"setColorName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ka,n=Ts[t.toLowerCase()];return void 0!==n?this.setHex(n,e):console.warn("THREE.Color: Unknown color "+t),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}},{key:"copySRGBToLinear",value:function(t){return this.r=$a(t.r),this.g=$a(t.g),this.b=$a(t.b),this}},{key:"copyLinearToSRGB",value:function(t){return this.r=to(t.r),this.g=to(t.g),this.b=to(t.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka;return so.fromWorkingColorSpace(Ds.copy(this),t),Ia(255*Ds.r,0,255)<<16^Ia(255*Ds.g,0,255)<<8^Ia(255*Ds.b,0,255)<<0}},{key:"getHexString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka;return("000000"+this.getHex(t).toString(16)).slice(-6)}},{key:"getHSL",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:so.workingColorSpace;so.fromWorkingColorSpace(Ds.copy(this),e);var n,i,r=Ds.r,a=Ds.g,o=Ds.b,s=Math.max(r,a,o),l=Math.min(r,a,o),u=(l+s)/2;if(l===s)n=0,i=0;else{var c=s-l;switch(i=u<=.5?c/(s+l):c/(2-s-l),s){case r:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-r)/c+2;break;case o:n=(r-a)/c+4}n/=6}return t.h=n,t.s=i,t.l=u,t}},{key:"getRGB",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:so.workingColorSpace;return so.fromWorkingColorSpace(Ds.copy(this),e),t.r=Ds.r,t.g=Ds.g,t.b=Ds.b,t}},{key:"getStyle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka;so.fromWorkingColorSpace(Ds.copy(this),t);var e=Ds.r,n=Ds.g,i=Ds.b;return t!==ka?"color(".concat(t," ").concat(e.toFixed(3)," ").concat(n.toFixed(3)," ").concat(i.toFixed(3),")"):"rgb(".concat(255*e|0,",").concat(255*n|0,",").concat(255*i|0,")")}},{key:"offsetHSL",value:function(t,e,n){return this.getHSL(Ls),Ls.h+=t,Ls.s+=e,Ls.l+=n,this.setHSL(Ls.h,Ls.s,Ls.l),this}},{key:"add",value:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}},{key:"addColors",value:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}},{key:"addScalar",value:function(t){return this.r+=t,this.g+=t,this.b+=t,this}},{key:"sub",value:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}},{key:"multiply",value:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}},{key:"multiplyScalar",value:function(t){return this.r*=t,this.g*=t,this.b*=t,this}},{key:"lerp",value:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}},{key:"lerpColors",value:function(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}},{key:"lerpHSL",value:function(t,e){this.getHSL(Ls),t.getHSL(Os);var n=Na(Ls.h,Os.h,e),i=Na(Ls.s,Os.s,e),r=Na(Ls.l,Os.l,e);return this.setHSL(n,i,r),this}},{key:"equals",value:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}},{key:"fromBufferAttribute",value:function(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:oi().mark((function t(){return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.r;case 2:return t.next=4,this.g;case 4:return t.next=6,this.b;case 6:case"end":return t.stop()}}),t,this)}))}]),e}(),Ds=new Rs;Rs.NAMES=Ts;var Is=function(t){$n(n,t);var e=ei(n);function n(t){var i;return li(this,n),(i=e.call(this)).isMeshBasicMaterial=!0,i.type="MeshBasicMaterial",i.color=new Rs(16777215),i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.specularMap=null,i.alphaMap=null,i.envMap=null,i.combine=Ki,i.reflectivity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.fog=!0,i.setValues(t),i}return ci(n,[{key:"copy",value:function(t){return Kn(ri(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}]),n}(Ps),Bs=new Za,Ns=new Ga,js=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(li(this,t),Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=void 0!==e?e.length/n:0,this.normalized=i,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}return ci(t,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}},{key:"setUsage",value:function(t){return this.usage=t,this}},{key:"copy",value:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}},{key:"copyAt",value:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this}},{key:"copyArray",value:function(t){return this.array.set(t),this}},{key:"applyMatrix3",value:function(t){if(2===this.itemSize)for(var e=0,n=this.count;e<n;e++)Ns.fromBufferAttribute(this,e),Ns.applyMatrix3(t),this.setXY(e,Ns.x,Ns.y);else if(3===this.itemSize)for(var i=0,r=this.count;i<r;i++)Bs.fromBufferAttribute(this,i),Bs.applyMatrix3(t),this.setXYZ(i,Bs.x,Bs.y,Bs.z);return this}},{key:"applyMatrix4",value:function(t){for(var e=0,n=this.count;e<n;e++)Bs.fromBufferAttribute(this,e),Bs.applyMatrix4(t),this.setXYZ(e,Bs.x,Bs.y,Bs.z);return this}},{key:"applyNormalMatrix",value:function(t){for(var e=0,n=this.count;e<n;e++)Bs.fromBufferAttribute(this,e),Bs.applyNormalMatrix(t),this.setXYZ(e,Bs.x,Bs.y,Bs.z);return this}},{key:"transformDirection",value:function(t){for(var e=0,n=this.count;e<n;e++)Bs.fromBufferAttribute(this,e),Bs.transformDirection(t),this.setXYZ(e,Bs.x,Bs.y,Bs.z);return this}},{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this}},{key:"getX",value:function(t){var e=this.array[t*this.itemSize];return this.normalized&&(e=Ua(e,this.array)),e}},{key:"setX",value:function(t,e){return this.normalized&&(e=Ha(e,this.array)),this.array[t*this.itemSize]=e,this}},{key:"getY",value:function(t){var e=this.array[t*this.itemSize+1];return this.normalized&&(e=Ua(e,this.array)),e}},{key:"setY",value:function(t,e){return this.normalized&&(e=Ha(e,this.array)),this.array[t*this.itemSize+1]=e,this}},{key:"getZ",value:function(t){var e=this.array[t*this.itemSize+2];return this.normalized&&(e=Ua(e,this.array)),e}},{key:"setZ",value:function(t,e){return this.normalized&&(e=Ha(e,this.array)),this.array[t*this.itemSize+2]=e,this}},{key:"getW",value:function(t){var e=this.array[t*this.itemSize+3];return this.normalized&&(e=Ua(e,this.array)),e}},{key:"setW",value:function(t,e){return this.normalized&&(e=Ha(e,this.array)),this.array[t*this.itemSize+3]=e,this}},{key:"setXY",value:function(t,e,n){return t*=this.itemSize,this.normalized&&(e=Ha(e,this.array),n=Ha(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}},{key:"setXYZ",value:function(t,e,n,i){return t*=this.itemSize,this.normalized&&(e=Ha(e,this.array),n=Ha(n,this.array),i=Ha(i,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this}},{key:"setXYZW",value:function(t,e,n,i,r){return t*=this.itemSize,this.normalized&&(e=Ha(e,this.array),n=Ha(n,this.array),i=Ha(i,this.array),r=Ha(r,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this}},{key:"onUpload",value:function(t){return this.onUploadCallback=t,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),35044!==this.usage&&(t.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(t.updateRange=this.updateRange),t}},{key:"copyColorsArray",value:function(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}},{key:"copyVector2sArray",value:function(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}},{key:"copyVector3sArray",value:function(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}},{key:"copyVector4sArray",value:function(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}]),t}(),Fs=function(t){$n(n,t);var e=ei(n);function n(t,i,r){return li(this,n),e.call(this,new Uint16Array(t),i,r)}return ci(n)}(js),Us=function(t){$n(n,t);var e=ei(n);function n(t,i,r){return li(this,n),e.call(this,new Uint32Array(t),i,r)}return ci(n)}(js),Hs=function(t){$n(n,t);var e=ei(n);function n(t,i,r){return li(this,n),e.call(this,new Float32Array(t),i,r)}return ci(n)}(js),Vs=0,Gs=new Wo,Ws=new ms,Qs=new Za,Xs=new yo,Ys=new yo,Js=new Za,Zs=function(t){$n(n,t);var e=ei(n);function n(){var t;return li(this,n),(t=e.call(this)).isBufferGeometry=!0,Object.defineProperty(ni(t),"id",{value:Vs++}),t.uuid=Da(),t.name="",t.type="BufferGeometry",t.index=null,t.attributes={},t.morphAttributes={},t.morphTargetsRelative=!1,t.groups=[],t.boundingBox=null,t.boundingSphere=null,t.drawRange={start:0,count:1/0},t.userData={},t}return ci(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(t){return Array.isArray(t)?this.index=new(Xa(t)?Us:Fs)(t,1):this.index=t,this}},{key:"getAttribute",value:function(t){return this.attributes[t]}},{key:"setAttribute",value:function(t,e){return this.attributes[t]=e,this}},{key:"deleteAttribute",value:function(t){return delete this.attributes[t],this}},{key:"hasAttribute",value:function(t){return void 0!==this.attributes[t]}},{key:"addGroup",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:t,count:e,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(t,e){this.drawRange.start=t,this.drawRange.count=e}},{key:"applyMatrix4",value:function(t){var e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var i=(new Wa).getNormalMatrix(t);n.applyNormalMatrix(i),n.needsUpdate=!0}var r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(t){return Gs.makeRotationFromQuaternion(t),this.applyMatrix4(Gs),this}},{key:"rotateX",value:function(t){return Gs.makeRotationX(t),this.applyMatrix4(Gs),this}},{key:"rotateY",value:function(t){return Gs.makeRotationY(t),this.applyMatrix4(Gs),this}},{key:"rotateZ",value:function(t){return Gs.makeRotationZ(t),this.applyMatrix4(Gs),this}},{key:"translate",value:function(t,e,n){return Gs.makeTranslation(t,e,n),this.applyMatrix4(Gs),this}},{key:"scale",value:function(t,e,n){return Gs.makeScale(t,e,n),this.applyMatrix4(Gs),this}},{key:"lookAt",value:function(t){return Ws.lookAt(t),Ws.updateMatrix(),this.applyMatrix4(Ws.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Qs).negate(),this.translate(Qs.x,Qs.y,Qs.z),this}},{key:"setFromPoints",value:function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Hs(e,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new yo);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Za(-1/0,-1/0,-1/0),new Za(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(var n=0,i=e.length;n<i;n++){var r=e[n];Xs.setFromBufferAttribute(r),this.morphTargetsRelative?(Js.addVectors(this.boundingBox.min,Xs.min),this.boundingBox.expandByPoint(Js),Js.addVectors(this.boundingBox.max,Xs.max),this.boundingBox.expandByPoint(Js)):(this.boundingBox.expandByPoint(Xs.min),this.boundingBox.expandByPoint(Xs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Io);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Za,1/0);if(t){var n=this.boundingSphere.center;if(Xs.setFromBufferAttribute(t),e)for(var i=0,r=e.length;i<r;i++){var a=e[i];Ys.setFromBufferAttribute(a),this.morphTargetsRelative?(Js.addVectors(Xs.min,Ys.min),Xs.expandByPoint(Js),Js.addVectors(Xs.max,Ys.max),Xs.expandByPoint(Js)):(Xs.expandByPoint(Ys.min),Xs.expandByPoint(Ys.max))}Xs.getCenter(n);for(var o=0,s=0,l=t.count;s<l;s++)Js.fromBufferAttribute(t,s),o=Math.max(o,n.distanceToSquared(Js));if(e)for(var u=0,c=e.length;u<c;u++)for(var h=e[u],f=this.morphTargetsRelative,d=0,p=h.count;d<p;d++)Js.fromBufferAttribute(h,d),f&&(Qs.fromBufferAttribute(t,d),Js.add(Qs)),o=Math.max(o,n.distanceToSquared(Js));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var t=this.index,e=this.attributes;if(null!==t&&void 0!==e.position&&void 0!==e.normal&&void 0!==e.uv){var n=t.array,i=e.position.array,r=e.normal.array,a=e.uv.array,o=i.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new js(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,l=[],u=[],c=0;c<o;c++)l[c]=new Za,u[c]=new Za;var h=new Za,f=new Za,d=new Za,p=new Ga,v=new Ga,m=new Ga,g=new Za,y=new Za,w=this.groups;0===w.length&&(w=[{start:0,count:n.length}]);for(var b=0,x=w.length;b<x;++b)for(var A=w[b],_=A.start,k=_,S=_+A.count;k<S;k+=3)I(n[k+0],n[k+1],n[k+2]);for(var M=new Za,E=new Za,C=new Za,P=new Za,T=0,L=w.length;T<L;++T)for(var O=w[T],z=O.start,R=z,D=z+O.count;R<D;R+=3)B(n[R+0]),B(n[R+1]),B(n[R+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function I(t,e,n){h.fromArray(i,3*t),f.fromArray(i,3*e),d.fromArray(i,3*n),p.fromArray(a,2*t),v.fromArray(a,2*e),m.fromArray(a,2*n),f.sub(h),d.sub(h),v.sub(p),m.sub(p);var r=1/(v.x*m.y-m.x*v.y);isFinite(r)&&(g.copy(f).multiplyScalar(m.y).addScaledVector(d,-v.y).multiplyScalar(r),y.copy(d).multiplyScalar(v.x).addScaledVector(f,-m.x).multiplyScalar(r),l[t].add(g),l[e].add(g),l[n].add(g),u[t].add(y),u[e].add(y),u[n].add(y))}function B(t){C.fromArray(r,3*t),P.copy(C);var e=l[t];M.copy(e),M.sub(C.multiplyScalar(C.dot(e))).normalize(),E.crossVectors(P,e);var n=E.dot(u[t])<0?-1:1;s[4*t]=M.x,s[4*t+1]=M.y,s[4*t+2]=M.z,s[4*t+3]=n}}},{key:"computeVertexNormals",value:function(){var t=this.index,e=this.getAttribute("position");if(void 0!==e){var n=this.getAttribute("normal");if(void 0===n)n=new js(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(var i=0,r=n.count;i<r;i++)n.setXYZ(i,0,0,0);var a=new Za,o=new Za,s=new Za,l=new Za,u=new Za,c=new Za,h=new Za,f=new Za;if(t)for(var d=0,p=t.count;d<p;d+=3){var v=t.getX(d+0),m=t.getX(d+1),g=t.getX(d+2);a.fromBufferAttribute(e,v),o.fromBufferAttribute(e,m),s.fromBufferAttribute(e,g),h.subVectors(s,o),f.subVectors(a,o),h.cross(f),l.fromBufferAttribute(n,v),u.fromBufferAttribute(n,m),c.fromBufferAttribute(n,g),l.add(h),u.add(h),c.add(h),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(m,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,w=e.count;y<w;y+=3)a.fromBufferAttribute(e,y+0),o.fromBufferAttribute(e,y+1),s.fromBufferAttribute(e,y+2),h.subVectors(s,o),f.subVectors(a,o),h.cross(f),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}},{key:"normalizeNormals",value:function(){for(var t=this.attributes.normal,e=0,n=t.count;e<n;e++)Js.fromBufferAttribute(t,e),Js.normalize(),t.setXYZ(e,Js.x,Js.y,Js.z)}},{key:"toNonIndexed",value:function(){function t(t,e){for(var n=t.array,i=t.itemSize,r=t.normalized,a=new n.constructor(e.length*i),o=0,s=0,l=0,u=e.length;l<u;l++){o=t.isInterleavedBufferAttribute?e[l]*t.data.stride+t.offset:e[l]*i;for(var c=0;c<i;c++)a[s++]=n[o++]}return new js(a,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var e=new n,i=this.index.array,r=this.attributes;for(var a in r){var o=t(r[a],i);e.setAttribute(a,o)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],h=0,f=c.length;h<f;h++){var d=t(c[h],i);u.push(d)}e.morphAttributes[l]=u}e.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,v=0,m=p.length;v<m;v++){var g=p[v];e.addGroup(g.start,g.count,g.materialIndex)}return e}},{key:"toJSON",value:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var i=this.index;null!==i&&(t.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});var r=this.attributes;for(var a in r){var o=r[a];t.data.attributes[a]=o.toJSON(t.data)}var s={},l=!1;for(var u in this.morphAttributes){for(var c=this.morphAttributes[u],h=[],f=0,d=c.length;f<d;f++){var p=c[f];h.push(p.toJSON(t.data))}h.length>0&&(s[u]=h,l=!0)}l&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(t.data.groups=JSON.parse(JSON.stringify(v)));var m=this.boundingSphere;return null!==m&&(t.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),t}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var e={};this.name=t.name;var n=t.index;null!==n&&this.setIndex(n.clone(e));var i=t.attributes;for(var r in i){var a=i[r];this.setAttribute(r,a.clone(e))}var o=t.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,h=u.length;c<h;c++)l.push(u[c].clone(e));this.morphAttributes[s]=l}this.morphTargetsRelative=t.morphTargetsRelative;for(var f=t.groups,d=0,p=f.length;d<p;d++){var v=f[d];this.addGroup(v.start,v.count,v.materialIndex)}var m=t.boundingBox;null!==m&&(this.boundingBox=m.clone());var g=t.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Ta),qs=new Wo,Ks=new Go,$s=new Io,tl=new Za,el=new Za,nl=new Za,il=new Za,rl=new Za,al=new Za,ol=new Ga,sl=new Ga,ll=new Ga,ul=new Za,cl=new Za,hl=function(t){$n(n,t);var e=ei(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zs,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Is;return li(this,n),(t=e.call(this)).isMesh=!0,t.type="Mesh",t.geometry=i,t.material=r,t.updateMorphTargets(),t}return ci(n,[{key:"copy",value:function(t,e){return Kn(ri(n.prototype),"copy",this).call(this,t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}},{key:"updateMorphTargets",value:function(){var t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){var n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,r=n.length;i<r;i++){var a=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}},{key:"getVertexPosition",value:function(t,e){var n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,a=n.morphTargetsRelative;e.fromBufferAttribute(i,t);var o=this.morphTargetInfluences;if(r&&o){al.set(0,0,0);for(var s=0,l=r.length;s<l;s++){var u=o[s],c=r[s];0!==u&&(rl.fromBufferAttribute(c,t),a?al.addScaledVector(rl,u):al.addScaledVector(rl.sub(e),u))}e.add(al)}return this.isSkinnedMesh&&this.boneTransform(t,e),e}},{key:"raycast",value:function(t,e){var n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0!==i){if(null===n.boundingSphere&&n.computeBoundingSphere(),$s.copy(n.boundingSphere),$s.applyMatrix4(r),Ks.copy(t.ray).recast(t.near),!1===$s.containsPoint(Ks.origin)){if(null===Ks.intersectSphere($s,tl))return;if(Ks.origin.distanceToSquared(tl)>Math.pow(t.far-t.near,2))return}if(qs.copy(r).invert(),Ks.copy(t.ray).applyMatrix4(qs),null===n.boundingBox||!1!==Ks.intersectsBox(n.boundingBox)){var a,o=n.index,s=n.attributes.position,l=n.attributes.uv,u=n.attributes.uv2,c=n.groups,h=n.drawRange;if(null!==o)if(Array.isArray(i))for(var f=0,d=c.length;f<d;f++)for(var p=c[f],v=i[p.materialIndex],m=Math.max(p.start,h.start),g=Math.min(o.count,Math.min(p.start+p.count,h.start+h.count));m<g;m+=3){var y=o.getX(m),w=o.getX(m+1),b=o.getX(m+2);(a=fl(this,v,t,Ks,l,u,y,w,b))&&(a.faceIndex=Math.floor(m/3),a.face.materialIndex=p.materialIndex,e.push(a))}else for(var x=Math.max(0,h.start),A=Math.min(o.count,h.start+h.count);x<A;x+=3){var _=o.getX(x),k=o.getX(x+1),S=o.getX(x+2);(a=fl(this,i,t,Ks,l,u,_,k,S))&&(a.faceIndex=Math.floor(x/3),e.push(a))}else if(void 0!==s)if(Array.isArray(i))for(var M=0,E=c.length;M<E;M++)for(var C=c[M],P=i[C.materialIndex],T=Math.max(C.start,h.start),L=Math.min(s.count,Math.min(C.start+C.count,h.start+h.count));T<L;T+=3){(a=fl(this,P,t,Ks,l,u,T,T+1,T+2))&&(a.faceIndex=Math.floor(T/3),a.face.materialIndex=C.materialIndex,e.push(a))}else for(var O=Math.max(0,h.start),z=Math.min(s.count,h.start+h.count);O<z;O+=3){(a=fl(this,i,t,Ks,l,u,O,O+1,O+2))&&(a.faceIndex=Math.floor(O/3),e.push(a))}}}}}]),n}(ms);function fl(t,e,n,i,r,a,o,s,l){t.getVertexPosition(o,el),t.getVertexPosition(s,nl),t.getVertexPosition(l,il);var u=function(t,e,n,i,r,a,o,s){if(null===(e.side===bi?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,e.side===wi,s)))return null;cl.copy(s),cl.applyMatrix4(t.matrixWorld);var l=n.ray.origin.distanceTo(cl);return l<n.near||l>n.far?null:{distance:l,point:cl.clone(),object:t}}(t,e,n,i,el,nl,il,ul);if(u){r&&(ol.fromBufferAttribute(r,o),sl.fromBufferAttribute(r,s),ll.fromBufferAttribute(r,l),u.uv=Es.getUV(ul,el,nl,il,ol,sl,ll,new Ga)),a&&(ol.fromBufferAttribute(a,o),sl.fromBufferAttribute(a,s),ll.fromBufferAttribute(a,l),u.uv2=Es.getUV(ul,el,nl,il,ol,sl,ll,new Ga));var c={a:o,b:s,c:l,normal:new Za,materialIndex:0};Es.getNormal(el,nl,il,c.normal),u.face=c}return u}var dl=function(t){$n(n,t);var e=ei(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;li(this,n),(t=e.call(this)).type="BoxGeometry",t.parameters={width:i,height:r,depth:a,widthSegments:o,heightSegments:s,depthSegments:l};var u=ni(t);o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);var c=[],h=[],f=[],d=[],p=0,v=0;function m(t,e,n,i,r,a,o,s,l,m,g){for(var y=a/l,w=o/m,b=a/2,x=o/2,A=s/2,_=l+1,k=m+1,S=0,M=0,E=new Za,C=0;C<k;C++)for(var P=C*w-x,T=0;T<_;T++){var L=T*y-b;E[t]=L*i,E[e]=P*r,E[n]=A,h.push(E.x,E.y,E.z),E[t]=0,E[e]=0,E[n]=s>0?1:-1,f.push(E.x,E.y,E.z),d.push(T/l),d.push(1-C/m),S+=1}for(var O=0;O<m;O++)for(var z=0;z<l;z++){var R=p+z+_*O,D=p+z+_*(O+1),I=p+(z+1)+_*(O+1),B=p+(z+1)+_*O;c.push(R,D,B),c.push(D,I,B),M+=6}u.addGroup(v,M,g),v+=M,p+=S}return m("z","y","x",-1,-1,a,r,i,l,s,0),m("z","y","x",1,-1,a,r,-i,l,s,1),m("x","z","y",1,1,i,a,r,o,l,2),m("x","z","y",1,-1,i,a,-r,o,l,3),m("x","y","z",1,-1,i,r,a,o,s,4),m("x","y","z",-1,-1,i,r,-a,o,s,5),t.setIndex(c),t.setAttribute("position",new Hs(h,3)),t.setAttribute("normal",new Hs(f,3)),t.setAttribute("uv",new Hs(d,2)),t}return ci(n,[{key:"copy",value:function(t){return Kn(ri(n.prototype),"copy",this).call(this,t),this.parameters=Object.assign({},t.parameters),this}}],[{key:"fromJSON",value:function(t){return new n(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}]),n}(Zs);function pl(t){var e={};for(var n in t)for(var i in e[n]={},t[n]){var r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}return e}function vl(t){for(var e={},n=0;n<t.length;n++){var i=pl(t[n]);for(var r in i)e[r]=i[r]}return e}function ml(t){return null===t.getRenderTarget()&&t.outputEncoding===ba?ka:Sa}var gl={clone:pl,merge:vl},yl=function(t){$n(n,t);var e=ei(n);function n(t){var i;return li(this,n),(i=e.call(this)).isShaderMaterial=!0,i.type="ShaderMaterial",i.defines={},i.uniforms={},i.uniformsGroups=[],i.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",i.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",i.linewidth=1,i.wireframe=!1,i.wireframeLinewidth=1,i.fog=!1,i.lights=!1,i.clipping=!1,i.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},i.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},i.index0AttributeName=void 0,i.uniformsNeedUpdate=!1,i.glslVersion=null,void 0!==t&&i.setValues(t),i}return ci(n,[{key:"copy",value:function(t){return Kn(ri(n.prototype),"copy",this).call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=pl(t.uniforms),this.uniformsGroups=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].clone());return e}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}},{key:"toJSON",value:function(t){var e=Kn(ri(n.prototype),"toJSON",this).call(this,t);for(var i in e.glslVersion=this.glslVersion,e.uniforms={},this.uniforms){var r=this.uniforms[i].value;r&&r.isTexture?e.uniforms[i]={type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?e.uniforms[i]={type:"c",value:r.getHex()}:r&&r.isVector2?e.uniforms[i]={type:"v2",value:r.toArray()}:r&&r.isVector3?e.uniforms[i]={type:"v3",value:r.toArray()}:r&&r.isVector4?e.uniforms[i]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?e.uniforms[i]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?e.uniforms[i]={type:"m4",value:r.toArray()}:e.uniforms[i]={value:r}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(e.extensions=a),e}}]),n}(Ps),wl=function(t){$n(n,t);var e=ei(n);function n(){var t;return li(this,n),(t=e.call(this)).isCamera=!0,t.type="Camera",t.matrixWorldInverse=new Wo,t.projectionMatrix=new Wo,t.projectionMatrixInverse=new Wo,t}return ci(n,[{key:"copy",value:function(t,e){return Kn(ri(n.prototype),"copy",this).call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(t){this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}},{key:"updateMatrixWorld",value:function(t){Kn(ri(n.prototype),"updateMatrixWorld",this).call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(t,e){Kn(ri(n.prototype),"updateWorldMatrix",this).call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(ms),bl=function(t){$n(n,t);var e=ei(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return li(this,n),(t=e.call(this)).isPerspectiveCamera=!0,t.type="PerspectiveCamera",t.fov=i,t.zoom=1,t.near=a,t.far=o,t.focus=10,t.aspect=r,t.view=null,t.filmGauge=35,t.filmOffset=0,t.updateProjectionMatrix(),t}return ci(n,[{key:"copy",value:function(t,e){return Kn(ri(n.prototype),"copy",this).call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}},{key:"setFocalLength",value:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Ra*Math.atan(e),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var t=Math.tan(.5*za*this.fov);return.5*this.getFilmHeight()/t}},{key:"getEffectiveFOV",value:function(){return 2*Ra*Math.atan(Math.tan(.5*za*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(t,e,n,i,r,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var t=this.near,e=t*Math.tan(.5*za*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*i/o,e-=a.offsetY*n/s,i*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(r+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(t){var e=Kn(ri(n.prototype),"toJSON",this).call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}]),n}(wl),xl=-90,Al=function(t){$n(n,t);var e=ei(n);function n(t,i,r){var a;li(this,n),(a=e.call(this)).type="CubeCamera",a.renderTarget=r;var o=new bl(xl,1,t,i);o.layers=a.layers,o.up.set(0,1,0),o.lookAt(1,0,0),a.add(o);var s=new bl(xl,1,t,i);s.layers=a.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),a.add(s);var l=new bl(xl,1,t,i);l.layers=a.layers,l.up.set(0,0,-1),l.lookAt(0,1,0),a.add(l);var u=new bl(xl,1,t,i);u.layers=a.layers,u.up.set(0,0,1),u.lookAt(0,-1,0),a.add(u);var c=new bl(xl,1,t,i);c.layers=a.layers,c.up.set(0,1,0),c.lookAt(0,0,1),a.add(c);var h=new bl(xl,1,t,i);return h.layers=a.layers,h.up.set(0,1,0),h.lookAt(0,0,-1),a.add(h),a}return ci(n,[{key:"update",value:function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,i=Jn(this.children,6),r=i[0],a=i[1],o=i[2],s=i[3],l=i[4],u=i[5],c=t.getRenderTarget(),h=t.toneMapping,f=t.xr.enabled;t.toneMapping=er,t.xr.enabled=!1;var d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,r),t.setRenderTarget(n,1),t.render(e,a),t.setRenderTarget(n,2),t.render(e,o),t.setRenderTarget(n,3),t.render(e,s),t.setRenderTarget(n,4),t.render(e,l),n.texture.generateMipmaps=d,t.setRenderTarget(n,5),t.render(e,u),t.setRenderTarget(c),t.toneMapping=h,t.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}]),n}(ms),_l=function(t){$n(n,t);var e=ei(n);function n(t,i,r,a,o,s,l,u,c,h){var f;return li(this,n),t=void 0!==t?t:[],i=void 0!==i?i:sr,(f=e.call(this,t,i,r,a,o,s,l,u,c,h)).isCubeTexture=!0,f.flipY=!1,f}return ci(n,[{key:"images",get:function(){return this.image},set:function(t){this.image=t}}]),n}(fo),kl=function(t){$n(n,t);var e=ei(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};li(this,n),(t=e.call(this,i,i,r)).isWebGLCubeRenderTarget=!0;var a={width:i,height:i,depth:1},o=[a,a,a,a,a,a];return t.texture=new _l(o,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),t.texture.isRenderTargetTexture=!0,t.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,t.texture.minFilter=void 0!==r.minFilter?r.minFilter:yr,t}return ci(n,[{key:"fromEquirectangularTexture",value:function(t,e){this.texture.type=e.type,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;var n={tEquirect:{value:null}},i="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new dl(5,5,5),o=new yl({name:"CubemapFromEquirect",uniforms:pl(n),vertexShader:i,fragmentShader:r,side:bi,blending:Ai});o.uniforms.tEquirect.value=e;var s=new hl(a,o),l=e.minFilter;return e.minFilter===br&&(e.minFilter=yr),new Al(1,10,this).update(t,s),e.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(t,e,n,i){for(var r=t.getRenderTarget(),a=0;a<6;a++)t.setRenderTarget(this,a),t.clear(e,n,i);t.setRenderTarget(r)}}]),n}(vo),Sl=new Za,Ml=new Za,El=new Wa,Cl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Za(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;li(this,t),this.isPlane=!0,this.normal=e,this.constant=n}return ci(t,[{key:"set",value:function(t,e){return this.normal.copy(t),this.constant=e,this}},{key:"setComponents",value:function(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}},{key:"setFromNormalAndCoplanarPoint",value:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(t,e,n){var i=Sl.subVectors(n,e).cross(Ml.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}},{key:"copy",value:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this}},{key:"normalize",value:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(t){return this.normal.dot(t)+this.constant}},{key:"distanceToSphere",value:function(t){return this.distanceToPoint(t.center)-t.radius}},{key:"projectPoint",value:function(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}},{key:"intersectLine",value:function(t,e){var n=t.delta(Sl),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;var r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:e.copy(t.start).addScaledVector(n,r)}},{key:"intersectsLine",value:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}},{key:"intersectsBox",value:function(t){return t.intersectsPlane(this)}},{key:"intersectsSphere",value:function(t){return t.intersectsPlane(this)}},{key:"coplanarPoint",value:function(t){return t.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(t,e){var n=e||El.getNormalMatrix(t),i=this.coplanarPoint(Sl).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}},{key:"translate",value:function(t){return this.constant-=t.dot(this.normal),this}},{key:"equals",value:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),Pl=new Io,Tl=new Za,Ll=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Cl,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Cl,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Cl,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Cl,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Cl,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Cl;li(this,t),this.planes=[e,n,i,r,a,o]}return ci(t,[{key:"set",value:function(t,e,n,i,r,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this}},{key:"copy",value:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(t){var e=this.planes,n=t.elements,i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],h=n[8],f=n[9],d=n[10],p=n[11],v=n[12],m=n[13],g=n[14],y=n[15];return e[0].setComponents(o-i,c-s,p-h,y-v).normalize(),e[1].setComponents(o+i,c+s,p+h,y+v).normalize(),e[2].setComponents(o+r,c+l,p+f,y+m).normalize(),e[3].setComponents(o-r,c-l,p-f,y-m).normalize(),e[4].setComponents(o-a,c-u,p-d,y-g).normalize(),e[5].setComponents(o+a,c+u,p+d,y+g).normalize(),this}},{key:"intersectsObject",value:function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Pl.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Pl)}},{key:"intersectsSprite",value:function(t){return Pl.center.set(0,0,0),Pl.radius=.7071067811865476,Pl.applyMatrix4(t.matrixWorld),this.intersectsSphere(Pl)}},{key:"intersectsSphere",value:function(t){for(var e=this.planes,n=t.center,i=-t.radius,r=0;r<6;r++){if(e[r].distanceToPoint(n)<i)return!1}return!0}},{key:"intersectsBox",value:function(t){for(var e=this.planes,n=0;n<6;n++){var i=e[n];if(Tl.x=i.normal.x>0?t.max.x:t.min.x,Tl.y=i.normal.y>0?t.max.y:t.min.y,Tl.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(Tl)<0)return!1}return!0}},{key:"containsPoint",value:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}();function Ol(){var t=null,e=!1,n=null,i=null;function r(e,a){n(e,a),i=t.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==n&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function zl(t,e){var n=e.isWebGL2,i=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),i.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);var n=i.get(e);n&&(t.deleteBuffer(n.buffer),i.delete(e))},update:function(e,r){if(e.isGLBufferAttribute){var a=i.get(e);(!a||a.version<e.version)&&i.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version})}else{e.isInterleavedBufferAttribute&&(e=e.data);var o=i.get(e);void 0===o?i.set(e,function(e,i){var r,a=e.array,o=e.usage,s=t.createBuffer();if(t.bindBuffer(i,s),t.bufferData(i,a,o),e.onUploadCallback(),a instanceof Float32Array)r=5126;else if(a instanceof Uint16Array)if(e.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");r=5131}else r=5123;else if(a instanceof Int16Array)r=5122;else if(a instanceof Uint32Array)r=5125;else if(a instanceof Int32Array)r=5124;else if(a instanceof Int8Array)r=5120;else if(a instanceof Uint8Array)r=5121;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);r=5121}return{buffer:s,type:r,bytesPerElement:a.BYTES_PER_ELEMENT,version:e.version}}(e,r)):o.version<e.version&&(!function(e,i,r){var a=i.array,o=i.updateRange;t.bindBuffer(r,e),-1===o.count?t.bufferSubData(r,0,a):(n?t.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):t.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),i.onUploadCallback()}(o.buffer,e,r),o.version=e.version)}}}}var Rl=function(t){$n(n,t);var e=ei(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;li(this,n),(t=e.call(this)).type="PlaneGeometry",t.parameters={width:i,height:r,widthSegments:a,heightSegments:o};for(var s=i/2,l=r/2,u=Math.floor(a),c=Math.floor(o),h=u+1,f=c+1,d=i/u,p=r/c,v=[],m=[],g=[],y=[],w=0;w<f;w++)for(var b=w*p-l,x=0;x<h;x++){var A=x*d-s;m.push(A,-b,0),g.push(0,0,1),y.push(x/u),y.push(1-w/c)}for(var _=0;_<c;_++)for(var k=0;k<u;k++){var S=k+h*_,M=k+h*(_+1),E=k+1+h*(_+1),C=k+1+h*_;v.push(S,M,C),v.push(M,E,C)}return t.setIndex(v),t.setAttribute("position",new Hs(m,3)),t.setAttribute("normal",new Hs(g,3)),t.setAttribute("uv",new Hs(y,2)),t}return ci(n,[{key:"copy",value:function(t){return Kn(ri(n.prototype),"copy",this).call(this,t),this.parameters=Object.assign({},t.parameters),this}}],[{key:"fromJSON",value:function(t){return new n(t.width,t.height,t.widthSegments,t.heightSegments)}}]),n}(Zs),Dl={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\t\n\t\tvec2 lodFudge = pow( 1.95, lod ) / fullSize;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec2 fullSize = vec2( textureSize( sampler, 0 ) );\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Il={common:{diffuse:{value:new Rs(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Wa},uv2Transform:{value:new Wa},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ga(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Rs(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Rs(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Wa}},sprite:{diffuse:{value:new Rs(16777215)},opacity:{value:1},center:{value:new Ga(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Wa}}},Bl={basic:{uniforms:vl([Il.common,Il.specularmap,Il.envmap,Il.aomap,Il.lightmap,Il.fog]),vertexShader:Dl.meshbasic_vert,fragmentShader:Dl.meshbasic_frag},lambert:{uniforms:vl([Il.common,Il.specularmap,Il.envmap,Il.aomap,Il.lightmap,Il.emissivemap,Il.bumpmap,Il.normalmap,Il.displacementmap,Il.fog,Il.lights,{emissive:{value:new Rs(0)}}]),vertexShader:Dl.meshlambert_vert,fragmentShader:Dl.meshlambert_frag},phong:{uniforms:vl([Il.common,Il.specularmap,Il.envmap,Il.aomap,Il.lightmap,Il.emissivemap,Il.bumpmap,Il.normalmap,Il.displacementmap,Il.fog,Il.lights,{emissive:{value:new Rs(0)},specular:{value:new Rs(1118481)},shininess:{value:30}}]),vertexShader:Dl.meshphong_vert,fragmentShader:Dl.meshphong_frag},standard:{uniforms:vl([Il.common,Il.envmap,Il.aomap,Il.lightmap,Il.emissivemap,Il.bumpmap,Il.normalmap,Il.displacementmap,Il.roughnessmap,Il.metalnessmap,Il.fog,Il.lights,{emissive:{value:new Rs(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Dl.meshphysical_vert,fragmentShader:Dl.meshphysical_frag},toon:{uniforms:vl([Il.common,Il.aomap,Il.lightmap,Il.emissivemap,Il.bumpmap,Il.normalmap,Il.displacementmap,Il.gradientmap,Il.fog,Il.lights,{emissive:{value:new Rs(0)}}]),vertexShader:Dl.meshtoon_vert,fragmentShader:Dl.meshtoon_frag},matcap:{uniforms:vl([Il.common,Il.bumpmap,Il.normalmap,Il.displacementmap,Il.fog,{matcap:{value:null}}]),vertexShader:Dl.meshmatcap_vert,fragmentShader:Dl.meshmatcap_frag},points:{uniforms:vl([Il.points,Il.fog]),vertexShader:Dl.points_vert,fragmentShader:Dl.points_frag},dashed:{uniforms:vl([Il.common,Il.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Dl.linedashed_vert,fragmentShader:Dl.linedashed_frag},depth:{uniforms:vl([Il.common,Il.displacementmap]),vertexShader:Dl.depth_vert,fragmentShader:Dl.depth_frag},normal:{uniforms:vl([Il.common,Il.bumpmap,Il.normalmap,Il.displacementmap,{opacity:{value:1}}]),vertexShader:Dl.meshnormal_vert,fragmentShader:Dl.meshnormal_frag},sprite:{uniforms:vl([Il.sprite,Il.fog]),vertexShader:Dl.sprite_vert,fragmentShader:Dl.sprite_frag},background:{uniforms:{uvTransform:{value:new Wa},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Dl.background_vert,fragmentShader:Dl.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Dl.backgroundCube_vert,fragmentShader:Dl.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Dl.cube_vert,fragmentShader:Dl.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Dl.equirect_vert,fragmentShader:Dl.equirect_frag},distanceRGBA:{uniforms:vl([Il.common,Il.displacementmap,{referencePosition:{value:new Za},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Dl.distanceRGBA_vert,fragmentShader:Dl.distanceRGBA_frag},shadow:{uniforms:vl([Il.lights,Il.fog,{color:{value:new Rs(0)},opacity:{value:1}}]),vertexShader:Dl.shadow_vert,fragmentShader:Dl.shadow_frag}};Bl.physical={uniforms:vl([Bl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ga(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Rs(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ga},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Rs(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Rs(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Dl.meshphysical_vert,fragmentShader:Dl.meshphysical_frag};var Nl={r:0,b:0,g:0};function jl(t,e,n,i,r,a,o){var s,l,u=new Rs(0),c=!0===a?0:1,h=null,f=0,d=null;function p(e,n){e.getRGB(Nl,ml(t)),i.buffers.color.setClear(Nl.r,Nl.g,Nl.b,n,o)}return{getClearColor:function(){return u},setClearColor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;u.set(t),p(u,c=e)},getClearAlpha:function(){return c},setClearAlpha:function(t){p(u,c=t)},render:function(i,a){var o=!1,v=!0===a.isScene?a.background:null;v&&v.isTexture&&(v=(a.backgroundBlurriness>0?n:e).get(v));var m=t.xr,g=m.getSession&&m.getSession();g&&"additive"===g.environmentBlendMode&&(v=null),null===v?p(u,c):v&&v.isColor&&(p(v,1),o=!0),(t.autoClear||o)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),v&&(v.isCubeTexture||v.mapping===hr)?(void 0===l&&((l=new hl(new dl(1,1,1),new yl({name:"BackgroundCubeMaterial",uniforms:pl(Bl.backgroundCube.uniforms),vertexShader:Bl.backgroundCube.vertexShader,fragmentShader:Bl.backgroundCube.fragmentShader,side:bi,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(l)),l.material.uniforms.envMap.value=v,l.material.uniforms.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,l.material.uniforms.backgroundBlurriness.value=a.backgroundBlurriness,l.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,l.material.toneMapped=v.encoding!==ba,h===v&&f===v.version&&d===t.toneMapping||(l.material.needsUpdate=!0,h=v,f=v.version,d=t.toneMapping),l.layers.enableAll(),i.unshift(l,l.geometry,l.material,0,0,null)):v&&v.isTexture&&(void 0===s&&((s=new hl(new Rl(2,2),new yl({name:"BackgroundMaterial",uniforms:pl(Bl.background.uniforms),vertexShader:Bl.background.vertexShader,fragmentShader:Bl.background.fragmentShader,side:wi,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(s)),s.material.uniforms.t2D.value=v,s.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,s.material.toneMapped=v.encoding!==ba,!0===v.matrixAutoUpdate&&v.updateMatrix(),s.material.uniforms.uvTransform.value.copy(v.matrix),h===v&&f===v.version&&d===t.toneMapping||(s.material.needsUpdate=!0,h=v,f=v.version,d=t.toneMapping),s.layers.enableAll(),i.unshift(s,s.geometry,s.material,0,0,null))}}}function Fl(t,e,n,i){var r=t.getParameter(34921),a=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||null!==a,s={},l=d(null),u=l,c=!1;function h(e){return i.isWebGL2?t.bindVertexArray(e):a.bindVertexArrayOES(e)}function f(e){return i.isWebGL2?t.deleteVertexArray(e):a.deleteVertexArrayOES(e)}function d(t){for(var e=[],n=[],i=[],a=0;a<r;a++)e[a]=0,n[a]=0,i[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:i,object:t,attributes:{},index:null}}function p(){for(var t=u.newAttributes,e=0,n=t.length;e<n;e++)t[e]=0}function v(t){m(t,0)}function m(n,r){var a=u.newAttributes,o=u.enabledAttributes,s=u.attributeDivisors;(a[n]=1,0===o[n]&&(t.enableVertexAttribArray(n),o[n]=1),s[n]!==r)&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),s[n]=r)}function g(){for(var e=u.newAttributes,n=u.enabledAttributes,i=0,r=n.length;i<r;i++)n[i]!==e[i]&&(t.disableVertexAttribArray(i),n[i]=0)}function y(e,n,r,a,o,s){!0!==i.isWebGL2||5124!==r&&5125!==r?t.vertexAttribPointer(e,n,r,a,o,s):t.vertexAttribIPointer(e,n,r,o,s)}function w(){b(),c=!0,u!==l&&h((u=l).object)}function b(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(r,l,f,w,b){var x=!1;if(o){var A=function(e,n,r){var o=!0===r.wireframe,l=s[e.id];void 0===l&&(l={},s[e.id]=l);var u=l[n.id];void 0===u&&(u={},l[n.id]=u);var c=u[o];void 0===c&&(c=d(i.isWebGL2?t.createVertexArray():a.createVertexArrayOES()),u[o]=c);return c}(w,f,l);u!==A&&h((u=A).object),x=function(t,e,n,i){var r=u.attributes,a=e.attributes,o=0,s=n.getAttributes();for(var l in s){if(s[l].location>=0){var c=r[l],h=a[l];if(void 0===h&&("instanceMatrix"===l&&t.instanceMatrix&&(h=t.instanceMatrix),"instanceColor"===l&&t.instanceColor&&(h=t.instanceColor)),void 0===c)return!0;if(c.attribute!==h)return!0;if(h&&c.data!==h.data)return!0;o++}}return u.attributesNum!==o||u.index!==i}(r,w,f,b),x&&function(t,e,n,i){var r={},a=e.attributes,o=0,s=n.getAttributes();for(var l in s){if(s[l].location>=0){var c=a[l];void 0===c&&("instanceMatrix"===l&&t.instanceMatrix&&(c=t.instanceMatrix),"instanceColor"===l&&t.instanceColor&&(c=t.instanceColor));var h={};h.attribute=c,c&&c.data&&(h.data=c.data),r[l]=h,o++}}u.attributes=r,u.attributesNum=o,u.index=i}(r,w,f,b)}else{var _=!0===l.wireframe;u.geometry===w.id&&u.program===f.id&&u.wireframe===_||(u.geometry=w.id,u.program=f.id,u.wireframe=_,x=!0)}null!==b&&n.update(b,34963),(x||c)&&(c=!1,function(r,a,o,s){if(!1===i.isWebGL2&&(r.isInstancedMesh||s.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;p();var l=s.attributes,u=o.getAttributes(),c=a.defaultAttributeValues;for(var h in u){var f=u[h];if(f.location>=0){var d=l[h];if(void 0===d&&("instanceMatrix"===h&&r.instanceMatrix&&(d=r.instanceMatrix),"instanceColor"===h&&r.instanceColor&&(d=r.instanceColor)),void 0!==d){var w=d.normalized,b=d.itemSize,x=n.get(d);if(void 0===x)continue;var A=x.buffer,_=x.type,k=x.bytesPerElement;if(d.isInterleavedBufferAttribute){var S=d.data,M=S.stride,E=d.offset;if(S.isInstancedInterleavedBuffer){for(var C=0;C<f.locationSize;C++)m(f.location+C,S.meshPerAttribute);!0!==r.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=S.meshPerAttribute*S.count)}else for(var P=0;P<f.locationSize;P++)v(f.location+P);t.bindBuffer(34962,A);for(var T=0;T<f.locationSize;T++)y(f.location+T,b/f.locationSize,_,w,M*k,(E+b/f.locationSize*T)*k)}else{if(d.isInstancedBufferAttribute){for(var L=0;L<f.locationSize;L++)m(f.location+L,d.meshPerAttribute);!0!==r.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=d.meshPerAttribute*d.count)}else for(var O=0;O<f.locationSize;O++)v(f.location+O);t.bindBuffer(34962,A);for(var z=0;z<f.locationSize;z++)y(f.location+z,b/f.locationSize,_,w,b*k,b/f.locationSize*z*k)}}else if(void 0!==c){var R=c[h];if(void 0!==R)switch(R.length){case 2:t.vertexAttrib2fv(f.location,R);break;case 3:t.vertexAttrib3fv(f.location,R);break;case 4:t.vertexAttrib4fv(f.location,R);break;default:t.vertexAttrib1fv(f.location,R)}}}}g()}(r,l,f,w),null!==b&&t.bindBuffer(34963,n.get(b).buffer))},reset:w,resetDefaultState:b,dispose:function(){for(var t in w(),s){var e=s[t];for(var n in e){var i=e[n];for(var r in i)f(i[r].object),delete i[r];delete e[n]}delete s[t]}},releaseStatesOfGeometry:function(t){if(void 0!==s[t.id]){var e=s[t.id];for(var n in e){var i=e[n];for(var r in i)f(i[r].object),delete i[r];delete e[n]}delete s[t.id]}},releaseStatesOfProgram:function(t){for(var e in s){var n=s[e];if(void 0!==n[t.id]){var i=n[t.id];for(var r in i)f(i[r].object),delete i[r];delete n[t.id]}}},initAttributes:p,enableAttribute:v,disableUnusedAttributes:g}}function Ul(t,e,n,i){var r,a=i.isWebGL2;this.setMode=function(t){r=t},this.render=function(e,i){t.drawArrays(r,e,i),n.update(i,r,1)},this.renderInstances=function(i,o,s){if(0!==s){var l,u;if(a)l=t,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](r,i,o,s),n.update(o,r,s)}}}function Hl(t,e,n){var i;function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,o=void 0!==n.precision?n.precision:"highp",s=r(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=a||e.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,c=t.getParameter(34930),h=t.getParameter(35660),f=t.getParameter(3379),d=t.getParameter(34076),p=t.getParameter(34921),v=t.getParameter(36347),m=t.getParameter(36348),g=t.getParameter(36349),y=h>0,w=a||e.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){var n=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:r,precision:o,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:v,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:w,floatVertexTextures:y&&w,maxSamples:a?t.getParameter(36183):0}}function Vl(t){var e=this,n=null,i=0,r=!1,a=!1,o=new Cl,s=new Wa,l={value:null,needsUpdate:!1};function u(t,n,i,r){var a=null!==t?t.length:0,u=null;if(0!==a){if(u=l.value,!0!==r||null===u){var c=i+4*a,h=n.matrixWorldInverse;s.getNormalMatrix(h),(null===u||u.length<c)&&(u=new Float32Array(c));for(var f=0,d=i;f!==a;++f,d+=4)o.copy(t[f]).applyMatrix4(h,s),o.normal.toArray(u,d),u[d+3]=o.constant}l.value=u,l.needsUpdate=!0}return e.numPlanes=a,e.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e){var n=0!==t.length||e||0!==i||r;return r=e,i=t.length,n},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(t,e){n=u(t,e,0)},this.setState=function(o,s,c){var h=o.clippingPlanes,f=o.clipIntersection,d=o.clipShadows,p=t.get(o);if(!r||null===h||0===h.length||a&&!d)a?u(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=i>0);e.numPlanes=i,e.numIntersection=0}();else{var v=a?0:i,m=4*v,g=p.clippingState||null;l.value=g,g=u(h,s,m,c);for(var y=0;y!==m;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=v}}}function Gl(t){var e=new WeakMap;function n(t,e){return e===ur?t.mapping=sr:e===cr&&(t.mapping=lr),t}function i(t){var n=t.target;n.removeEventListener("dispose",i);var r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture&&!1===r.isRenderTargetTexture){var a=r.mapping;if(a===ur||a===cr){if(e.has(r))return n(e.get(r).texture,r.mapping);var o=r.image;if(o&&o.height>0){var s=new kl(o.height/2);return s.fromEquirectangularTexture(t,r),e.set(r,s),r.addEventListener("dispose",i),n(s.texture,r.mapping)}return null}}return r},dispose:function(){e=new WeakMap}}}var Wl=function(t){$n(n,t);var e=ei(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return li(this,n),(t=e.call(this)).isOrthographicCamera=!0,t.type="OrthographicCamera",t.zoom=1,t.view=null,t.left=i,t.right=r,t.top=a,t.bottom=o,t.near=s,t.far=l,t.updateProjectionMatrix(),t}return ci(n,[{key:"copy",value:function(t,e){return Kn(ri(n.prototype),"copy",this).call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}},{key:"setViewOffset",value:function(t,e,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-t,a=n+t,o=i+e,s=i-e;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(r+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(t){var e=Kn(ri(n.prototype),"toJSON",this).call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}]),n}(wl),Ql=[.125,.215,.35,.446,.526,.582],Xl=20,Yl=new Wl,Jl=new Rs,Zl=null,ql=(1+Math.sqrt(5))/2,Kl=1/ql,$l=[new Za(1,1,1),new Za(-1,1,1),new Za(1,1,-1),new Za(-1,1,-1),new Za(0,ql,Kl),new Za(0,ql,-Kl),new Za(Kl,0,ql),new Za(-Kl,0,ql),new Za(ql,Kl,0),new Za(-ql,Kl,0)],tu=function(){function t(e){li(this,t),this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return ci(t,[{key:"fromScene",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Zl=this._renderer.getRenderTarget(),this._setSize(256);var r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(t,n,i,r),e>0&&this._blur(r,0,0,e),this._applyPMREM(r),this._cleanup(r),r}},{key:"fromEquirectangular",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(t,e)}},{key:"fromCubemap",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(t,e)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=ru(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=iu(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}},{key:"_cleanup",value:function(t){this._renderer.setRenderTarget(Zl),t.scissorTest=!1,nu(t,0,0,t.width,t.height)}},{key:"_fromTexture",value:function(t,e){t.mapping===sr||t.mapping===lr?this._setSize(0===t.image.length?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),Zl=this._renderer.getRenderTarget();var n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,n={magFilter:yr,minFilter:yr,generateMipmaps:!1,type:Cr,format:zr,encoding:wa,depthBuffer:!1},i=eu(t,e,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=eu(t,e,n);var r=this._lodMax,a=function(t){for(var e=[],n=[],i=[],r=t,a=t-4+1+Ql.length,o=0;o<a;o++){var s=Math.pow(2,r);n.push(s);var l=1/s;o>t-4?l=Ql[o-t+4-1]:0===o&&(l=0),i.push(l);for(var u=1/(s-2),c=-u,h=1+u,f=[c,c,h,c,h,h,c,c,h,h,c,h],d=6,p=6,v=3,m=2,g=1,y=new Float32Array(v*p*d),w=new Float32Array(m*p*d),b=new Float32Array(g*p*d),x=0;x<d;x++){var A=x%3*2/3-1,_=x>2?0:-1,k=[A,_,0,A+2/3,_,0,A+2/3,_+1,0,A,_,0,A+2/3,_+1,0,A,_+1,0];y.set(k,v*p*x),w.set(f,m*p*x);var S=[x,x,x,x,x,x];b.set(S,g*p*x)}var M=new Zs;M.setAttribute("position",new js(y,v)),M.setAttribute("uv",new js(w,m)),M.setAttribute("faceIndex",new js(b,g)),e.push(M),r>4&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}(r);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(t,e,n){var i=new Float32Array(Xl),r=new Za(0,1,0),a=new yl({name:"SphericalGaussianBlur",defines:{n:Xl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(t,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:Ai,depthTest:!1,depthWrite:!1});return a}(r,t,e)}return i}},{key:"_compileMaterial",value:function(t){var e=new hl(this._lodPlanes[0],t);this._renderer.compile(e,Yl)}},{key:"_sceneToCubeUV",value:function(t,e,n,i){var r=new bl(90,1,e,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.toneMapping;s.getClearColor(Jl),s.toneMapping=er,s.autoClear=!1;var c=new Is({name:"PMREM.Background",side:bi,depthWrite:!1,depthTest:!1}),h=new hl(new dl,c),f=!1,d=t.background;d?d.isColor&&(c.color.copy(d),t.background=null,f=!0):(c.color.copy(Jl),f=!0);for(var p=0;p<6;p++){var v=p%3;0===v?(r.up.set(0,a[p],0),r.lookAt(o[p],0,0)):1===v?(r.up.set(0,0,a[p]),r.lookAt(0,o[p],0)):(r.up.set(0,a[p],0),r.lookAt(0,0,o[p]));var m=this._cubeSize;nu(i,v*m,p>2?m:0,m,m),s.setRenderTarget(i),f&&s.render(h,r),s.render(t,r)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=u,s.autoClear=l,t.background=d}},{key:"_textureToCubeUV",value:function(t,e){var n=this._renderer,i=t.mapping===sr||t.mapping===lr;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=ru()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=iu());var r=i?this._cubemapMaterial:this._equirectMaterial,a=new hl(this._lodPlanes[0],r);r.uniforms.envMap.value=t;var o=this._cubeSize;nu(e,0,0,3*o,2*o),n.setRenderTarget(e),n.render(a,Yl)}},{key:"_applyPMREM",value:function(t){var e=this._renderer,n=e.autoClear;e.autoClear=!1;for(var i=1;i<this._lodPlanes.length;i++){var r=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=$l[(i-1)%$l.length];this._blur(t,i-1,i,r,a)}e.autoClear=n}},{key:"_blur",value:function(t,e,n,i,r){var a=this._pingPongRenderTarget;this._halfBlur(t,a,e,n,i,"latitudinal",r),this._halfBlur(a,t,n,n,i,"longitudinal",r)}},{key:"_halfBlur",value:function(t,e,n,i,r,a,o){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new hl(this._lodPlanes[i],l),c=l.uniforms,h=this._sizeLods[n]-1,f=isFinite(r)?Math.PI/(2*h):2*Math.PI/39,d=r/f,p=isFinite(r)?1+Math.floor(3*d):Xl;p>Xl&&console.warn("sigmaRadians, ".concat(r,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(Xl));for(var v=[],m=0,g=0;g<Xl;++g){var y=g/d,w=Math.exp(-y*y/2);v.push(w),0===g?m+=w:g<p&&(m+=2*w)}for(var b=0;b<v.length;b++)v[b]=v[b]/m;c.envMap.value=t.texture,c.samples.value=p,c.weights.value=v,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var x=this._lodMax;c.dTheta.value=f,c.mipInt.value=x-n;var A=this._sizeLods[i];nu(e,3*A*(i>x-4?i-x+4:0),4*(this._cubeSize-A),3*A,2*A),s.setRenderTarget(e),s.render(u,Yl)}}]),t}();function eu(t,e,n){var i=new vo(t,e,n);return i.texture.mapping=hr,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function nu(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function iu(){return new yl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:Ai,depthTest:!1,depthWrite:!1})}function ru(){return new yl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:Ai,depthTest:!1,depthWrite:!1})}function au(t){var e=new WeakMap,n=null;function i(t){var n=t.target;n.removeEventListener("dispose",i);var r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){var a=r.mapping,o=a===ur||a===cr,s=a===sr||a===lr;if(o||s){if(r.isRenderTargetTexture&&!0===r.needsPMREMUpdate){r.needsPMREMUpdate=!1;var l=e.get(r);return null===n&&(n=new tu(t)),l=o?n.fromEquirectangular(r,l):n.fromCubemap(r,l),e.set(r,l),l.texture}if(e.has(r))return e.get(r).texture;var u=r.image;if(o&&u&&u.height>0||s&&u&&function(t){for(var e=0,n=6,i=0;i<n;i++)void 0!==t[i]&&e++;return e===n}(u)){null===n&&(n=new tu(t));var c=o?n.fromEquirectangular(r):n.fromCubemap(r);return e.set(r,c),r.addEventListener("dispose",i),c.texture}return null}}return r},dispose:function(){e=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function ou(t){var e={};function n(n){if(void 0!==e[n])return e[n];var i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return e[n]=i,i}return{has:function(t){return null!==n(t)},init:function(t){t.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(t){var e=n(t);return null===e&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function su(t,e,n,i){var r={},a=new WeakMap;function o(t){var s=t.target;for(var l in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[l]);s.removeEventListener("dispose",o),delete r[s.id];var u=a.get(s);u&&(e.remove(u),a.delete(s)),i.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(t){var n=[],i=t.index,r=t.attributes.position,o=0;if(null!==i){var s=i.array;o=i.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],h=s[l+1],f=s[l+2];n.push(c,h,h,f,f,c)}}else{var d=r.array;o=r.version;for(var p=0,v=d.length/3-1;p<v;p+=3){var m=p+0,g=p+1,y=p+2;n.push(m,g,g,y,y,m)}}var w=new(Xa(n)?Us:Fs)(n,1);w.version=o;var b=a.get(t);b&&e.remove(b),a.set(t,w)}return{get:function(t,e){return!0===r[e.id]||(e.addEventListener("dispose",o),r[e.id]=!0,n.memory.geometries++),e},update:function(t){var n=t.attributes;for(var i in n)e.update(n[i],34962);var r=t.morphAttributes;for(var a in r)for(var o=r[a],s=0,l=o.length;s<l;s++)e.update(o[s],34962)},getWireframeAttribute:function(t){var e=a.get(t);if(e){var n=t.index;null!==n&&e.version<n.version&&s(t)}else s(t);return a.get(t)}}}function lu(t,e,n,i){var r,a,o,s=i.isWebGL2;this.setMode=function(t){r=t},this.setIndex=function(t){a=t.type,o=t.bytesPerElement},this.render=function(e,i){t.drawElements(r,i,a,e*o),n.update(i,r,1)},this.renderInstances=function(i,l,u){if(0!==u){var c,h;if(s)c=t,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(c=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](r,l,a,i*o,u),n.update(l,r,u)}}}function uu(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,i){switch(e.calls++,n){case 4:e.triangles+=i*(t/3);break;case 1:e.lines+=i*(t/2);break;case 3:e.lines+=i*(t-1);break;case 2:e.lines+=i*t;break;case 0:e.points+=i*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function cu(t,e){return t[0]-e[0]}function hu(t,e){return Math.abs(e[1])-Math.abs(t[1])}function fu(t,e,n){for(var i={},r=new Float32Array(8),a=new WeakMap,o=new po,s=[],l=0;l<8;l++)s[l]=[l,0];return{update:function(l,u,c){var h=l.morphTargetInfluences;if(!0===e.isWebGL2){var f=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,d=void 0!==f?f.length:0,p=a.get(u);if(void 0===p||p.count!==d){void 0!==p&&p.texture.dispose();var v=void 0!==u.morphAttributes.position,m=void 0!==u.morphAttributes.normal,g=void 0!==u.morphAttributes.color,y=u.morphAttributes.position||[],w=u.morphAttributes.normal||[],b=u.morphAttributes.color||[],x=0;!0===v&&(x=1),!0===m&&(x=2),!0===g&&(x=3);var A=u.attributes.position.count*x,_=1;A>e.maxTextureSize&&(_=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);var k=new Float32Array(A*_*4*d),S=new mo(k,A,_,d);S.type=Er,S.needsUpdate=!0;for(var M=4*x,E=0;E<d;E++)for(var C=y[E],P=w[E],T=b[E],L=A*_*4*E,O=0;O<C.count;O++){var z=O*M;!0===v&&(o.fromBufferAttribute(C,O),k[L+z+0]=o.x,k[L+z+1]=o.y,k[L+z+2]=o.z,k[L+z+3]=0),!0===m&&(o.fromBufferAttribute(P,O),k[L+z+4]=o.x,k[L+z+5]=o.y,k[L+z+6]=o.z,k[L+z+7]=0),!0===g&&(o.fromBufferAttribute(T,O),k[L+z+8]=o.x,k[L+z+9]=o.y,k[L+z+10]=o.z,k[L+z+11]=4===T.itemSize?o.w:1)}p={count:d,texture:S,size:new Ga(A,_)},a.set(u,p),u.addEventListener("dispose",(function t(){S.dispose(),a.delete(u),u.removeEventListener("dispose",t)}))}for(var R=0,D=0;D<h.length;D++)R+=h[D];var I=u.morphTargetsRelative?1:1-R;c.getUniforms().setValue(t,"morphTargetBaseInfluence",I),c.getUniforms().setValue(t,"morphTargetInfluences",h),c.getUniforms().setValue(t,"morphTargetsTexture",p.texture,n),c.getUniforms().setValue(t,"morphTargetsTextureSize",p.size)}else{var B=void 0===h?0:h.length,N=i[u.id];if(void 0===N||N.length!==B){N=[];for(var j=0;j<B;j++)N[j]=[j,0];i[u.id]=N}for(var F=0;F<B;F++){var U=N[F];U[0]=F,U[1]=h[F]}N.sort(hu);for(var H=0;H<8;H++)H<B&&N[H][1]?(s[H][0]=N[H][0],s[H][1]=N[H][1]):(s[H][0]=Number.MAX_SAFE_INTEGER,s[H][1]=0);s.sort(cu);for(var V=u.morphAttributes.position,G=u.morphAttributes.normal,W=0,Q=0;Q<8;Q++){var X=s[Q],Y=X[0],J=X[1];Y!==Number.MAX_SAFE_INTEGER&&J?(V&&u.getAttribute("morphTarget"+Q)!==V[Y]&&u.setAttribute("morphTarget"+Q,V[Y]),G&&u.getAttribute("morphNormal"+Q)!==G[Y]&&u.setAttribute("morphNormal"+Q,G[Y]),r[Q]=J,W+=J):(V&&!0===u.hasAttribute("morphTarget"+Q)&&u.deleteAttribute("morphTarget"+Q),G&&!0===u.hasAttribute("morphNormal"+Q)&&u.deleteAttribute("morphNormal"+Q),r[Q]=0)}var Z=u.morphTargetsRelative?1:1-W;c.getUniforms().setValue(t,"morphTargetBaseInfluence",Z),c.getUniforms().setValue(t,"morphTargetInfluences",r)}}}}function du(t,e,n,i){var r=new WeakMap;function a(t){var e=t.target;e.removeEventListener("dispose",a),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(t){var o=i.render.frame,s=t.geometry,l=e.get(t,s);return r.get(l)!==o&&(e.update(l),r.set(l,o)),t.isInstancedMesh&&(!1===t.hasEventListener("dispose",a)&&t.addEventListener("dispose",a),n.update(t.instanceMatrix,34962),null!==t.instanceColor&&n.update(t.instanceColor,34962)),l},dispose:function(){r=new WeakMap}}}var pu=new fo,vu=new mo,mu=new go,gu=new _l,yu=[],wu=[],bu=new Float32Array(16),xu=new Float32Array(9),Au=new Float32Array(4);function _u(t,e,n){var i=t[0];if(i<=0||i>0)return t;var r=e*n,a=yu[r];if(void 0===a&&(a=new Float32Array(r),yu[r]=a),0!==e){i.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=n,t[o].toArray(a,s)}return a}function ku(t,e){if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Su(t,e){for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}function Mu(t,e){var n=wu[e];void 0===n&&(n=new Int32Array(e),wu[e]=n);for(var i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function Eu(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Cu(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ku(n,e))return;t.uniform2fv(this.addr,e),Su(n,e)}}function Pu(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ku(n,e))return;t.uniform3fv(this.addr,e),Su(n,e)}}function Tu(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ku(n,e))return;t.uniform4fv(this.addr,e),Su(n,e)}}function Lu(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(ku(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Su(n,e)}else{if(ku(n,i))return;Au.set(i),t.uniformMatrix2fv(this.addr,!1,Au),Su(n,i)}}function Ou(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(ku(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Su(n,e)}else{if(ku(n,i))return;xu.set(i),t.uniformMatrix3fv(this.addr,!1,xu),Su(n,i)}}function zu(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(ku(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Su(n,e)}else{if(ku(n,i))return;bu.set(i),t.uniformMatrix4fv(this.addr,!1,bu),Su(n,i)}}function Ru(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Du(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ku(n,e))return;t.uniform2iv(this.addr,e),Su(n,e)}}function Iu(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ku(n,e))return;t.uniform3iv(this.addr,e),Su(n,e)}}function Bu(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ku(n,e))return;t.uniform4iv(this.addr,e),Su(n,e)}}function Nu(t,e){var n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function ju(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ku(n,e))return;t.uniform2uiv(this.addr,e),Su(n,e)}}function Fu(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ku(n,e))return;t.uniform3uiv(this.addr,e),Su(n,e)}}function Uu(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ku(n,e))return;t.uniform4uiv(this.addr,e),Su(n,e)}}function Hu(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(e||pu,r)}function Vu(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||mu,r)}function Gu(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||gu,r)}function Wu(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||vu,r)}function Qu(t,e){t.uniform1fv(this.addr,e)}function Xu(t,e){var n=_u(e,this.size,2);t.uniform2fv(this.addr,n)}function Yu(t,e){var n=_u(e,this.size,3);t.uniform3fv(this.addr,n)}function Ju(t,e){var n=_u(e,this.size,4);t.uniform4fv(this.addr,n)}function Zu(t,e){var n=_u(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function qu(t,e){var n=_u(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Ku(t,e){var n=_u(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function $u(t,e){t.uniform1iv(this.addr,e)}function tc(t,e){t.uniform2iv(this.addr,e)}function ec(t,e){t.uniform3iv(this.addr,e)}function nc(t,e){t.uniform4iv(this.addr,e)}function ic(t,e){t.uniform1uiv(this.addr,e)}function rc(t,e){t.uniform2uiv(this.addr,e)}function ac(t,e){t.uniform3uiv(this.addr,e)}function oc(t,e){t.uniform4uiv(this.addr,e)}function sc(t,e,n){var i=this.cache,r=e.length,a=Mu(n,r);ku(i,a)||(t.uniform1iv(this.addr,a),Su(i,a));for(var o=0;o!==r;++o)n.setTexture2D(e[o]||pu,a[o])}function lc(t,e,n){var i=this.cache,r=e.length,a=Mu(n,r);ku(i,a)||(t.uniform1iv(this.addr,a),Su(i,a));for(var o=0;o!==r;++o)n.setTexture3D(e[o]||mu,a[o])}function uc(t,e,n){var i=this.cache,r=e.length,a=Mu(n,r);ku(i,a)||(t.uniform1iv(this.addr,a),Su(i,a));for(var o=0;o!==r;++o)n.setTextureCube(e[o]||gu,a[o])}function cc(t,e,n){var i=this.cache,r=e.length,a=Mu(n,r);ku(i,a)||(t.uniform1iv(this.addr,a),Su(i,a));for(var o=0;o!==r;++o)n.setTexture2DArray(e[o]||vu,a[o])}var hc=ci((function t(e,n,i){li(this,t),this.id=e,this.addr=i,this.cache=[],this.setValue=function(t){switch(t){case 5126:return Eu;case 35664:return Cu;case 35665:return Pu;case 35666:return Tu;case 35674:return Lu;case 35675:return Ou;case 35676:return zu;case 5124:case 35670:return Ru;case 35667:case 35671:return Du;case 35668:case 35672:return Iu;case 35669:case 35673:return Bu;case 5125:return Nu;case 36294:return ju;case 36295:return Fu;case 36296:return Uu;case 35678:case 36198:case 36298:case 36306:case 35682:return Hu;case 35679:case 36299:case 36307:return Vu;case 35680:case 36300:case 36308:case 36293:return Gu;case 36289:case 36303:case 36311:case 36292:return Wu}}(n.type)})),fc=ci((function t(e,n,i){li(this,t),this.id=e,this.addr=i,this.cache=[],this.size=n.size,this.setValue=function(t){switch(t){case 5126:return Qu;case 35664:return Xu;case 35665:return Yu;case 35666:return Ju;case 35674:return Zu;case 35675:return qu;case 35676:return Ku;case 5124:case 35670:return $u;case 35667:case 35671:return tc;case 35668:case 35672:return ec;case 35669:case 35673:return nc;case 5125:return ic;case 36294:return rc;case 36295:return ac;case 36296:return oc;case 35678:case 36198:case 36298:case 36306:case 35682:return sc;case 35679:case 36299:case 36307:return lc;case 35680:case 36300:case 36308:case 36293:return uc;case 36289:case 36303:case 36311:case 36292:return cc}}(n.type)})),dc=function(){function t(e){li(this,t),this.id=e,this.seq=[],this.map={}}return ci(t,[{key:"setValue",value:function(t,e,n){for(var i=this.seq,r=0,a=i.length;r!==a;++r){var o=i[r];o.setValue(t,e[o.id],n)}}}]),t}(),pc=/(\w+)(\])?(\[|\.)?/g;function vc(t,e){t.seq.push(e),t.map[e.id]=e}function mc(t,e,n){var i=t.name,r=i.length;for(pc.lastIndex=0;;){var a=pc.exec(i),o=pc.lastIndex,s=a[1],l="]"===a[2],u=a[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===r){vc(n,void 0===u?new hc(s,t,e):new fc(s,t,e));break}var c=n.map[s];void 0===c&&vc(n,c=new dc(s)),n=c}}var gc=function(){function t(e,n){li(this,t),this.seq=[],this.map={};for(var i=e.getProgramParameter(n,35718),r=0;r<i;++r){var a=e.getActiveUniform(n,r);mc(a,e.getUniformLocation(n,a.name),this)}}return ci(t,[{key:"setValue",value:function(t,e,n,i){var r=this.map[e];void 0!==r&&r.setValue(t,n,i)}},{key:"setOptional",value:function(t,e,n){var i=e[n];void 0!==i&&this.setValue(t,n,i)}}],[{key:"upload",value:function(t,e,n,i){for(var r=0,a=e.length;r!==a;++r){var o=e[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,i)}}},{key:"seqWithValue",value:function(t,e){for(var n=[],i=0,r=t.length;i!==r;++i){var a=t[i];a.id in e&&n.push(a)}return n}}]),t}();function yc(t,e,n){var i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}var wc=0;function bc(t,e,n){var i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();if(i&&""===r)return"";var a=/ERROR: 0:(\d+)/.exec(r);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+r+"\n\n"+function(t,e){for(var n=t.split("\n"),i=[],r=Math.max(e-6,0),a=Math.min(e+6,n.length),o=r;o<a;o++){var s=o+1;i.push("".concat(s===e?">":" "," ").concat(s,": ").concat(n[o]))}return i.join("\n")}(t.getShaderSource(e),o)}return r}function xc(t,e){var n=function(t){switch(t){case wa:return["Linear","( value )"];case ba:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Ac(t,e){var n;switch(e){case nr:n="Linear";break;case ir:n="Reinhard";break;case rr:n="OptimizedCineon";break;case ar:n="ACESFilmic";break;case or:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function _c(t){return""!==t}function kc(t,e){var n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Sc(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var Mc=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ec(t){return t.replace(Mc,Cc)}function Cc(t,e){var n=Dl[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return Ec(n)}var Pc=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Tc(t){return t.replace(Pc,Lc)}function Lc(t,e,n,i){for(var r="",a=parseInt(e);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function Oc(t){var e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function zc(t,e,n,i){var r,a,o=t.getContext(),s=n.defines,l=n.vertexShader,u=n.fragmentShader,c=function(t){var e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===mi?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===gi?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===yi&&(e="SHADOWMAP_TYPE_VSM"),e}(n),h=function(t){var e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case sr:case lr:e="ENVMAP_TYPE_CUBE";break;case hr:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),f=function(t){var e="ENVMAP_MODE_REFLECTION";t.envMap&&t.envMapMode===lr&&(e="ENVMAP_MODE_REFRACTION");return e}(n),d=function(t){var e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Ki:e="ENVMAP_BLENDING_MULTIPLY";break;case $i:e="ENVMAP_BLENDING_MIX";break;case tr:e="ENVMAP_BLENDING_ADD"}return e}(n),p=function(t){var e=t.envMapCubeUVHeight;if(null===e)return null;var n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}(n),v=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(_c).join("\n")}(n),m=function(t){var e=[];for(var n in t){var i=t[n];!1!==i&&e.push("#define "+n+" "+i)}return e.join("\n")}(s),g=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((r=[m].filter(_c).join("\n")).length>0&&(r+="\n"),(a=[v,m].filter(_c).join("\n")).length>0&&(a+="\n")):(r=[Oc(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(_c).join("\n"),a=[v,Oc(n),"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==er?"#define TONE_MAPPING":"",n.toneMapping!==er?Dl.tonemapping_pars_fragment:"",n.toneMapping!==er?Ac("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Dl.encodings_pars_fragment,xc("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(_c).join("\n")),l=Sc(l=kc(l=Ec(l),n),n),u=Sc(u=kc(u=Ec(u),n),n),l=Tc(l),u=Tc(u),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",r=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+r,a=["#define varying in",n.glslVersion===Ca?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Ca?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var w,b,x=y+a+u,A=yc(o,35633,y+r+l),_=yc(o,35632,x);if(o.attachShader(g,A),o.attachShader(g,_),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),t.debug.checkShaderErrors){var k=o.getProgramInfoLog(g).trim(),S=o.getShaderInfoLog(A).trim(),M=o.getShaderInfoLog(_).trim(),E=!0,C=!0;if(!1===o.getProgramParameter(g,35714)){E=!1;var P=bc(o,A,"vertex"),T=bc(o,_,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(g,35715)+"\n\nProgram Info Log: "+k+"\n"+P+"\n"+T)}else""!==k?console.warn("THREE.WebGLProgram: Program Info Log:",k):""!==S&&""!==M||(C=!1);C&&(this.diagnostics={runnable:E,programLog:k,vertexShader:{log:S,prefix:r},fragmentShader:{log:M,prefix:a}})}return o.deleteShader(A),o.deleteShader(_),this.getUniforms=function(){return void 0===w&&(w=new gc(o,g)),w},this.getAttributes=function(){return void 0===b&&(b=function(t,e){for(var n={},i=t.getProgramParameter(e,35721),r=0;r<i;r++){var a=t.getActiveAttrib(e,r),o=a.name,s=1;35674===a.type&&(s=2),35675===a.type&&(s=3),35676===a.type&&(s=4),n[o]={type:a.type,location:t.getAttribLocation(e,o),locationSize:s}}return n}(o,g)),b},this.destroy=function(){i.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=wc++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=A,this.fragmentShader=_,this}var Rc=0,Dc=function(){function t(){li(this,t),this.shaderCache=new Map,this.materialCache=new Map}return ci(t,[{key:"update",value:function(t){var e=t.vertexShader,n=t.fragmentShader,i=this._getShaderStage(e),r=this._getShaderStage(n),a=this._getShaderCacheForMaterial(t);return!1===a.has(i)&&(a.add(i),i.usedTimes++),!1===a.has(r)&&(a.add(r),r.usedTimes++),this}},{key:"remove",value:function(t){var e,n=Yn(this.materialCache.get(t));try{for(n.s();!(e=n.n()).done;){var i=e.value;i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code)}}catch(r){n.e(r)}finally{n.f()}return this.materialCache.delete(t),this}},{key:"getVertexShaderID",value:function(t){return this._getShaderStage(t.vertexShader).id}},{key:"getFragmentShaderID",value:function(t){return this._getShaderStage(t.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(t){var e=this.materialCache,n=e.get(t);return void 0===n&&(n=new Set,e.set(t,n)),n}},{key:"_getShaderStage",value:function(t){var e=this.shaderCache,n=e.get(t);return void 0===n&&(n=new Ic(t),e.set(t,n)),n}}]),t}(),Ic=ci((function t(e){li(this,t),this.id=Rc++,this.code=e,this.usedTimes=0}));function Bc(t,e,n,i,r,a,o){var s=new ns,l=new Dc,u=[],c=r.isWebGL2,h=r.logarithmicDepthBuffer,f=r.vertexTextures,d=r.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(a,s,u,v,m){var g=v.fog,y=m.geometry,w=a.isMeshStandardMaterial?v.environment:null,b=(a.isMeshStandardMaterial?n:e).get(a.envMap||w),x=b&&b.mapping===hr?b.image.height:null,A=p[a.type];null!==a.precision&&(d=r.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",d,"instead.");var _,k,S,M,E=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,C=void 0!==E?E.length:0,P=0;if(void 0!==y.morphAttributes.position&&(P=1),void 0!==y.morphAttributes.normal&&(P=2),void 0!==y.morphAttributes.color&&(P=3),A){var T=Bl[A];_=T.vertexShader,k=T.fragmentShader}else _=a.vertexShader,k=a.fragmentShader,l.update(a),S=l.getVertexShaderID(a),M=l.getFragmentShaderID(a);var L=t.getRenderTarget(),O=a.alphaTest>0,z=a.clearcoat>0,R=a.iridescence>0;return{isWebGL2:c,shaderID:A,shaderName:a.type,vertexShader:_,fragmentShader:k,defines:a.defines,customVertexShaderID:S,customFragmentShaderID:M,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:d,instancing:!0===m.isInstancedMesh,instancingColor:!0===m.isInstancedMesh&&null!==m.instanceColor,supportsVertexTextures:f,outputEncoding:null===L?t.outputEncoding:!0===L.isXRRenderTarget?L.texture.encoding:wa,map:!!a.map,matcap:!!a.matcap,envMap:!!b,envMapMode:b&&b.mapping,envMapCubeUVHeight:x,lightMap:!!a.lightMap,aoMap:!!a.aoMap,emissiveMap:!!a.emissiveMap,bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,objectSpaceNormalMap:a.normalMapType===_a,tangentSpaceNormalMap:a.normalMapType===Aa,decodeVideoTexture:!!a.map&&!0===a.map.isVideoTexture&&a.map.encoding===ba,clearcoat:z,clearcoatMap:z&&!!a.clearcoatMap,clearcoatRoughnessMap:z&&!!a.clearcoatRoughnessMap,clearcoatNormalMap:z&&!!a.clearcoatNormalMap,iridescence:R,iridescenceMap:R&&!!a.iridescenceMap,iridescenceThicknessMap:R&&!!a.iridescenceThicknessMap,displacementMap:!!a.displacementMap,roughnessMap:!!a.roughnessMap,metalnessMap:!!a.metalnessMap,specularMap:!!a.specularMap,specularIntensityMap:!!a.specularIntensityMap,specularColorMap:!!a.specularColorMap,opaque:!1===a.transparent&&a.blending===_i,alphaMap:!!a.alphaMap,alphaTest:O,gradientMap:!!a.gradientMap,sheen:a.sheen>0,sheenColorMap:!!a.sheenColorMap,sheenRoughnessMap:!!a.sheenRoughnessMap,transmission:a.transmission>0,transmissionMap:!!a.transmissionMap,thicknessMap:!!a.thicknessMap,combine:a.combine,vertexTangents:!!a.normalMap&&!!y.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!y.attributes.color&&4===y.attributes.color.itemSize,vertexUvs:!!a.map||!!a.bumpMap||!!a.normalMap||!!a.specularMap||!!a.alphaMap||!!a.emissiveMap||!!a.roughnessMap||!!a.metalnessMap||!!a.clearcoatMap||!!a.clearcoatRoughnessMap||!!a.clearcoatNormalMap||!!a.iridescenceMap||!!a.iridescenceThicknessMap||!!a.displacementMap||!!a.transmissionMap||!!a.thicknessMap||!!a.specularIntensityMap||!!a.specularColorMap||!!a.sheenColorMap||!!a.sheenRoughnessMap,uvsVertexOnly:!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatNormalMap||a.iridescenceMap||a.iridescenceThicknessMap||a.transmission>0||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheen>0||a.sheenColorMap||a.sheenRoughnessMap)&&!!a.displacementMap,fog:!!g,useFog:!0===a.fog,fogExp2:g&&g.isFogExp2,flatShading:!!a.flatShading,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===m.isSkinnedMesh,morphTargets:void 0!==y.morphAttributes.position,morphNormals:void 0!==y.morphAttributes.normal,morphColors:void 0!==y.morphAttributes.color,morphTargetsCount:C,morphTextureStride:P,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:t.shadowMap.enabled&&u.length>0,shadowMapType:t.shadowMap.type,toneMapping:a.toneMapped?t.toneMapping:er,useLegacyLights:t.useLegacyLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===xi,flipSided:a.side===bi,useDepthPacking:!!a.depthPacking,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:a.extensions&&a.extensions.derivatives,extensionFragDepth:a.extensions&&a.extensions.fragDepth,extensionDrawBuffers:a.extensions&&a.extensions.drawBuffers,extensionShaderTextureLOD:a.extensions&&a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||i.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.customVertexShaderID),n.push(e.customFragmentShaderID)),void 0!==e.defines)for(var i in e.defines)n.push(i),n.push(e.defines[i]);return!1===e.isRawShaderMaterial&&(!function(t,e){t.push(e.precision),t.push(e.outputEncoding),t.push(e.envMapMode),t.push(e.envMapCubeUVHeight),t.push(e.combine),t.push(e.vertexUvs),t.push(e.fogExp2),t.push(e.sizeAttenuation),t.push(e.morphTargetsCount),t.push(e.morphAttributeCount),t.push(e.numDirLights),t.push(e.numPointLights),t.push(e.numSpotLights),t.push(e.numSpotLightMaps),t.push(e.numHemiLights),t.push(e.numRectAreaLights),t.push(e.numDirLightShadows),t.push(e.numPointLightShadows),t.push(e.numSpotLightShadows),t.push(e.numSpotLightShadowsWithMaps),t.push(e.shadowMapType),t.push(e.toneMapping),t.push(e.numClippingPlanes),t.push(e.numClipIntersection),t.push(e.depthPacking)}(n,e),function(t,e){s.disableAll(),e.isWebGL2&&s.enable(0);e.supportsVertexTextures&&s.enable(1);e.instancing&&s.enable(2);e.instancingColor&&s.enable(3);e.map&&s.enable(4);e.matcap&&s.enable(5);e.envMap&&s.enable(6);e.lightMap&&s.enable(7);e.aoMap&&s.enable(8);e.emissiveMap&&s.enable(9);e.bumpMap&&s.enable(10);e.normalMap&&s.enable(11);e.objectSpaceNormalMap&&s.enable(12);e.tangentSpaceNormalMap&&s.enable(13);e.clearcoat&&s.enable(14);e.clearcoatMap&&s.enable(15);e.clearcoatRoughnessMap&&s.enable(16);e.clearcoatNormalMap&&s.enable(17);e.iridescence&&s.enable(18);e.iridescenceMap&&s.enable(19);e.iridescenceThicknessMap&&s.enable(20);e.displacementMap&&s.enable(21);e.specularMap&&s.enable(22);e.roughnessMap&&s.enable(23);e.metalnessMap&&s.enable(24);e.gradientMap&&s.enable(25);e.alphaMap&&s.enable(26);e.alphaTest&&s.enable(27);e.vertexColors&&s.enable(28);e.vertexAlphas&&s.enable(29);e.vertexUvs&&s.enable(30);e.vertexTangents&&s.enable(31);e.uvsVertexOnly&&s.enable(32);t.push(s.mask),s.disableAll(),e.fog&&s.enable(0);e.useFog&&s.enable(1);e.flatShading&&s.enable(2);e.logarithmicDepthBuffer&&s.enable(3);e.skinning&&s.enable(4);e.morphTargets&&s.enable(5);e.morphNormals&&s.enable(6);e.morphColors&&s.enable(7);e.premultipliedAlpha&&s.enable(8);e.shadowMapEnabled&&s.enable(9);e.useLegacyLights&&s.enable(10);e.doubleSided&&s.enable(11);e.flipSided&&s.enable(12);e.useDepthPacking&&s.enable(13);e.dithering&&s.enable(14);e.specularIntensityMap&&s.enable(15);e.specularColorMap&&s.enable(16);e.transmission&&s.enable(17);e.transmissionMap&&s.enable(18);e.thicknessMap&&s.enable(19);e.sheen&&s.enable(20);e.sheenColorMap&&s.enable(21);e.sheenRoughnessMap&&s.enable(22);e.decodeVideoTexture&&s.enable(23);e.opaque&&s.enable(24);t.push(s.mask)}(n,e),n.push(t.outputEncoding)),n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){var e,n=p[t.type];if(n){var i=Bl[n];e=gl.clone(i.uniforms)}else e=t.uniforms;return e},acquireProgram:function(e,n){for(var i,r=0,o=u.length;r<o;r++){var s=u[r];if(s.cacheKey===n){++(i=s).usedTimes;break}}return void 0===i&&(i=new zc(t,n,e,a),u.push(i)),i},releaseProgram:function(t){if(0===--t.usedTimes){var e=u.indexOf(t);u[e]=u[u.length-1],u.pop(),t.destroy()}},releaseShaderCache:function(t){l.remove(t)},programs:u,dispose:function(){l.dispose()}}}function Nc(){var t=new WeakMap;return{get:function(e){var n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,i){t.get(e)[n]=i},dispose:function(){t=new WeakMap}}}function jc(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Fc(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Uc(){var t=[],e=0,n=[],i=[],r=[];function a(n,i,r,a,o,s){var l=t[e];return void 0===l?(l={id:n.id,object:n,geometry:i,material:r,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},t[e]=l):(l.id=n.id,l.object=n,l.geometry=i,l.material=r,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),e++,l}return{opaque:n,transmissive:i,transparent:r,init:function(){e=0,n.length=0,i.length=0,r.length=0},push:function(t,e,o,s,l,u){var c=a(t,e,o,s,l,u);o.transmission>0?i.push(c):!0===o.transparent?r.push(c):n.push(c)},unshift:function(t,e,o,s,l,u){var c=a(t,e,o,s,l,u);o.transmission>0?i.unshift(c):!0===o.transparent?r.unshift(c):n.unshift(c)},finish:function(){for(var n=e,i=t.length;n<i;n++){var r=t[n];if(null===r.id)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.group=null}},sort:function(t,e){n.length>1&&n.sort(t||jc),i.length>1&&i.sort(e||Fc),r.length>1&&r.sort(e||Fc)}}}function Hc(){var t=new WeakMap;return{get:function(e,n){var i,r=t.get(e);return void 0===r?(i=new Uc,t.set(e,[i])):n>=r.length?(i=new Uc,r.push(i)):i=r[n],i},dispose:function(){t=new WeakMap}}}function Vc(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new Za,color:new Rs};break;case"SpotLight":n={position:new Za,direction:new Za,color:new Rs,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Za,color:new Rs,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Za,skyColor:new Rs,groundColor:new Rs};break;case"RectAreaLight":n={color:new Rs,position:new Za,halfWidth:new Za,halfHeight:new Za}}return t[e.id]=n,n}}}var Gc=0;function Wc(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Qc(t,e){for(var n=new Vc,i=function(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ga};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ga,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0},a=0;a<9;a++)r.probe.push(new Za);var o=new Za,s=new Wo,l=new Wo;return{setup:function(a,o){for(var s=0,l=0,u=0,c=0;c<9;c++)r.probe[c].set(0,0,0);var h=0,f=0,d=0,p=0,v=0,m=0,g=0,y=0,w=0,b=0;a.sort(Wc);for(var x=!0===o?Math.PI:1,A=0,_=a.length;A<_;A++){var k=a[A],S=k.color,M=k.intensity,E=k.distance,C=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)s+=S.r*M*x,l+=S.g*M*x,u+=S.b*M*x;else if(k.isLightProbe)for(var P=0;P<9;P++)r.probe[P].addScaledVector(k.sh.coefficients[P],M);else if(k.isDirectionalLight){var T=n.get(k);if(T.color.copy(k.color).multiplyScalar(k.intensity*x),k.castShadow){var L=k.shadow,O=i.get(k);O.shadowBias=L.bias,O.shadowNormalBias=L.normalBias,O.shadowRadius=L.radius,O.shadowMapSize=L.mapSize,r.directionalShadow[h]=O,r.directionalShadowMap[h]=C,r.directionalShadowMatrix[h]=k.shadow.matrix,m++}r.directional[h]=T,h++}else if(k.isSpotLight){var z=n.get(k);z.position.setFromMatrixPosition(k.matrixWorld),z.color.copy(S).multiplyScalar(M*x),z.distance=E,z.coneCos=Math.cos(k.angle),z.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),z.decay=k.decay,r.spot[d]=z;var R=k.shadow;if(k.map&&(r.spotLightMap[w]=k.map,w++,R.updateMatrices(k),k.castShadow&&b++),r.spotLightMatrix[d]=R.matrix,k.castShadow){var D=i.get(k);D.shadowBias=R.bias,D.shadowNormalBias=R.normalBias,D.shadowRadius=R.radius,D.shadowMapSize=R.mapSize,r.spotShadow[d]=D,r.spotShadowMap[d]=C,y++}d++}else if(k.isRectAreaLight){var I=n.get(k);I.color.copy(S).multiplyScalar(M),I.halfWidth.set(.5*k.width,0,0),I.halfHeight.set(0,.5*k.height,0),r.rectArea[p]=I,p++}else if(k.isPointLight){var B=n.get(k);if(B.color.copy(k.color).multiplyScalar(k.intensity*x),B.distance=k.distance,B.decay=k.decay,k.castShadow){var N=k.shadow,j=i.get(k);j.shadowBias=N.bias,j.shadowNormalBias=N.normalBias,j.shadowRadius=N.radius,j.shadowMapSize=N.mapSize,j.shadowCameraNear=N.camera.near,j.shadowCameraFar=N.camera.far,r.pointShadow[f]=j,r.pointShadowMap[f]=C,r.pointShadowMatrix[f]=k.shadow.matrix,g++}r.point[f]=B,f++}else if(k.isHemisphereLight){var F=n.get(k);F.skyColor.copy(k.color).multiplyScalar(M*x),F.groundColor.copy(k.groundColor).multiplyScalar(M*x),r.hemi[v]=F,v++}}p>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(r.rectAreaLTC1=Il.LTC_FLOAT_1,r.rectAreaLTC2=Il.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=Il.LTC_HALF_1,r.rectAreaLTC2=Il.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=s,r.ambient[1]=l,r.ambient[2]=u;var U=r.hash;U.directionalLength===h&&U.pointLength===f&&U.spotLength===d&&U.rectAreaLength===p&&U.hemiLength===v&&U.numDirectionalShadows===m&&U.numPointShadows===g&&U.numSpotShadows===y&&U.numSpotMaps===w||(r.directional.length=h,r.spot.length=d,r.rectArea.length=p,r.point.length=f,r.hemi.length=v,r.directionalShadow.length=m,r.directionalShadowMap.length=m,r.pointShadow.length=g,r.pointShadowMap.length=g,r.spotShadow.length=y,r.spotShadowMap.length=y,r.directionalShadowMatrix.length=m,r.pointShadowMatrix.length=g,r.spotLightMatrix.length=y+w-b,r.spotLightMap.length=w,r.numSpotLightShadowsWithMaps=b,U.directionalLength=h,U.pointLength=f,U.spotLength=d,U.rectAreaLength=p,U.hemiLength=v,U.numDirectionalShadows=m,U.numPointShadows=g,U.numSpotShadows=y,U.numSpotMaps=w,r.version=Gc++)},setupView:function(t,e){for(var n=0,i=0,a=0,u=0,c=0,h=e.matrixWorldInverse,f=0,d=t.length;f<d;f++){var p=t[f];if(p.isDirectionalLight){var v=r.directional[n];v.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(h),n++}else if(p.isSpotLight){var m=r.spot[a];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(h),m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(h),a++}else if(p.isRectAreaLight){var g=r.rectArea[u];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(h),l.identity(),s.copy(p.matrixWorld),s.premultiply(h),l.extractRotation(s),g.halfWidth.set(.5*p.width,0,0),g.halfHeight.set(0,.5*p.height,0),g.halfWidth.applyMatrix4(l),g.halfHeight.applyMatrix4(l),u++}else if(p.isPointLight){var y=r.point[i];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(h),i++}else if(p.isHemisphereLight){var w=r.hemi[c];w.direction.setFromMatrixPosition(p.matrixWorld),w.direction.transformDirection(h),c++}}},state:r}}function Xc(t,e){var n=new Qc(t,e),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(t){n.setup(i,t)},setupLightsView:function(t){n.setupView(i,t)},pushLight:function(t){i.push(t)},pushShadow:function(t){r.push(t)}}}function Yc(t,e){var n=new WeakMap;return{get:function(i){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.get(i);return void 0===o?(r=new Xc(t,e),n.set(i,[r])):a>=o.length?(r=new Xc(t,e),o.push(r)):r=o[a],r},dispose:function(){n=new WeakMap}}}var Jc=function(t){$n(n,t);var e=ei(n);function n(t){var i;return li(this,n),(i=e.call(this)).isMeshDepthMaterial=!0,i.type="MeshDepthMaterial",i.depthPacking=3200,i.map=null,i.alphaMap=null,i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.wireframe=!1,i.wireframeLinewidth=1,i.setValues(t),i}return ci(n,[{key:"copy",value:function(t){return Kn(ri(n.prototype),"copy",this).call(this,t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}]),n}(Ps),Zc=function(t){$n(n,t);var e=ei(n);function n(t){var i;return li(this,n),(i=e.call(this)).isMeshDistanceMaterial=!0,i.type="MeshDistanceMaterial",i.referencePosition=new Za,i.nearDistance=1,i.farDistance=1e3,i.map=null,i.alphaMap=null,i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.setValues(t),i}return ci(n,[{key:"copy",value:function(t){return Kn(ri(n.prototype),"copy",this).call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}]),n}(Ps),qc="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",Kc="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function $c(t,e,n){var i,r=new Ll,a=new Ga,o=new Ga,s=new po,l=new Jc({depthPacking:xa}),u=new Zc,c={},h=n.maxTextureSize,f=(ai(i={},wi,bi),ai(i,bi,wi),ai(i,xi,xi),i),d=new yl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ga},radius:{value:4}},vertexShader:qc,fragmentShader:Kc}),p=d.clone();p.defines.HORIZONTAL_PASS=1;var v=new Zs;v.setAttribute("position",new js(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var m=new hl(v,d),g=this;function y(n,i){var r=e.update(m);d.defines.VSM_SAMPLES!==n.blurSamples&&(d.defines.VSM_SAMPLES=n.blurSamples,p.defines.VSM_SAMPLES=n.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new vo(a.x,a.y)),d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(i,null,r,d,m,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(i,null,r,p,m,null)}function w(e,n,i,r,a,o){var s=null,h=!0===i.isPointLight?e.customDistanceMaterial:e.customDepthMaterial;if(void 0!==h)s=h;else if(s=!0===i.isPointLight?u:l,t.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){var d=s.uuid,p=n.uuid,v=c[d];void 0===v&&(v={},c[d]=v);var m=v[p];void 0===m&&(m=s.clone(),v[p]=m),s=m}return s.visible=n.visible,s.wireframe=n.wireframe,s.side=o===yi?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:f[n.side],s.alphaMap=n.alphaMap,s.alphaTest=n.alphaTest,s.map=n.map,s.clipShadows=n.clipShadows,s.clippingPlanes=n.clippingPlanes,s.clipIntersection=n.clipIntersection,s.displacementMap=n.displacementMap,s.displacementScale=n.displacementScale,s.displacementBias=n.displacementBias,s.wireframeLinewidth=n.wireframeLinewidth,s.linewidth=n.linewidth,!0===i.isPointLight&&!0===s.isMeshDistanceMaterial&&(s.referencePosition.setFromMatrixPosition(i.matrixWorld),s.nearDistance=r,s.farDistance=a),s}function b(n,i,a,o,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===yi)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=e.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,h=0,f=c.length;h<f;h++){var d=c[h],p=u[d.materialIndex];if(p&&p.visible){var v=w(n,p,o,a.near,a.far,s);t.renderBufferDirect(a,null,l,v,n,d)}}else if(u.visible){var m=w(n,u,o,a.near,a.far,s);t.renderBufferDirect(a,null,l,m,n,null)}}for(var g=n.children,y=0,x=g.length;y<x;y++)b(g[y],i,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=mi,this.render=function(e,n,i){if(!1!==g.enabled&&(!1!==g.autoUpdate||!1!==g.needsUpdate)&&0!==e.length){var l=t.getRenderTarget(),u=t.getActiveCubeFace(),c=t.getActiveMipmapLevel(),f=t.state;f.setBlending(Ai),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var d=0,p=e.length;d<p;d++){var v=e[d],m=v.shadow;if(void 0!==m){if(!1!==m.autoUpdate||!1!==m.needsUpdate){a.copy(m.mapSize);var w=m.getFrameExtents();if(a.multiply(w),o.copy(m.mapSize),(a.x>h||a.y>h)&&(a.x>h&&(o.x=Math.floor(h/w.x),a.x=o.x*w.x,m.mapSize.x=o.x),a.y>h&&(o.y=Math.floor(h/w.y),a.y=o.y*w.y,m.mapSize.y=o.y)),null===m.map){var x=this.type!==yi?{minFilter:vr,magFilter:vr}:{};m.map=new vo(a.x,a.y,x),m.map.texture.name=v.name+".shadowMap",m.camera.updateProjectionMatrix()}t.setRenderTarget(m.map),t.clear();for(var A=m.getViewportCount(),_=0;_<A;_++){var k=m.getViewport(_);s.set(o.x*k.x,o.y*k.y,o.x*k.z,o.y*k.w),f.viewport(s),m.updateMatrices(v,_),r=m.getFrustum(),b(n,i,m.camera,v,this.type)}!0!==m.isPointLightShadow&&this.type===yi&&y(m,i),m.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}g.needsUpdate=!1,t.setRenderTarget(l,u,c)}}}function th(t,e,n){var i,r,a=n.isWebGL2;var o=new function(){var e=!1,n=new po,i=null,r=new po(0,0,0,0);return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,a,o,s){!0===s&&(e*=o,i*=o,a*=o),n.set(e,i,a,o),!1===r.equals(n)&&(t.clearColor(e,i,a,o),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}},s=new function(){var e=!1,n=null,i=null,r=null;return{setTest:function(t){t?H(2929):V(2929)},setMask:function(i){n===i||e||(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){switch(e){case Gi:t.depthFunc(512);break;case Wi:t.depthFunc(519);break;case Qi:t.depthFunc(513);break;case Xi:t.depthFunc(515);break;case Yi:t.depthFunc(514);break;case Ji:t.depthFunc(518);break;case Zi:t.depthFunc(516);break;case qi:t.depthFunc(517);break;default:t.depthFunc(515)}i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}},l=new function(){var e=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(t){e||(t?H(2960):V(2960))},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,o){i===e&&r===n&&a===o||(t.stencilFunc(e,n,o),i=e,r=n,a=o)},setOp:function(e,n,i){o===e&&s===n&&l===i||(t.stencilOp(e,n,i),o=e,s=n,l=i)},setLocked:function(t){e=t},setClear:function(e){u!==e&&(t.clearStencil(e),u=e)},reset:function(){e=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,u=null}}},u=new WeakMap,c=new WeakMap,h={},f={},d=new WeakMap,p=[],v=null,m=!1,g=null,y=null,w=null,b=null,x=null,A=null,_=null,k=!1,S=null,M=null,E=null,C=null,P=null,T=t.getParameter(35661),L=!1,O=0,z=t.getParameter(7938);-1!==z.indexOf("WebGL")?(O=parseFloat(/^WebGL (\d)/.exec(z)[1]),L=O>=1):-1!==z.indexOf("OpenGL ES")&&(O=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),L=O>=2);var R=null,D={},I=t.getParameter(3088),B=t.getParameter(2978),N=(new po).fromArray(I),j=(new po).fromArray(B);function F(e,n,i){var r=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var o=0;o<i;o++)t.texImage2D(n+o,0,6408,1,1,0,6408,5121,r);return a}var U={};function H(e){!0!==h[e]&&(t.enable(e),h[e]=!0)}function V(e){!1!==h[e]&&(t.disable(e),h[e]=!1)}U[3553]=F(3553,3553,1),U[34067]=F(34067,34069,6),o.setClear(0,0,0,1),s.setClear(1),l.setClear(0),H(2929),s.setFunc(Xi),Y(!1),J(pi),H(2884),X(Ai);var G=(ai(i={},Ci,32774),ai(i,Pi,32778),ai(i,Ti,32779),i);if(a)G[Li]=32775,G[Oi]=32776;else{var W=e.get("EXT_blend_minmax");null!==W&&(G[Li]=W.MIN_EXT,G[Oi]=W.MAX_EXT)}var Q=(ai(r={},zi,0),ai(r,Ri,1),ai(r,Di,768),ai(r,Bi,770),ai(r,Vi,776),ai(r,Ui,774),ai(r,ji,772),ai(r,Ii,769),ai(r,Ni,771),ai(r,Hi,775),ai(r,Fi,773),r);function X(e,n,i,r,a,o,s,l){if(e!==Ai){if(!1===m&&(H(3042),m=!0),e===Ei)a=a||n,o=o||i,s=s||r,n===y&&a===x||(t.blendEquationSeparate(G[n],G[a]),y=n,x=a),i===w&&r===b&&o===A&&s===_||(t.blendFuncSeparate(Q[i],Q[r],Q[o],Q[s]),w=i,b=r,A=o,_=s),g=e,k=!1;else if(e!==g||l!==k){if(y===Ci&&x===Ci||(t.blendEquation(32774),y=Ci,x=Ci),l)switch(e){case _i:t.blendFuncSeparate(1,771,1,771);break;case ki:t.blendFunc(1,1);break;case Si:t.blendFuncSeparate(0,769,0,1);break;case Mi:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case _i:t.blendFuncSeparate(770,771,1,771);break;case ki:t.blendFunc(770,1);break;case Si:t.blendFuncSeparate(0,769,0,1);break;case Mi:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}w=null,b=null,A=null,_=null,g=e,k=l}}else!0===m&&(V(3042),m=!1)}function Y(e){S!==e&&(e?t.frontFace(2304):t.frontFace(2305),S=e)}function J(e){e!==di?(H(2884),e!==M&&(e===pi?t.cullFace(1029):e===vi?t.cullFace(1028):t.cullFace(1032))):V(2884),M=e}function Z(e,n,i){e?(H(32823),C===n&&P===i||(t.polygonOffset(n,i),C=n,P=i)):V(32823)}return{buffers:{color:o,depth:s,stencil:l},enable:H,disable:V,bindFramebuffer:function(e,n){return f[e]!==n&&(t.bindFramebuffer(e,n),f[e]=n,a&&(36009===e&&(f[36160]=n),36160===e&&(f[36009]=n)),!0)},drawBuffers:function(i,r){var a=p,o=!1;if(i)if(void 0===(a=d.get(r))&&(a=[],d.set(r,a)),i.isWebGLMultipleRenderTargets){var s=i.texture;if(a.length!==s.length||36064!==a[0]){for(var l=0,u=s.length;l<u;l++)a[l]=36064+l;a.length=s.length,o=!0}}else 36064!==a[0]&&(a[0]=36064,o=!0);else 1029!==a[0]&&(a[0]=1029,o=!0);o&&(n.isWebGL2?t.drawBuffers(a):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(e){return v!==e&&(t.useProgram(e),v=e,!0)},setBlending:X,setMaterial:function(t,e){t.side===xi?V(2884):H(2884);var n=t.side===bi;e&&(n=!n),Y(n),t.blending===_i&&!1===t.transparent?X(Ai):X(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),s.setFunc(t.depthFunc),s.setTest(t.depthTest),s.setMask(t.depthWrite),o.setMask(t.colorWrite);var i=t.stencilWrite;l.setTest(i),i&&(l.setMask(t.stencilWriteMask),l.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),l.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Z(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?H(32926):V(32926)},setFlipSided:Y,setCullFace:J,setLineWidth:function(e){e!==E&&(L&&t.lineWidth(e),E=e)},setPolygonOffset:Z,setScissorTest:function(t){t?H(3089):V(3089)},activeTexture:function(e){void 0===e&&(e=33984+T-1),R!==e&&(t.activeTexture(e),R=e)},bindTexture:function(e,n,i){void 0===i&&(i=null===R?33984+T-1:R);var r=D[i];void 0===r&&(r={type:void 0,texture:void 0},D[i]=r),r.type===e&&r.texture===n||(R!==i&&(t.activeTexture(i),R=i),t.bindTexture(e,n||U[e]),r.type=e,r.texture=n)},unbindTexture:function(){var e=D[R];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexImage3D:function(){try{t.compressedTexImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},updateUBOMapping:function(e,n){var i=c.get(n);void 0===i&&(i=new WeakMap,c.set(n,i));var r=i.get(e);void 0===r&&(r=t.getUniformBlockIndex(n,e.name),i.set(e,r))},uniformBlockBinding:function(e,n){var i=c.get(n).get(e);u.get(n)!==i&&(t.uniformBlockBinding(n,i,e.__bindingPointIndex),u.set(n,i))},texStorage2D:function(){try{t.texStorage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{t.texStorage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{t.texSubImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{t.texSubImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage3D:function(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(e){!1===N.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),N.copy(e))},viewport:function(e){!1===j.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),j.copy(e))},reset:function(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),!0===a&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),h={},R=null,D={},f={},d=new WeakMap,p=[],v=null,m=!1,g=null,y=null,w=null,b=null,x=null,A=null,_=null,k=!1,S=null,M=null,E=null,C=null,P=null,N.set(0,0,t.canvas.width,t.canvas.height),j.set(0,0,t.canvas.width,t.canvas.height),o.reset(),s.reset(),l.reset()}}}function eh(t,e,n,i,r,a,o){var s,l,u,c=r.isWebGL2,h=r.maxTextures,f=r.maxCubemapSize,d=r.maxTextureSize,p=r.maxSamples,v=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap,y=new WeakMap,w=!1;try{w="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(G){}function b(t,e){return w?new OffscreenCanvas(t,e):Ya("canvas")}function x(t,e,n,i){var r=1;if((t.width>i||t.height>i)&&(r=i/Math.max(t.width,t.height)),r<1||!0===e){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap){var a=e?Fa:Math.floor,o=a(r*t.width),s=a(r*t.height);void 0===u&&(u=b(o,s));var l=n?b(o,s):u;return l.width=o,l.height=s,l.getContext("2d").drawImage(t,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+s+")."),l}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function A(t){return ja(t.width)&&ja(t.height)}function _(t,e){return t.generateMipmaps&&e&&t.minFilter!==vr&&t.minFilter!==yr}function k(e){t.generateMipmap(e)}function S(n,i,r,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===c)return i;if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=i;return 6403===i&&(5126===r&&(s=33326),5131===r&&(s=33325),5121===r&&(s=33321)),33319===i&&(5126===r&&(s=33328),5131===r&&(s=33327),5121===r&&(s=33323)),6408===i&&(5126===r&&(s=34836),5131===r&&(s=34842),5121===r&&(s=a===ba&&!1===o?35907:32856),32819===r&&(s=32854),32820===r&&(s=32855)),33325!==s&&33326!==s&&33327!==s&&33328!==s&&34842!==s&&34836!==s||e.get("EXT_color_buffer_float"),s}function M(t,e,n){return!0===_(t,n)||t.isFramebufferTexture&&t.minFilter!==vr&&t.minFilter!==yr?Math.log2(Math.max(e.width,e.height))+1:void 0!==t.mipmaps&&t.mipmaps.length>0?t.mipmaps.length:t.isCompressedTexture&&Array.isArray(t.image)?e.mipmaps.length:1}function E(t){return t===vr||t===mr||t===gr?9728:9729}function C(t){var e=t.target;e.removeEventListener("dispose",C),function(t){var e=i.get(t);if(void 0===e.__webglInit)return;var n=t.source,r=y.get(n);if(r){var a=r[e.__cacheKey];a.usedTimes--,0===a.usedTimes&&T(t),0===Object.keys(r).length&&y.delete(n)}i.remove(t)}(e),e.isVideoTexture&&g.delete(e)}function P(e){var n=e.target;n.removeEventListener("dispose",P),function(e){var n=e.texture,r=i.get(e),a=i.get(n);void 0!==a.__webglTexture&&(t.deleteTexture(a.__webglTexture),o.memory.textures--);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)t.deleteFramebuffer(r.__webglFramebuffer[s]),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer[s]);else{if(t.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&t.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer)for(var l=0;l<r.__webglColorRenderbuffer.length;l++)r.__webglColorRenderbuffer[l]&&t.deleteRenderbuffer(r.__webglColorRenderbuffer[l]);r.__webglDepthRenderbuffer&&t.deleteRenderbuffer(r.__webglDepthRenderbuffer)}if(e.isWebGLMultipleRenderTargets)for(var u=0,c=n.length;u<c;u++){var h=i.get(n[u]);h.__webglTexture&&(t.deleteTexture(h.__webglTexture),o.memory.textures--),i.remove(n[u])}i.remove(n),i.remove(e)}(n)}function T(e){var n=i.get(e);t.deleteTexture(n.__webglTexture);var r=e.source;delete y.get(r)[n.__cacheKey],o.memory.textures--}var L=0;function O(t,e){var r=i.get(t);if(t.isVideoTexture&&function(t){var e=o.render.frame;g.get(t)!==e&&(g.set(t,e),t.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&r.__version!==t.version){var a=t.image;if(null===a)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==a.complete)return void B(r,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(3553,r.__webglTexture,33984+e)}var z=(ai(s={},fr,10497),ai(s,dr,33071),ai(s,pr,33648),s),R=(ai(l={},vr,9728),ai(l,mr,9984),ai(l,gr,9986),ai(l,yr,9729),ai(l,wr,9985),ai(l,br,9987),l);function D(n,a,o){if(o?(t.texParameteri(n,10242,z[a.wrapS]),t.texParameteri(n,10243,z[a.wrapT]),32879!==n&&35866!==n||t.texParameteri(n,32882,z[a.wrapR]),t.texParameteri(n,10240,R[a.magFilter]),t.texParameteri(n,10241,R[a.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),a.wrapS===dr&&a.wrapT===dr||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,E(a.magFilter)),t.texParameteri(n,10241,E(a.minFilter)),a.minFilter!==vr&&a.minFilter!==yr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){var s=e.get("EXT_texture_filter_anisotropic");if(a.magFilter===vr)return;if(a.minFilter!==gr&&a.minFilter!==br)return;if(a.type===Er&&!1===e.has("OES_texture_float_linear"))return;if(!1===c&&a.type===Cr&&!1===e.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||i.get(a).__currentAnisotropy)&&(t.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy)}}function I(e,n){var i=!1;void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",C));var r=n.source,a=y.get(r);void 0===a&&(a={},y.set(r,a));var s=function(t){var e=[];return e.push(t.wrapS),e.push(t.wrapT),e.push(t.wrapR||0),e.push(t.magFilter),e.push(t.minFilter),e.push(t.anisotropy),e.push(t.internalFormat),e.push(t.format),e.push(t.type),e.push(t.generateMipmaps),e.push(t.premultiplyAlpha),e.push(t.flipY),e.push(t.unpackAlignment),e.push(t.encoding),e.join()}(n);if(s!==e.__cacheKey){void 0===a[s]&&(a[s]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,i=!0),a[s].usedTimes++;var l=a[e.__cacheKey];void 0!==l&&(a[e.__cacheKey].usedTimes--,0===l.usedTimes&&T(n)),e.__cacheKey=s,e.__webglTexture=a[s].texture}return i}function B(e,r,o){var s=3553;(r.isDataArrayTexture||r.isCompressedArrayTexture)&&(s=35866),r.isData3DTexture&&(s=32879);var l=I(e,r),u=r.source;n.bindTexture(s,e.__webglTexture,33984+o);var h=i.get(u);if(u.version!==h.__version||!0===l){n.activeTexture(33984+o),t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment),t.pixelStorei(37443,0);var f,p=function(t){return!c&&(t.wrapS!==dr||t.wrapT!==dr||t.minFilter!==vr&&t.minFilter!==yr)}(r)&&!1===A(r.image),v=x(r.image,p,!1,d),m=A(v=V(r,v))||c,g=a.convert(r.format,r.encoding),y=a.convert(r.type),w=S(r.internalFormat,g,y,r.encoding,r.isVideoTexture);D(s,r,m);var b=r.mipmaps,E=c&&!0!==r.isVideoTexture,C=void 0===h.__version||!0===l,P=M(r,v,m);if(r.isDepthTexture)w=6402,c?w=r.type===Er?36012:r.type===Mr?33190:r.type===Lr?35056:33189:r.type===Er&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===Ir&&6402===w&&r.type!==kr&&r.type!==Mr&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Mr,y=a.convert(r.type)),r.format===Br&&6402===w&&(w=34041,r.type!==Lr&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Lr,y=a.convert(r.type))),C&&(E?n.texStorage2D(3553,1,w,v.width,v.height):n.texImage2D(3553,0,w,v.width,v.height,0,g,y,null));else if(r.isDataTexture)if(b.length>0&&m){E&&C&&n.texStorage2D(3553,P,w,b[0].width,b[0].height);for(var T=0,L=b.length;T<L;T++)f=b[T],E?n.texSubImage2D(3553,T,0,0,f.width,f.height,g,y,f.data):n.texImage2D(3553,T,w,f.width,f.height,0,g,y,f.data);r.generateMipmaps=!1}else E?(C&&n.texStorage2D(3553,P,w,v.width,v.height),n.texSubImage2D(3553,0,0,0,v.width,v.height,g,y,v.data)):n.texImage2D(3553,0,w,v.width,v.height,0,g,y,v.data);else if(r.isCompressedTexture)if(r.isCompressedArrayTexture){E&&C&&n.texStorage3D(35866,P,w,b[0].width,b[0].height,v.depth);for(var O=0,z=b.length;O<z;O++)f=b[O],r.format!==zr?null!==g?E?n.compressedTexSubImage3D(35866,O,0,0,0,f.width,f.height,v.depth,g,f.data,0,0):n.compressedTexImage3D(35866,O,w,f.width,f.height,v.depth,0,f.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):E?n.texSubImage3D(35866,O,0,0,0,f.width,f.height,v.depth,g,y,f.data):n.texImage3D(35866,O,w,f.width,f.height,v.depth,0,g,y,f.data)}else{E&&C&&n.texStorage2D(3553,P,w,b[0].width,b[0].height);for(var R=0,B=b.length;R<B;R++)f=b[R],r.format!==zr?null!==g?E?n.compressedTexSubImage2D(3553,R,0,0,f.width,f.height,g,f.data):n.compressedTexImage2D(3553,R,w,f.width,f.height,0,f.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):E?n.texSubImage2D(3553,R,0,0,f.width,f.height,g,y,f.data):n.texImage2D(3553,R,w,f.width,f.height,0,g,y,f.data)}else if(r.isDataArrayTexture)E?(C&&n.texStorage3D(35866,P,w,v.width,v.height,v.depth),n.texSubImage3D(35866,0,0,0,0,v.width,v.height,v.depth,g,y,v.data)):n.texImage3D(35866,0,w,v.width,v.height,v.depth,0,g,y,v.data);else if(r.isData3DTexture)E?(C&&n.texStorage3D(32879,P,w,v.width,v.height,v.depth),n.texSubImage3D(32879,0,0,0,0,v.width,v.height,v.depth,g,y,v.data)):n.texImage3D(32879,0,w,v.width,v.height,v.depth,0,g,y,v.data);else if(r.isFramebufferTexture){if(C)if(E)n.texStorage2D(3553,P,w,v.width,v.height);else for(var N=v.width,j=v.height,F=0;F<P;F++)n.texImage2D(3553,F,w,N,j,0,g,y,null),N>>=1,j>>=1}else if(b.length>0&&m){E&&C&&n.texStorage2D(3553,P,w,b[0].width,b[0].height);for(var U=0,H=b.length;U<H;U++)f=b[U],E?n.texSubImage2D(3553,U,0,0,g,y,f):n.texImage2D(3553,U,w,g,y,f);r.generateMipmaps=!1}else E?(C&&n.texStorage2D(3553,P,w,v.width,v.height),n.texSubImage2D(3553,0,0,0,g,y,v)):n.texImage2D(3553,0,w,g,y,v);_(r,m)&&k(s),h.__version=u.version,r.onUpdate&&r.onUpdate(r)}e.__version=r.version}function N(e,r,o,s,l){var u=a.convert(o.format,o.encoding),c=a.convert(o.type),h=S(o.internalFormat,u,c,o.encoding);i.get(r).__hasExternalTextures||(32879===l||35866===l?n.texImage3D(l,0,h,r.width,r.height,r.depth,0,u,c,null):n.texImage2D(l,0,h,r.width,r.height,0,u,c,null)),n.bindFramebuffer(36160,e),H(r)?v.framebufferTexture2DMultisampleEXT(36160,s,l,i.get(o).__webglTexture,0,U(r)):(3553===l||l>=34069&&l<=34074)&&t.framebufferTexture2D(36160,s,l,i.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function j(e,n,i){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){var r=33189;if(i||H(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===Er?r=36012:o.type===Mr&&(r=33190));var s=U(n);H(n)?v.renderbufferStorageMultisampleEXT(36161,s,r,n.width,n.height):t.renderbufferStorageMultisample(36161,s,r,n.width,n.height)}else t.renderbufferStorage(36161,r,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){var l=U(n);i&&!1===H(n)?t.renderbufferStorageMultisample(36161,l,35056,n.width,n.height):H(n)?v.renderbufferStorageMultisampleEXT(36161,l,35056,n.width,n.height):t.renderbufferStorage(36161,34041,n.width,n.height),t.framebufferRenderbuffer(36160,33306,36161,e)}else for(var u=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],c=0;c<u.length;c++){var h=u[c],f=a.convert(h.format,h.encoding),d=a.convert(h.type),p=S(h.internalFormat,f,d,h.encoding),m=U(n);i&&!1===H(n)?t.renderbufferStorageMultisample(36161,m,p,n.width,n.height):H(n)?v.renderbufferStorageMultisampleEXT(36161,m,p,n.width,n.height):t.renderbufferStorage(36161,p,n.width,n.height)}t.bindRenderbuffer(36161,null)}function F(e){var r=i.get(e),a=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture&&!r.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,r){if(r&&r.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,e),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),O(r.depthTexture,0);var a=i.get(r.depthTexture).__webglTexture,o=U(r);if(r.depthTexture.format===Ir)H(r)?v.framebufferTexture2DMultisampleEXT(36160,36096,3553,a,0,o):t.framebufferTexture2D(36160,36096,3553,a,0);else{if(r.depthTexture.format!==Br)throw new Error("Unknown depthTexture format");H(r)?v.framebufferTexture2DMultisampleEXT(36160,33306,3553,a,0,o):t.framebufferTexture2D(36160,33306,3553,a,0)}}(r.__webglFramebuffer,e)}else if(a){r.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(36160,r.__webglFramebuffer[o]),r.__webglDepthbuffer[o]=t.createRenderbuffer(),j(r.__webglDepthbuffer[o],e,!1)}else n.bindFramebuffer(36160,r.__webglFramebuffer),r.__webglDepthbuffer=t.createRenderbuffer(),j(r.__webglDepthbuffer,e,!1);n.bindFramebuffer(36160,null)}function U(t){return Math.min(p,t.samples)}function H(t){var n=i.get(t);return c&&t.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function V(t,n){var i=t.encoding,r=t.format,a=t.type;return!0===t.isCompressedTexture||!0===t.isVideoTexture||t.format===Pa||i!==wa&&(i===ba?!1===c?!0===e.has("EXT_sRGB")&&r===zr?(t.format=Pa,t.minFilter=yr,t.generateMipmaps=!1):n=lo.sRGBToLinear(n):r===zr&&a===xr||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",i)),n}this.allocateTextureUnit=function(){var t=L;return t>=h&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+h),L+=1,t},this.resetTextureUnits=function(){L=0},this.setTexture2D=O,this.setTexture2DArray=function(t,e){var r=i.get(t);t.version>0&&r.__version!==t.version?B(r,t,e):n.bindTexture(35866,r.__webglTexture,33984+e)},this.setTexture3D=function(t,e){var r=i.get(t);t.version>0&&r.__version!==t.version?B(r,t,e):n.bindTexture(32879,r.__webglTexture,33984+e)},this.setTextureCube=function(e,r){var o=i.get(e);e.version>0&&o.__version!==e.version?function(e,r,o){if(6!==r.image.length)return;var s=I(e,r),l=r.source;n.bindTexture(34067,e.__webglTexture,33984+o);var u=i.get(l);if(l.version!==u.__version||!0===s){n.activeTexture(33984+o),t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment),t.pixelStorei(37443,0);for(var h=r.isCompressedTexture||r.image[0].isCompressedTexture,d=r.image[0]&&r.image[0].isDataTexture,p=[],v=0;v<6;v++)p[v]=h||d?d?r.image[v].image:r.image[v]:x(r.image[v],!1,!0,f),p[v]=V(r,p[v]);var m,g=p[0],y=A(g)||c,w=a.convert(r.format,r.encoding),b=a.convert(r.type),E=S(r.internalFormat,w,b,r.encoding),C=c&&!0!==r.isVideoTexture,P=void 0===u.__version||!0===s,T=M(r,g,y);if(D(34067,r,y),h){C&&P&&n.texStorage2D(34067,T,E,g.width,g.height);for(var L=0;L<6;L++){m=p[L].mipmaps;for(var O=0;O<m.length;O++){var z=m[O];r.format!==zr?null!==w?C?n.compressedTexSubImage2D(34069+L,O,0,0,z.width,z.height,w,z.data):n.compressedTexImage2D(34069+L,O,E,z.width,z.height,0,z.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):C?n.texSubImage2D(34069+L,O,0,0,z.width,z.height,w,b,z.data):n.texImage2D(34069+L,O,E,z.width,z.height,0,w,b,z.data)}}}else{m=r.mipmaps,C&&P&&(m.length>0&&T++,n.texStorage2D(34067,T,E,p[0].width,p[0].height));for(var R=0;R<6;R++)if(d){C?n.texSubImage2D(34069+R,0,0,0,p[R].width,p[R].height,w,b,p[R].data):n.texImage2D(34069+R,0,E,p[R].width,p[R].height,0,w,b,p[R].data);for(var B=0;B<m.length;B++){var N=m[B].image[R].image;C?n.texSubImage2D(34069+R,B+1,0,0,N.width,N.height,w,b,N.data):n.texImage2D(34069+R,B+1,E,N.width,N.height,0,w,b,N.data)}}else{C?n.texSubImage2D(34069+R,0,0,0,w,b,p[R]):n.texImage2D(34069+R,0,E,w,b,p[R]);for(var j=0;j<m.length;j++){var F=m[j];C?n.texSubImage2D(34069+R,j+1,0,0,w,b,F.image[R]):n.texImage2D(34069+R,j+1,E,w,b,F.image[R])}}}_(r,y)&&k(34067),u.__version=l.version,r.onUpdate&&r.onUpdate(r)}e.__version=r.version}(o,e,r):n.bindTexture(34067,o.__webglTexture,33984+r)},this.rebindTextures=function(t,e,n){var r=i.get(t);void 0!==e&&N(r.__webglFramebuffer,t,t.texture,36064,3553),void 0!==n&&F(t)},this.setupRenderTarget=function(e){var s=e.texture,l=i.get(e),u=i.get(s);e.addEventListener("dispose",P),!0!==e.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=t.createTexture()),u.__version=s.version,o.memory.textures++);var h=!0===e.isWebGLCubeRenderTarget,f=!0===e.isWebGLMultipleRenderTargets,d=A(e)||c;if(h){l.__webglFramebuffer=[];for(var p=0;p<6;p++)l.__webglFramebuffer[p]=t.createFramebuffer()}else{if(l.__webglFramebuffer=t.createFramebuffer(),f)if(r.drawBuffers)for(var v=e.texture,m=0,g=v.length;m<g;m++){var y=i.get(v[m]);void 0===y.__webglTexture&&(y.__webglTexture=t.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(c&&e.samples>0&&!1===H(e)){var w=f?s:[s];l.__webglMultisampledFramebuffer=t.createFramebuffer(),l.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,l.__webglMultisampledFramebuffer);for(var b=0;b<w.length;b++){var x=w[b];l.__webglColorRenderbuffer[b]=t.createRenderbuffer(),t.bindRenderbuffer(36161,l.__webglColorRenderbuffer[b]);var M=a.convert(x.format,x.encoding),E=a.convert(x.type),C=S(x.internalFormat,M,E,x.encoding,!0===e.isXRRenderTarget),T=U(e);t.renderbufferStorageMultisample(36161,T,C,e.width,e.height),t.framebufferRenderbuffer(36160,36064+b,36161,l.__webglColorRenderbuffer[b])}t.bindRenderbuffer(36161,null),e.depthBuffer&&(l.__webglDepthRenderbuffer=t.createRenderbuffer(),j(l.__webglDepthRenderbuffer,e,!0)),n.bindFramebuffer(36160,null)}}if(h){n.bindTexture(34067,u.__webglTexture),D(34067,s,d);for(var L=0;L<6;L++)N(l.__webglFramebuffer[L],e,s,36064,34069+L);_(s,d)&&k(34067),n.unbindTexture()}else if(f){for(var O=e.texture,z=0,R=O.length;z<R;z++){var I=O[z],B=i.get(I);n.bindTexture(3553,B.__webglTexture),D(3553,I,d),N(l.__webglFramebuffer,e,I,36064+z,3553),_(I,d)&&k(3553)}n.unbindTexture()}else{var V=3553;(e.isWebGL3DRenderTarget||e.isWebGLArrayRenderTarget)&&(c?V=e.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(V,u.__webglTexture),D(V,s,d),N(l.__webglFramebuffer,e,s,36064,V),_(s,d)&&k(V),n.unbindTexture()}e.depthBuffer&&F(e)},this.updateRenderTargetMipmap=function(t){for(var e=A(t)||c,r=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=0,o=r.length;a<o;a++){var s=r[a];if(_(s,e)){var l=t.isWebGLCubeRenderTarget?34067:3553,u=i.get(s).__webglTexture;n.bindTexture(l,u),k(l),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(e){if(c&&e.samples>0&&!1===H(e)){var r=e.isWebGLMultipleRenderTargets?e.texture:[e.texture],a=e.width,o=e.height,s=16384,l=[],u=e.stencilBuffer?33306:36096,h=i.get(e),f=!0===e.isWebGLMultipleRenderTargets;if(f)for(var d=0;d<r.length;d++)n.bindFramebuffer(36160,h.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+d,36161,null),n.bindFramebuffer(36160,h.__webglFramebuffer),t.framebufferTexture2D(36009,36064+d,3553,null,0);n.bindFramebuffer(36008,h.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,h.__webglFramebuffer);for(var p=0;p<r.length;p++){l.push(36064+p),e.depthBuffer&&l.push(u);var v=void 0!==h.__ignoreDepthValues&&h.__ignoreDepthValues;if(!1===v&&(e.depthBuffer&&(s|=256),e.stencilBuffer&&(s|=1024)),f&&t.framebufferRenderbuffer(36008,36064,36161,h.__webglColorRenderbuffer[p]),!0===v&&(t.invalidateFramebuffer(36008,[u]),t.invalidateFramebuffer(36009,[u])),f){var g=i.get(r[p]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,g,0)}t.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728),m&&t.invalidateFramebuffer(36008,l)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),f)for(var y=0;y<r.length;y++){n.bindFramebuffer(36160,h.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+y,36161,h.__webglColorRenderbuffer[y]);var w=i.get(r[y]).__webglTexture;n.bindFramebuffer(36160,h.__webglFramebuffer),t.framebufferTexture2D(36009,36064+y,3553,w,0)}n.bindFramebuffer(36009,h.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=F,this.setupFrameBufferTexture=N,this.useMultisampledRTT=H}function nh(t,e,n){var i=n.isWebGL2;return{convert:function(n){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n===xr)return 5121;if(n===Pr)return 32819;if(n===Tr)return 32820;if(n===Ar)return 5120;if(n===_r)return 5122;if(n===kr)return 5123;if(n===Sr)return 5124;if(n===Mr)return 5125;if(n===Er)return 5126;if(n===Cr)return i?5131:null!==(r=e.get("OES_texture_half_float"))?r.HALF_FLOAT_OES:null;if(n===Or)return 6406;if(n===zr)return 6408;if(n===Rr)return 6409;if(n===Dr)return 6410;if(n===Ir)return 6402;if(n===Br)return 34041;if(n===Pa)return null!==(r=e.get("EXT_sRGB"))?r.SRGB_ALPHA_EXT:null;if(n===Nr)return 6403;if(n===jr)return 36244;if(n===Fr)return 33319;if(n===Ur)return 33320;if(n===Hr)return 36249;if(n===Vr||n===Gr||n===Wr||n===Qr)if(a===ba){if(null===(r=e.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===Vr)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Gr)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Wr)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Qr)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(r=e.get("WEBGL_compressed_texture_s3tc")))return null;if(n===Vr)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Gr)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Wr)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Qr)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Xr||n===Yr||n===Jr||n===Zr){if(null===(r=e.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===Xr)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Yr)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Jr)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Zr)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===qr)return null!==(r=e.get("WEBGL_compressed_texture_etc1"))?r.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===Kr||n===$r){if(null===(r=e.get("WEBGL_compressed_texture_etc")))return null;if(n===Kr)return a===ba?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(n===$r)return a===ba?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}if(n===ta||n===ea||n===na||n===ia||n===ra||n===aa||n===oa||n===sa||n===la||n===ua||n===ca||n===ha||n===fa||n===da){if(null===(r=e.get("WEBGL_compressed_texture_astc")))return null;if(n===ta)return a===ba?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===ea)return a===ba?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===na)return a===ba?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===ia)return a===ba?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===ra)return a===ba?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===aa)return a===ba?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===oa)return a===ba?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===sa)return a===ba?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===la)return a===ba?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===ua)return a===ba?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===ca)return a===ba?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===ha)return a===ba?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===fa)return a===ba?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===da)return a===ba?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===pa){if(null===(r=e.get("EXT_texture_compression_bptc")))return null;if(n===pa)return a===ba?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(n===va||n===ma||n===ga||n===ya){if(null===(r=e.get("EXT_texture_compression_rgtc")))return null;if(n===pa)return r.COMPRESSED_RED_RGTC1_EXT;if(n===ma)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===ga)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===ya)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===Lr?i?34042:null!==(r=e.get("WEBGL_depth_texture"))?r.UNSIGNED_INT_24_8_WEBGL:null:void 0!==t[n]?t[n]:null}}}var ih=function(t){$n(n,t);var e=ei(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return li(this,n),(t=e.call(this)).isArrayCamera=!0,t.cameras=i,t}return ci(n)}(bl),rh=function(t){$n(n,t);var e=ei(n);function n(){var t;return li(this,n),(t=e.call(this)).isGroup=!0,t.type="Group",t}return ci(n)}(ms),ah={type:"move"},oh=function(){function t(){li(this,t),this._targetRay=null,this._grip=null,this._hand=null}return ci(t,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new rh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new rh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Za,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Za),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new rh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Za,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Za),this._grip}},{key:"dispatchEvent",value:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}},{key:"connect",value:function(t){if(t&&t.hand){var e=this._hand;if(e){var n,i=Yn(t.hand.values());try{for(i.s();!(n=i.n()).done;){var r=n.value;this._getHandJoint(e,r)}}catch(a){i.e(a)}finally{i.f()}}}return this.dispatchEvent({type:"connected",data:t}),this}},{key:"disconnect",value:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(t,e,n){var i=null,r=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState){if(l&&t.hand){a=!0;var u,c=Yn(t.hand.values());try{for(c.s();!(u=c.n()).done;){var h=u.value,f=e.getJointPose(h,n),d=this._getHandJoint(l,h);null!==f&&(d.matrix.fromArray(f.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.jointRadius=f.radius),d.visible=null!==f}}catch(g){c.e(g)}finally{c.f()}var p=l.joints["index-finger-tip"],v=l.joints["thumb-tip"],m=p.position.distanceTo(v.position);l.inputState.pinching&&m>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&m<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==s&&t.gripSpace&&null!==(r=e.getPose(t.gripSpace,n))&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1);null!==o&&(null===(i=e.getPose(t.targetRaySpace,n))&&null!==r&&(i=r),null!==i&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(ah)))}return null!==o&&(o.visible=null!==i),null!==s&&(s.visible=null!==r),null!==l&&(l.visible=null!==a),this}},{key:"_getHandJoint",value:function(t,e){if(void 0===t.joints[e.jointName]){var n=new rh;n.matrixAutoUpdate=!1,n.visible=!1,t.joints[e.jointName]=n,t.add(n)}return t.joints[e.jointName]}}]),t}(),sh=function(t){$n(n,t);var e=ei(n);function n(t,i,r,a,o,s,l,u,c,h){var f;if(li(this,n),(h=void 0!==h?h:Ir)!==Ir&&h!==Br)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===r&&h===Ir&&(r=Mr),void 0===r&&h===Br&&(r=Lr),(f=e.call(this,null,a,o,s,l,u,h,r,c)).isDepthTexture=!0,f.image={width:t,height:i},f.magFilter=void 0!==l?l:vr,f.minFilter=void 0!==u?u:vr,f.flipY=!1,f.generateMipmaps=!1,f}return ci(n)}(fo),lh=function(t){$n(n,t);var e=ei(n);function n(t,i){var r;li(this,n);var a=ni(r=e.call(this)),o=null,s=1,l=null,u="local-floor",c=1,h=null,f=null,d=null,p=null,v=null,m=null,g=i.getContextAttributes(),y=null,w=null,b=[],x=[],A=new Set,_=new Map,k=new bl;k.layers.enable(1),k.viewport=new po;var S=new bl;S.layers.enable(2),S.viewport=new po;var M=[k,S],E=new ih;E.layers.enable(1),E.layers.enable(2);var C=null,P=null;function T(t){var e=x.indexOf(t.inputSource);if(-1!==e){var n=b[e];void 0!==n&&n.dispatchEvent({type:t.type,data:t.inputSource})}}function L(){o.removeEventListener("select",T),o.removeEventListener("selectstart",T),o.removeEventListener("selectend",T),o.removeEventListener("squeeze",T),o.removeEventListener("squeezestart",T),o.removeEventListener("squeezeend",T),o.removeEventListener("end",L),o.removeEventListener("inputsourceschange",O);for(var e=0;e<b.length;e++){var n=x[e];null!==n&&(x[e]=null,b[e].disconnect(n))}C=null,P=null,t.setRenderTarget(y),v=null,p=null,d=null,o=null,w=null,B.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}function O(t){for(var e=0;e<t.removed.length;e++){var n=t.removed[e],i=x.indexOf(n);i>=0&&(x[i]=null,b[i].disconnect(n))}for(var r=0;r<t.added.length;r++){var a=t.added[r],o=x.indexOf(a);if(-1===o){for(var s=0;s<b.length;s++){if(s>=x.length){x.push(a),o=s;break}if(null===x[s]){x[s]=a,o=s;break}}if(-1===o)break}var l=b[o];l&&l.connect(a)}}r.cameraAutoUpdate=!0,r.enabled=!1,r.isPresenting=!1,r.getController=function(t){var e=b[t];return void 0===e&&(e=new oh,b[t]=e),e.getTargetRaySpace()},r.getControllerGrip=function(t){var e=b[t];return void 0===e&&(e=new oh,b[t]=e),e.getGripSpace()},r.getHand=function(t){var e=b[t];return void 0===e&&(e=new oh,b[t]=e),e.getHandSpace()},r.setFramebufferScaleFactor=function(t){s=t,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},r.setReferenceSpaceType=function(t){u=t,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},r.getReferenceSpace=function(){return h||l},r.setReferenceSpace=function(t){h=t},r.getBaseLayer=function(){return null!==p?p:v},r.getBinding=function(){return d},r.getFrame=function(){return m},r.getSession=function(){return o},r.setSession=function(){var e,n=(e=oi().mark((function e(n){var r,f,m,b,x;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(o=n)){e.next=25;break}if(y=t.getRenderTarget(),o.addEventListener("select",T),o.addEventListener("selectstart",T),o.addEventListener("selectend",T),o.addEventListener("squeeze",T),o.addEventListener("squeezestart",T),o.addEventListener("squeezeend",T),o.addEventListener("end",L),o.addEventListener("inputsourceschange",O),!0===g.xrCompatible){e.next=14;break}return e.next=14,i.makeXRCompatible();case 14:return void 0===o.renderState.layers||!1===t.capabilities.isWebGL2?(r={antialias:void 0!==o.renderState.layers||g.antialias,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s},v=new XRWebGLLayer(o,i,r),o.updateRenderState({baseLayer:v}),w=new vo(v.framebufferWidth,v.framebufferHeight,{format:zr,type:xr,encoding:t.outputEncoding,stencilBuffer:g.stencil})):(f=null,m=null,b=null,g.depth&&(b=g.stencil?35056:33190,f=g.stencil?Br:Ir,m=g.stencil?Lr:Mr),x={colorFormat:32856,depthFormat:b,scaleFactor:s},d=new XRWebGLBinding(o,i),p=d.createProjectionLayer(x),o.updateRenderState({layers:[p]}),w=new vo(p.textureWidth,p.textureHeight,{format:zr,type:xr,depthTexture:new sh(p.textureWidth,p.textureHeight,m,void 0,void 0,void 0,void 0,void 0,void 0,f),stencilBuffer:g.stencil,encoding:t.outputEncoding,samples:g.antialias?4:0}),t.properties.get(w).__ignoreDepthValues=p.ignoreDepthValues),w.isXRRenderTarget=!0,this.setFoveation(c),h=null,e.next=20,o.requestReferenceSpace(u);case 20:l=e.sent,B.setContext(o),B.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"});case 25:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(t){Xn(a,i,r,o,s,"next",t)}function s(t){Xn(a,i,r,o,s,"throw",t)}o(void 0)}))});return function(t){return n.apply(this,arguments)}}();var z=new Za,R=new Za;function D(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}r.updateCamera=function(t){if(null!==o){E.near=S.near=k.near=t.near,E.far=S.far=k.far=t.far,C===E.near&&P===E.far||(o.updateRenderState({depthNear:E.near,depthFar:E.far}),C=E.near,P=E.far);var e=t.parent,n=E.cameras;D(E,e);for(var i=0;i<n.length;i++)D(n[i],e);E.matrixWorld.decompose(E.position,E.quaternion,E.scale),t.matrix.copy(E.matrix),t.matrix.decompose(t.position,t.quaternion,t.scale);for(var r=t.children,a=0,s=r.length;a<s;a++)r[a].updateMatrixWorld(!0);2===n.length?function(t,e,n){z.setFromMatrixPosition(e.matrixWorld),R.setFromMatrixPosition(n.matrixWorld);var i=z.distanceTo(R),r=e.projectionMatrix.elements,a=n.projectionMatrix.elements,o=r[14]/(r[10]-1),s=r[14]/(r[10]+1),l=(r[9]+1)/r[5],u=(r[9]-1)/r[5],c=(r[8]-1)/r[0],h=(a[8]+1)/a[0],f=o*c,d=o*h,p=i/(-c+h),v=p*-c;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(v),t.translateZ(p),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();var m=o+p,g=s+p,y=f-v,w=d+(i-v),b=l*s/g*m,x=u*s/g*m;t.projectionMatrix.makePerspective(y,w,b,x,m,g)}(E,k,S):E.projectionMatrix.copy(k.projectionMatrix)}},r.getCamera=function(){return E},r.getFoveation=function(){if(null!==p||null!==v)return c},r.setFoveation=function(t){c=t,null!==p&&(p.fixedFoveation=t),null!==v&&void 0!==v.fixedFoveation&&(v.fixedFoveation=t)},r.getPlanes=function(){return A};var I=null;var B=new Ol;return B.setAnimationLoop((function(e,n){if(f=n.getViewerPose(h||l),m=n,null!==f){var i=f.views;null!==v&&(t.setRenderTargetFramebuffer(w,v.framebuffer),t.setRenderTarget(w));var r=!1;i.length!==E.cameras.length&&(E.cameras.length=0,r=!0);for(var o=0;o<i.length;o++){var s=i[o],u=null;if(null!==v)u=v.getViewport(s);else{var c=d.getViewSubImage(p,s);u=c.viewport,0===o&&(t.setRenderTargetTextures(w,c.colorTexture,p.ignoreDepthValues?void 0:c.depthStencilTexture),t.setRenderTarget(w))}var g=M[o];void 0===g&&((g=new bl).layers.enable(o),g.viewport=new po,M[o]=g),g.matrix.fromArray(s.transform.matrix),g.projectionMatrix.fromArray(s.projectionMatrix),g.viewport.set(u.x,u.y,u.width,u.height),0===o&&E.matrix.copy(g.matrix),!0===r&&E.cameras.push(g)}}for(var y=0;y<b.length;y++){var k=x[y],S=b[y];null!==k&&void 0!==S&&S.update(k,n,h||l)}if(I&&I(e,n),n.detectedPlanes){a.dispatchEvent({type:"planesdetected",data:n.detectedPlanes});var C,P=null,T=Yn(A);try{for(T.s();!(C=T.n()).done;){var L=C.value;n.detectedPlanes.has(L)||(null===P&&(P=[]),P.push(L))}}catch(F){T.e(F)}finally{T.f()}if(null!==P){var O,z=Yn(P);try{for(z.s();!(O=z.n()).done;){var R=O.value;A.delete(R),_.delete(R),a.dispatchEvent({type:"planeremoved",data:R})}}catch(F){z.e(F)}finally{z.f()}}var D,B=Yn(n.detectedPlanes);try{for(B.s();!(D=B.n()).done;){var N=D.value;if(A.has(N)){var j=_.get(N);N.lastChangedTime>j&&(_.set(N,N.lastChangedTime),a.dispatchEvent({type:"planechanged",data:N}))}else A.add(N),_.set(N,n.lastChangedTime),a.dispatchEvent({type:"planeadded",data:N})}}catch(F){B.e(F)}finally{B.f()}}m=null})),r.setAnimationLoop=function(t){I=t},r.dispose=function(){},r}return ci(n)}(Ta);function uh(t,e){function n(n,i){n.opacity.value=i.opacity,i.color&&n.diffuse.value.copy(i.color),i.emissive&&n.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(n.map.value=i.map),i.alphaMap&&(n.alphaMap.value=i.alphaMap),i.bumpMap&&(n.bumpMap.value=i.bumpMap,n.bumpScale.value=i.bumpScale,i.side===bi&&(n.bumpScale.value*=-1)),i.displacementMap&&(n.displacementMap.value=i.displacementMap,n.displacementScale.value=i.displacementScale,n.displacementBias.value=i.displacementBias),i.emissiveMap&&(n.emissiveMap.value=i.emissiveMap),i.normalMap&&(n.normalMap.value=i.normalMap,n.normalScale.value.copy(i.normalScale),i.side===bi&&n.normalScale.value.negate()),i.specularMap&&(n.specularMap.value=i.specularMap),i.alphaTest>0&&(n.alphaTest.value=i.alphaTest);var r,a,o=e.get(i).envMap;if(o&&(n.envMap.value=o,n.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,n.reflectivity.value=i.reflectivity,n.ior.value=i.ior,n.refractionRatio.value=i.refractionRatio),i.lightMap){n.lightMap.value=i.lightMap;var s=!0===t.useLegacyLights?Math.PI:1;n.lightMapIntensity.value=i.lightMapIntensity*s}i.aoMap&&(n.aoMap.value=i.aoMap,n.aoMapIntensity.value=i.aoMapIntensity),i.map?r=i.map:i.specularMap?r=i.specularMap:i.displacementMap?r=i.displacementMap:i.normalMap?r=i.normalMap:i.bumpMap?r=i.bumpMap:i.roughnessMap?r=i.roughnessMap:i.metalnessMap?r=i.metalnessMap:i.alphaMap?r=i.alphaMap:i.emissiveMap?r=i.emissiveMap:i.clearcoatMap?r=i.clearcoatMap:i.clearcoatNormalMap?r=i.clearcoatNormalMap:i.clearcoatRoughnessMap?r=i.clearcoatRoughnessMap:i.iridescenceMap?r=i.iridescenceMap:i.iridescenceThicknessMap?r=i.iridescenceThicknessMap:i.specularIntensityMap?r=i.specularIntensityMap:i.specularColorMap?r=i.specularColorMap:i.transmissionMap?r=i.transmissionMap:i.thicknessMap?r=i.thicknessMap:i.sheenColorMap?r=i.sheenColorMap:i.sheenRoughnessMap&&(r=i.sheenRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),n.uvTransform.value.copy(r.matrix)),i.aoMap?a=i.aoMap:i.lightMap&&(a=i.lightMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),n.uv2Transform.value.copy(a.matrix))}return{refreshFogUniforms:function(e,n){n.color.getRGB(e.fogColor.value,ml(t)),n.isFog?(e.fogNear.value=n.near,e.fogFar.value=n.far):n.isFogExp2&&(e.fogDensity.value=n.density)},refreshMaterialUniforms:function(t,i,r,a,o){i.isMeshBasicMaterial||i.isMeshLambertMaterial?n(t,i):i.isMeshToonMaterial?(n(t,i),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(t,i)):i.isMeshPhongMaterial?(n(t,i),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4)}(t,i)):i.isMeshStandardMaterial?(n(t,i),function(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap);n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap);var i=e.get(n).envMap;i&&(t.envMapIntensity.value=n.envMapIntensity)}(t,i),i.isMeshPhysicalMaterial&&function(t,e,n){t.ior.value=e.ior,e.sheen>0&&(t.sheenColor.value.copy(e.sheenColor).multiplyScalar(e.sheen),t.sheenRoughness.value=e.sheenRoughness,e.sheenColorMap&&(t.sheenColorMap.value=e.sheenColorMap),e.sheenRoughnessMap&&(t.sheenRoughnessMap.value=e.sheenRoughnessMap));e.clearcoat>0&&(t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,e.side===bi&&t.clearcoatNormalScale.value.negate()));e.iridescence>0&&(t.iridescence.value=e.iridescence,t.iridescenceIOR.value=e.iridescenceIOR,t.iridescenceThicknessMinimum.value=e.iridescenceThicknessRange[0],t.iridescenceThicknessMaximum.value=e.iridescenceThicknessRange[1],e.iridescenceMap&&(t.iridescenceMap.value=e.iridescenceMap),e.iridescenceThicknessMap&&(t.iridescenceThicknessMap.value=e.iridescenceThicknessMap));e.transmission>0&&(t.transmission.value=e.transmission,t.transmissionSamplerMap.value=n.texture,t.transmissionSamplerSize.value.set(n.width,n.height),e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap),t.thickness.value=e.thickness,e.thicknessMap&&(t.thicknessMap.value=e.thicknessMap),t.attenuationDistance.value=e.attenuationDistance,t.attenuationColor.value.copy(e.attenuationColor));t.specularIntensity.value=e.specularIntensity,t.specularColor.value.copy(e.specularColor),e.specularIntensityMap&&(t.specularIntensityMap.value=e.specularIntensityMap);e.specularColorMap&&(t.specularColorMap.value=e.specularColorMap)}(t,i,o)):i.isMeshMatcapMaterial?(n(t,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap)}(t,i)):i.isMeshDepthMaterial?n(t,i):i.isMeshDistanceMaterial?(n(t,i),function(t,e){t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,i)):i.isMeshNormalMaterial?n(t,i):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,i)):i.isPointsMaterial?function(t,e,n,i){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*i,e.map&&(t.map.value=e.map);e.alphaMap&&(t.alphaMap.value=e.alphaMap);e.alphaTest>0&&(t.alphaTest.value=e.alphaTest);var r;e.map?r=e.map:e.alphaMap&&(r=e.alphaMap);void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix))}(t,i,r,a):i.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map);e.alphaMap&&(t.alphaMap.value=e.alphaMap);e.alphaTest>0&&(t.alphaTest.value=e.alphaTest);var n;e.map?n=e.map:e.alphaMap&&(n=e.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,i):i.isShadowMaterial?(t.color.value.copy(i.color),t.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function ch(t,e,n,i){var r={},a={},o=[],s=n.isWebGL2?t.getParameter(35375):0;function l(t,e,n){var i=t.value;if(void 0===n[e]){if("number"===typeof i)n[e]=i;else{for(var r=Array.isArray(i)?i:[i],a=[],o=0;o<r.length;o++)a.push(r[o].clone());n[e]=a}return!0}if("number"===typeof i){if(n[e]!==i)return n[e]=i,!0}else for(var s=Array.isArray(n[e])?n[e]:[n[e]],l=Array.isArray(i)?i:[i],u=0;u<s.length;u++){var c=s[u];if(!1===c.equals(l[u]))return c.copy(l[u]),!0}return!1}function u(t){var e={boundary:0,storage:0};return"number"===typeof t?(e.boundary=4,e.storage=4):t.isVector2?(e.boundary=8,e.storage=8):t.isVector3||t.isColor?(e.boundary=16,e.storage=12):t.isVector4?(e.boundary=16,e.storage=16):t.isMatrix3?(e.boundary=48,e.storage=48):t.isMatrix4?(e.boundary=64,e.storage=64):t.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",t),e}function c(e){var n=e.target;n.removeEventListener("dispose",c);var i=o.indexOf(n.__bindingPointIndex);o.splice(i,1),t.deleteBuffer(r[n.id]),delete r[n.id],delete a[n.id]}return{bind:function(t,e){var n=e.program;i.uniformBlockBinding(t,n)},update:function(n,h){var f=r[n.id];void 0===f&&(!function(t){for(var e=t.uniforms,n=0,i=16,r=0,a=0,o=e.length;a<o;a++){for(var s=e[a],l={boundary:0,storage:0},c=Array.isArray(s.value)?s.value:[s.value],h=0,f=c.length;h<f;h++){var d=u(c[h]);l.boundary+=d.boundary,l.storage+=d.storage}if(s.__data=new Float32Array(l.storage/Float32Array.BYTES_PER_ELEMENT),s.__offset=n,a>0)0!==(r=n%i)&&i-r-l.boundary<0&&(n+=i-r,s.__offset=n);n+=l.storage}(r=n%i)>0&&(n+=i-r);t.__size=n,t.__cache={}}(n),f=function(e){var n=function(){for(var t=0;t<s;t++)if(-1===o.indexOf(t))return o.push(t),t;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();e.__bindingPointIndex=n;var i=t.createBuffer(),r=e.__size,a=e.usage;return t.bindBuffer(35345,i),t.bufferData(35345,r,a),t.bindBuffer(35345,null),t.bindBufferBase(35345,n,i),i}(n),r[n.id]=f,n.addEventListener("dispose",c));var d=h.program;i.updateUBOMapping(n,d);var p=e.render.frame;a[n.id]!==p&&(!function(e){var n=r[e.id],i=e.uniforms,a=e.__cache;t.bindBuffer(35345,n);for(var o=0,s=i.length;o<s;o++){var c=i[o];if(!0===l(c,o,a)){for(var h=c.__offset,f=Array.isArray(c.value)?c.value:[c.value],d=0,p=0;p<f.length;p++){var v=f[p],m=u(v);"number"===typeof v?(c.__data[0]=v,t.bufferSubData(35345,h+d,c.__data)):v.isMatrix3?(c.__data[0]=v.elements[0],c.__data[1]=v.elements[1],c.__data[2]=v.elements[2],c.__data[3]=v.elements[0],c.__data[4]=v.elements[3],c.__data[5]=v.elements[4],c.__data[6]=v.elements[5],c.__data[7]=v.elements[0],c.__data[8]=v.elements[6],c.__data[9]=v.elements[7],c.__data[10]=v.elements[8],c.__data[11]=v.elements[0]):(v.toArray(c.__data,d),d+=m.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(35345,h,c.__data)}}t.bindBuffer(35345,null)}(n),a[n.id]=p)},dispose:function(){for(var e in r)t.deleteBuffer(r[e]);o=[],r={},a={}}}}function hh(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isWebGLRenderer=!0;var e,n=void 0!==t.canvas?t.canvas:function(){var t=Ya("canvas");return t.style.display="block",t}(),i=void 0!==t.context?t.context:null,r=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,u=void 0!==t.powerPreference?t.powerPreference:"default",c=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;e=null!==i?i.getContextAttributes().alpha:void 0!==t.alpha&&t.alpha;var h=null,f=null,d=[],p=[];this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=wa,this.useLegacyLights=!0,this.toneMapping=er,this.toneMappingExposure=1;var v=this,m=!1,g=0,y=0,w=null,b=-1,x=null,A=new po,_=new po,k=null,S=n.width,M=n.height,E=1,C=null,P=null,T=new po(0,0,S,M),L=new po(0,0,S,M),O=!1,z=new Ll,R=!1,D=!1,I=null,B=new Wo,N=new Za,j={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function F(){return null===w?E:1}var U,H,V,G,W,Q,X,Y,J,Z,q,K,$,tt,et,nt,it,rt,at,ot,st,lt,ut,ct,ht=i;function ft(t,e){for(var i=0;i<t.length;i++){var r=t[i],a=n.getContext(r,e);if(null!==a)return a}return null}try{var dt={alpha:!0,depth:r,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:c};if("setAttribute"in n&&n.setAttribute("data-engine","three.js r".concat(fi)),n.addEventListener("webglcontextlost",gt,!1),n.addEventListener("webglcontextrestored",yt,!1),n.addEventListener("webglcontextcreationerror",wt,!1),null===ht){var pt=["webgl2","webgl","experimental-webgl"];if(!0===v.isWebGL1Renderer&&pt.shift(),null===(ht=ft(pt,dt)))throw ft(pt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ht.getShaderPrecisionFormat&&(ht.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Lt){throw console.error("THREE.WebGLRenderer: "+Lt.message),Lt}function vt(){U=new ou(ht),H=new Hl(ht,U,t),U.init(H),lt=new nh(ht,U,H),V=new th(ht,U,H),G=new uu,W=new Nc,Q=new eh(ht,U,V,W,H,lt,G),X=new Gl(v),Y=new au(v),J=new zl(ht,H),ut=new Fl(ht,U,J,H),Z=new su(ht,J,G,ut),q=new du(ht,Z,J,G),at=new fu(ht,H,Q),nt=new Vl(W),K=new Bc(v,X,Y,U,H,ut,nt),$=new uh(v,W),tt=new Hc,et=new Yc(U,H),rt=new jl(v,X,Y,V,q,e,s),it=new $c(v,q,H),ct=new ch(ht,G,H,V),ot=new Ul(ht,U,G,H),st=new lu(ht,U,G,H),G.programs=K.programs,v.capabilities=H,v.extensions=U,v.properties=W,v.renderLists=tt,v.shadowMap=it,v.state=V,v.info=G}vt();var mt=new lh(v,ht);function gt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function yt(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1;var t=G.autoReset,e=it.enabled,n=it.autoUpdate,i=it.needsUpdate,r=it.type;vt(),G.autoReset=t,it.enabled=e,it.autoUpdate=n,it.needsUpdate=i,it.type=r}function wt(t){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",t.statusMessage)}function bt(t){var e=t.target;e.removeEventListener("dispose",bt),function(t){(function(t){var e=W.get(t).programs;void 0!==e&&(e.forEach((function(t){K.releaseProgram(t)})),t.isShaderMaterial&&K.releaseShaderCache(t))})(t),W.remove(t)}(e)}this.xr=mt,this.getContext=function(){return ht},this.getContextAttributes=function(){return ht.getContextAttributes()},this.forceContextLoss=function(){var t=U.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=U.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return E},this.setPixelRatio=function(t){void 0!==t&&(E=t,this.setSize(S,M,!1))},this.getSize=function(t){return t.set(S,M)},this.setSize=function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];mt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(S=t,M=e,n.width=Math.floor(t*E),n.height=Math.floor(e*E),!0===i&&(n.style.width=t+"px",n.style.height=e+"px"),this.setViewport(0,0,t,e))},this.getDrawingBufferSize=function(t){return t.set(S*E,M*E).floor()},this.setDrawingBufferSize=function(t,e,i){S=t,M=e,E=i,n.width=Math.floor(t*i),n.height=Math.floor(e*i),this.setViewport(0,0,t,e)},this.getCurrentViewport=function(t){return t.copy(A)},this.getViewport=function(t){return t.copy(T)},this.setViewport=function(t,e,n,i){t.isVector4?T.set(t.x,t.y,t.z,t.w):T.set(t,e,n,i),V.viewport(A.copy(T).multiplyScalar(E).floor())},this.getScissor=function(t){return t.copy(L)},this.setScissor=function(t,e,n,i){t.isVector4?L.set(t.x,t.y,t.z,t.w):L.set(t,e,n,i),V.scissor(_.copy(L).multiplyScalar(E).floor())},this.getScissorTest=function(){return O},this.setScissorTest=function(t){V.setScissorTest(O=t)},this.setOpaqueSort=function(t){C=t},this.setTransparentSort=function(t){P=t},this.getClearColor=function(t){return t.copy(rt.getClearColor())},this.setClearColor=function(){rt.setClearColor.apply(rt,arguments)},this.getClearAlpha=function(){return rt.getClearAlpha()},this.setClearAlpha=function(){rt.setClearAlpha.apply(rt,arguments)},this.clear=function(){var t=0;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(t|=16384),(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t|=256),(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&(t|=1024),ht.clear(t)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",gt,!1),n.removeEventListener("webglcontextrestored",yt,!1),n.removeEventListener("webglcontextcreationerror",wt,!1),tt.dispose(),et.dispose(),W.dispose(),X.dispose(),Y.dispose(),q.dispose(),ut.dispose(),ct.dispose(),K.dispose(),mt.dispose(),mt.removeEventListener("sessionstart",At),mt.removeEventListener("sessionend",_t),I&&(I.dispose(),I=null),kt.stop()},this.renderBufferDirect=function(t,e,n,i,r,a){null===e&&(e=j);var o=r.isMesh&&r.matrixWorld.determinant()<0,s=function(t,e,n,i,r){!0!==e.isScene&&(e=j);Q.resetTextureUnits();var a=e.fog,o=i.isMeshStandardMaterial?e.environment:null,s=null===w?v.outputEncoding:!0===w.isXRRenderTarget?w.texture.encoding:wa,l=(i.isMeshStandardMaterial?Y:X).get(i.envMap||o),u=!0===i.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!i.normalMap&&!!n.attributes.tangent,h=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,p=!!n.morphAttributes.color,m=i.toneMapped?v.toneMapping:er,g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,y=void 0!==g?g.length:0,A=W.get(i),_=f.state.lights;if(!0===R&&(!0===D||t!==x)){var k=t===x&&i.id===b;nt.setState(i,t,k)}var S=!1;i.version===A.__version?A.needsLights&&A.lightsStateVersion!==_.state.version||A.outputEncoding!==s||r.isInstancedMesh&&!1===A.instancing?S=!0:r.isInstancedMesh||!0!==A.instancing?r.isSkinnedMesh&&!1===A.skinning?S=!0:r.isSkinnedMesh||!0!==A.skinning?A.envMap!==l||!0===i.fog&&A.fog!==a?S=!0:void 0===A.numClippingPlanes||A.numClippingPlanes===nt.numPlanes&&A.numIntersection===nt.numIntersection?(A.vertexAlphas!==u||A.vertexTangents!==c||A.morphTargets!==h||A.morphNormals!==d||A.morphColors!==p||A.toneMapping!==m||!0===H.isWebGL2&&A.morphTargetsCount!==y)&&(S=!0):S=!0:S=!0:S=!0:(S=!0,A.__version=i.version);var C=A.currentProgram;!0===S&&(C=Pt(i,e,r));var P=!1,T=!1,L=!1,O=C.getUniforms(),z=A.uniforms;V.useProgram(C.program)&&(P=!0,T=!0,L=!0);i.id!==b&&(b=i.id,T=!0);if(P||x!==t){if(O.setValue(ht,"projectionMatrix",t.projectionMatrix),H.logarithmicDepthBuffer&&O.setValue(ht,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),x!==t&&(x=t,T=!0,L=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshStandardMaterial||i.envMap){var B=O.map.cameraPosition;void 0!==B&&B.setValue(ht,N.setFromMatrixPosition(t.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial)&&O.setValue(ht,"isOrthographic",!0===t.isOrthographicCamera),(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.isShadowMaterial||r.isSkinnedMesh)&&O.setValue(ht,"viewMatrix",t.matrixWorldInverse)}if(r.isSkinnedMesh){O.setOptional(ht,r,"bindMatrix"),O.setOptional(ht,r,"bindMatrixInverse");var F=r.skeleton;F&&(H.floatVertexTextures?(null===F.boneTexture&&F.computeBoneTexture(),O.setValue(ht,"boneTexture",F.boneTexture,Q),O.setValue(ht,"boneTextureSize",F.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}var U=n.morphAttributes;(void 0!==U.position||void 0!==U.normal||void 0!==U.color&&!0===H.isWebGL2)&&at.update(r,n,C);(T||A.receiveShadow!==r.receiveShadow)&&(A.receiveShadow=r.receiveShadow,O.setValue(ht,"receiveShadow",r.receiveShadow));i.isMeshGouraudMaterial&&null!==i.envMap&&(z.envMap.value=l,z.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);T&&(O.setValue(ht,"toneMappingExposure",v.toneMappingExposure),A.needsLights&&(J=L,(G=z).ambientLightColor.needsUpdate=J,G.lightProbe.needsUpdate=J,G.directionalLights.needsUpdate=J,G.directionalLightShadows.needsUpdate=J,G.pointLights.needsUpdate=J,G.pointLightShadows.needsUpdate=J,G.spotLights.needsUpdate=J,G.spotLightShadows.needsUpdate=J,G.rectAreaLights.needsUpdate=J,G.hemisphereLights.needsUpdate=J),a&&!0===i.fog&&$.refreshFogUniforms(z,a),$.refreshMaterialUniforms(z,i,E,M,I),gc.upload(ht,A.uniformsList,z,Q));var G,J;i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(gc.upload(ht,A.uniformsList,z,Q),i.uniformsNeedUpdate=!1);i.isSpriteMaterial&&O.setValue(ht,"center",r.center);if(O.setValue(ht,"modelViewMatrix",r.modelViewMatrix),O.setValue(ht,"normalMatrix",r.normalMatrix),O.setValue(ht,"modelMatrix",r.matrixWorld),i.isShaderMaterial||i.isRawShaderMaterial)for(var Z=i.uniformsGroups,q=0,K=Z.length;q<K;q++)if(H.isWebGL2){var tt=Z[q];ct.update(tt,C),ct.bind(tt,C)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return C}(t,e,n,i,r);V.setMaterial(i,o);var l=n.index,u=1;!0===i.wireframe&&(l=Z.getWireframeAttribute(n),u=2);var c=n.drawRange,h=n.attributes.position,d=c.start*u,p=(c.start+c.count)*u;null!==a&&(d=Math.max(d,a.start*u),p=Math.min(p,(a.start+a.count)*u)),null!==l?(d=Math.max(d,0),p=Math.min(p,l.count)):void 0!==h&&null!==h&&(d=Math.max(d,0),p=Math.min(p,h.count));var m=p-d;if(!(m<0||m===1/0)){var g;ut.setup(r,i,s,n,l);var y=ot;if(null!==l&&(g=J.get(l),(y=st).setIndex(g)),r.isMesh)!0===i.wireframe?(V.setLineWidth(i.wireframeLinewidth*F()),y.setMode(1)):y.setMode(4);else if(r.isLine){var A=i.linewidth;void 0===A&&(A=1),V.setLineWidth(A*F()),r.isLineSegments?y.setMode(1):r.isLineLoop?y.setMode(2):y.setMode(3)}else r.isPoints?y.setMode(0):r.isSprite&&y.setMode(4);if(r.isInstancedMesh)y.renderInstances(d,m,r.count);else if(n.isInstancedBufferGeometry){var _=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,k=Math.min(n.instanceCount,_);y.renderInstances(d,m,k)}else y.render(d,m)}},this.compile=function(t,e){function n(t,e,n){!0===t.transparent&&t.side===xi&&!1===t.forceSinglePass?(t.side=bi,t.needsUpdate=!0,Pt(t,e,n),t.side=wi,t.needsUpdate=!0,Pt(t,e,n),t.side=xi):Pt(t,e,n)}(f=et.get(t)).init(),p.push(f),t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(f.pushLight(t),t.castShadow&&f.pushShadow(t))})),f.setupLights(v.useLegacyLights),t.traverse((function(e){var i=e.material;if(i)if(Array.isArray(i))for(var r=0;r<i.length;r++){n(i[r],t,e)}else n(i,t,e)})),p.pop(),f=null};var xt=null;function At(){kt.stop()}function _t(){kt.start()}var kt=new Ol;function St(t,e,n,i){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)f.pushLight(t),t.castShadow&&f.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||z.intersectsSprite(t)){i&&N.setFromMatrixPosition(t.matrixWorld).applyMatrix4(B);var r=q.update(t),a=t.material;a.visible&&h.push(t,r,a,n,N.z,null)}}else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==G.render.frame&&(t.skeleton.update(),t.skeleton.frame=G.render.frame),!t.frustumCulled||z.intersectsObject(t))){i&&N.setFromMatrixPosition(t.matrixWorld).applyMatrix4(B);var o=q.update(t),s=t.material;if(Array.isArray(s))for(var l=o.groups,u=0,c=l.length;u<c;u++){var d=l[u],p=s[d.materialIndex];p&&p.visible&&h.push(t,o,p,n,N.z,d)}else s.visible&&h.push(t,o,s,n,N.z,null)}for(var v=t.children,m=0,g=v.length;m<g;m++)St(v[m],e,n,i)}}function Mt(t,e,n,i){var r=t.opaque,a=t.transmissive,s=t.transparent;f.setupLightsView(n),!0===R&&nt.setGlobalState(v.clippingPlanes,n),a.length>0&&function(t,e,n){var i=H.isWebGL2;null===I&&(I=new vo(1024,1024,{generateMipmaps:!0,type:U.has("EXT_color_buffer_half_float")?Cr:xr,minFilter:br,samples:i&&!0===o?4:0}));var r=v.getRenderTarget();v.setRenderTarget(I),v.clear();var a=v.toneMapping;v.toneMapping=er,Et(t,e,n),v.toneMapping=a,Q.updateMultisampleRenderTarget(I),Q.updateRenderTargetMipmap(I),v.setRenderTarget(r)}(r,e,n),i&&V.viewport(A.copy(i)),r.length>0&&Et(r,e,n),a.length>0&&Et(a,e,n),s.length>0&&Et(s,e,n),V.buffers.depth.setTest(!0),V.buffers.depth.setMask(!0),V.buffers.color.setMask(!0),V.setPolygonOffset(!1)}function Et(t,e,n){for(var i=!0===e.isScene?e.overrideMaterial:null,r=0,a=t.length;r<a;r++){var o=t[r],s=o.object,l=o.geometry,u=null===i?o.material:i,c=o.group;s.layers.test(n.layers)&&Ct(s,e,n,l,u,c)}}function Ct(t,e,n,i,r,a){t.onBeforeRender(v,e,n,i,r,a),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),r.onBeforeRender(v,e,n,i,t,a),!0===r.transparent&&r.side===xi&&!1===r.forceSinglePass?(r.side=bi,r.needsUpdate=!0,v.renderBufferDirect(n,e,i,r,t,a),r.side=wi,r.needsUpdate=!0,v.renderBufferDirect(n,e,i,r,t,a),r.side=xi):v.renderBufferDirect(n,e,i,r,t,a),t.onAfterRender(v,e,n,i,r,a)}function Pt(t,e,n){!0!==e.isScene&&(e=j);var i=W.get(t),r=f.state.lights,a=f.state.shadowsArray,o=r.state.version,s=K.getParameters(t,r.state,a,e,n),l=K.getProgramCacheKey(s),u=i.programs;i.environment=t.isMeshStandardMaterial?e.environment:null,i.fog=e.fog,i.envMap=(t.isMeshStandardMaterial?Y:X).get(t.envMap||i.environment),void 0===u&&(t.addEventListener("dispose",bt),u=new Map,i.programs=u);var c=u.get(l);if(void 0!==c){if(i.currentProgram===c&&i.lightsStateVersion===o)return Tt(t,s),c}else s.uniforms=K.getUniforms(t),t.onBuild(n,s,v),t.onBeforeCompile(s,v),c=K.acquireProgram(s,l),u.set(l,c),i.uniforms=s.uniforms;var h=i.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(h.clippingPlanes=nt.uniform),Tt(t,s),i.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),i.lightsStateVersion=o,i.needsLights&&(h.ambientLightColor.value=r.state.ambient,h.lightProbe.value=r.state.probe,h.directionalLights.value=r.state.directional,h.directionalLightShadows.value=r.state.directionalShadow,h.spotLights.value=r.state.spot,h.spotLightShadows.value=r.state.spotShadow,h.rectAreaLights.value=r.state.rectArea,h.ltc_1.value=r.state.rectAreaLTC1,h.ltc_2.value=r.state.rectAreaLTC2,h.pointLights.value=r.state.point,h.pointLightShadows.value=r.state.pointShadow,h.hemisphereLights.value=r.state.hemi,h.directionalShadowMap.value=r.state.directionalShadowMap,h.directionalShadowMatrix.value=r.state.directionalShadowMatrix,h.spotShadowMap.value=r.state.spotShadowMap,h.spotLightMatrix.value=r.state.spotLightMatrix,h.spotLightMap.value=r.state.spotLightMap,h.pointShadowMap.value=r.state.pointShadowMap,h.pointShadowMatrix.value=r.state.pointShadowMatrix);var d=c.getUniforms(),p=gc.seqWithValue(d.seq,h);return i.currentProgram=c,i.uniformsList=p,c}function Tt(t,e){var n=W.get(t);n.outputEncoding=e.outputEncoding,n.instancing=e.instancing,n.skinning=e.skinning,n.morphTargets=e.morphTargets,n.morphNormals=e.morphNormals,n.morphColors=e.morphColors,n.morphTargetsCount=e.morphTargetsCount,n.numClippingPlanes=e.numClippingPlanes,n.numIntersection=e.numClipIntersection,n.vertexAlphas=e.vertexAlphas,n.vertexTangents=e.vertexTangents,n.toneMapping=e.toneMapping}kt.setAnimationLoop((function(t){xt&&xt(t)})),"undefined"!==typeof self&&kt.setContext(self),this.setAnimationLoop=function(t){xt=t,mt.setAnimationLoop(t),null===t?kt.stop():kt.start()},mt.addEventListener("sessionstart",At),mt.addEventListener("sessionend",_t),this.render=function(t,e){if(void 0===e||!0===e.isCamera){if(!0!==m){!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),null===e.parent&&!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),!0===mt.enabled&&!0===mt.isPresenting&&(!0===mt.cameraAutoUpdate&&mt.updateCamera(e),e=mt.getCamera()),!0===t.isScene&&t.onBeforeRender(v,t,e,w),(f=et.get(t,p.length)).init(),p.push(f),B.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),z.setFromProjectionMatrix(B),D=this.localClippingEnabled,R=nt.init(this.clippingPlanes,D),(h=tt.get(t,d.length)).init(),d.push(h),St(t,e,0,v.sortObjects),h.finish(),!0===v.sortObjects&&h.sort(C,P),!0===R&&nt.beginShadows();var n=f.state.shadowsArray;if(it.render(n,t,e),!0===R&&nt.endShadows(),!0===this.info.autoReset&&this.info.reset(),rt.render(h,t),f.setupLights(v.useLegacyLights),e.isArrayCamera)for(var i=e.cameras,r=0,a=i.length;r<a;r++){var o=i[r];Mt(h,t,o,o.viewport)}else Mt(h,t,e);null!==w&&(Q.updateMultisampleRenderTarget(w),Q.updateRenderTargetMipmap(w)),!0===t.isScene&&t.onAfterRender(v,t,e),ut.resetDefaultState(),b=-1,x=null,p.pop(),f=p.length>0?p[p.length-1]:null,d.pop(),h=d.length>0?d[d.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(t,e,n){W.get(t.texture).__webglTexture=e,W.get(t.depthTexture).__webglTexture=n;var i=W.get(t);i.__hasExternalTextures=!0,i.__hasExternalTextures&&(i.__autoAllocateDepthBuffer=void 0===n,i.__autoAllocateDepthBuffer||!0===U.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),i.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(t,e){var n=W.get(t);n.__webglFramebuffer=e,n.__useDefaultFramebuffer=void 0===e},this.setRenderTarget=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;w=t,g=e,y=n;var i=!0,r=null,a=!1,o=!1;if(t){var s=W.get(t);void 0!==s.__useDefaultFramebuffer?(V.bindFramebuffer(36160,null),i=!1):void 0===s.__webglFramebuffer?Q.setupRenderTarget(t):s.__hasExternalTextures&&Q.rebindTextures(t,W.get(t.texture).__webglTexture,W.get(t.depthTexture).__webglTexture);var l=t.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(o=!0);var u=W.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(r=u[e],a=!0):r=H.isWebGL2&&t.samples>0&&!1===Q.useMultisampledRTT(t)?W.get(t).__webglMultisampledFramebuffer:u,A.copy(t.viewport),_.copy(t.scissor),k=t.scissorTest}else A.copy(T).multiplyScalar(E).floor(),_.copy(L).multiplyScalar(E).floor(),k=O;if(V.bindFramebuffer(36160,r)&&H.drawBuffers&&i&&V.drawBuffers(t,r),V.viewport(A),V.scissor(_),V.setScissorTest(k),a){var c=W.get(t.texture);ht.framebufferTexture2D(36160,36064,34069+e,c.__webglTexture,n)}else if(o){var h=W.get(t.texture),f=e||0;ht.framebufferTextureLayer(36160,36064,h.__webglTexture,n||0,f)}b=-1},this.readRenderTargetPixels=function(t,e,n,i,r,a,o){if(t&&t.isWebGLRenderTarget){var s=W.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){V.bindFramebuffer(36160,s);try{var l=t.texture,u=l.format,c=l.type;if(u!==zr&&lt.convert(u)!==ht.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var h=c===Cr&&(U.has("EXT_color_buffer_half_float")||H.isWebGL2&&U.has("EXT_color_buffer_float"));if(c!==xr&&lt.convert(c)!==ht.getParameter(35738)&&(c!==Er||!(H.isWebGL2||U.has("OES_texture_float")||U.has("WEBGL_color_buffer_float")))&&!h)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&ht.readPixels(e,n,i,r,lt.convert(u),lt.convert(c),a)}finally{var f=null!==w?W.get(w).__webglFramebuffer:null;V.bindFramebuffer(36160,f)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=Math.pow(2,-n),r=Math.floor(e.image.width*i),a=Math.floor(e.image.height*i);Q.setTexture2D(e,0),ht.copyTexSubImage2D(3553,n,0,0,t.x,t.y,r,a),V.unbindTexture()},this.copyTextureToTexture=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=e.image.width,a=e.image.height,o=lt.convert(n.format),s=lt.convert(n.type);Q.setTexture2D(n,0),ht.pixelStorei(37440,n.flipY),ht.pixelStorei(37441,n.premultiplyAlpha),ht.pixelStorei(3317,n.unpackAlignment),e.isDataTexture?ht.texSubImage2D(3553,i,t.x,t.y,r,a,o,s,e.image.data):e.isCompressedTexture?ht.compressedTexSubImage2D(3553,i,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,o,e.mipmaps[0].data):ht.texSubImage2D(3553,i,t.x,t.y,o,s,e.image),0===i&&n.generateMipmaps&&ht.generateMipmap(3553),V.unbindTexture()},this.copyTextureToTexture3D=function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(v.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=t.max.x-t.min.x+1,s=t.max.y-t.min.y+1,l=t.max.z-t.min.z+1,u=lt.convert(i.format),c=lt.convert(i.type);if(i.isData3DTexture)Q.setTexture3D(i,0),a=32879;else{if(!i.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Q.setTexture2DArray(i,0),a=35866}ht.pixelStorei(37440,i.flipY),ht.pixelStorei(37441,i.premultiplyAlpha),ht.pixelStorei(3317,i.unpackAlignment);var h=ht.getParameter(3314),f=ht.getParameter(32878),d=ht.getParameter(3316),p=ht.getParameter(3315),m=ht.getParameter(32877),g=n.isCompressedTexture?n.mipmaps[0]:n.image;ht.pixelStorei(3314,g.width),ht.pixelStorei(32878,g.height),ht.pixelStorei(3316,t.min.x),ht.pixelStorei(3315,t.min.y),ht.pixelStorei(32877,t.min.z),n.isDataTexture||n.isData3DTexture?ht.texSubImage3D(a,r,e.x,e.y,e.z,o,s,l,u,c,g.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ht.compressedTexSubImage3D(a,r,e.x,e.y,e.z,o,s,l,u,g.data)):ht.texSubImage3D(a,r,e.x,e.y,e.z,o,s,l,u,c,g),ht.pixelStorei(3314,h),ht.pixelStorei(32878,f),ht.pixelStorei(3316,d),ht.pixelStorei(3315,p),ht.pixelStorei(32877,m),0===r&&i.generateMipmaps&&ht.generateMipmap(a),V.unbindTexture()}},this.initTexture=function(t){t.isCubeTexture?Q.setTextureCube(t,0):t.isData3DTexture?Q.setTexture3D(t,0):t.isDataArrayTexture||t.isCompressedArrayTexture?Q.setTexture2DArray(t,0):Q.setTexture2D(t,0),V.unbindTexture()},this.resetState=function(){g=0,y=0,w=null,V.reset(),ut.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Object.defineProperties(hh.prototype,{physicallyCorrectLights:{get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(t){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!t}}});var fh=function(t){$n(n,t);var e=ei(n);function n(){return li(this,n),e.apply(this,arguments)}return ci(n)}(hh);fh.prototype.isWebGL1Renderer=!0;var dh=function(t){$n(n,t);var e=ei(n);function n(){var t;return li(this,n),(t=e.call(this)).isScene=!0,t.type="Scene",t.background=null,t.environment=null,t.fog=null,t.backgroundBlurriness=0,t.backgroundIntensity=1,t.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:ni(t)})),t}return ci(n,[{key:"copy",value:function(t,e){return Kn(ri(n.prototype),"copy",this).call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}},{key:"toJSON",value:function(t){var e=Kn(ri(n.prototype),"toJSON",this).call(this,t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e}},{key:"autoUpdate",get:function(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate},set:function(t){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=t}}]),n}(ms),ph=function(){function t(){li(this,t),this.type="Curve",this.arcLengthDivisions=200}return ci(t,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)}},{key:"getPoints",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}},{key:"getSpacedPoints",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}},{key:"getLength",value:function(){var t=this.getLengths();return t[t.length-1]}},{key:"getLengths",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n=[],i=this.getPoint(0),r=0;n.push(0);for(var a=1;a<=t;a++)r+=(e=this.getPoint(a/t)).distanceTo(i),n.push(r),i=e;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(t,e){var n,i=this.getLengths(),r=0,a=i.length;n=e||t*i[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=i[r=Math.floor(s+(l-s)/2)]-n)<0)s=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(i[r=l]===n)return r/(a-1);var u=i[r];return(r+(n-u)/(i[r+1]-u))/(a-1)}},{key:"getTangent",value:function(t,e){var n=1e-4,i=t-n,r=t+n;i<0&&(i=0),r>1&&(r=1);var a=this.getPoint(i),o=this.getPoint(r),s=e||(a.isVector2?new Ga:new Za);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(t,e){var n=this.getUtoTmapping(t);return this.getTangent(n,e)}},{key:"computeFrenetFrames",value:function(t,e){for(var n=new Za,i=[],r=[],a=[],o=new Za,s=new Wo,l=0;l<=t;l++){var u=l/t;i[l]=this.getTangentAt(u,new Za)}r[0]=new Za,a[0]=new Za;var c=Number.MAX_VALUE,h=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);h<=c&&(c=h,n.set(1,0,0)),f<=c&&(c=f,n.set(0,1,0)),d<=c&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],o),a[0].crossVectors(i[0],r[0]);for(var p=1;p<=t;p++){if(r[p]=r[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(i[p-1],i[p]),o.length()>Number.EPSILON){o.normalize();var v=Math.acos(Ia(i[p-1].dot(i[p]),-1,1));r[p].applyMatrix4(s.makeRotationAxis(o,v))}a[p].crossVectors(i[p],r[p])}if(!0===e){var m=Math.acos(Ia(r[0].dot(r[t]),-1,1));m/=t,i[0].dot(o.crossVectors(r[0],r[t]))>0&&(m=-m);for(var g=1;g<=t;g++)r[g].applyMatrix4(s.makeRotationAxis(i[g],m*g)),a[g].crossVectors(i[g],r[g])}return{tangents:i,normals:r,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}},{key:"toJSON",value:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}},{key:"fromJSON",value:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}]),t}();function vh(t,e,n,i,r){var a=.5*(i-e),o=.5*(r-n),s=t*t;return(2*n-2*i+a+o)*(t*s)+(-3*n+3*i-2*a-o)*s+a*t+n}var mh,gh=function(t){$n(n,t);var e=ei(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return li(this,n),(t=e.call(this)).isSplineCurve=!0,t.type="SplineCurve",t.points=i,t}return ci(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ga,n=this.points,i=(n.length-1)*t,r=Math.floor(i),a=i-r,o=n[0===r?r:r-1],s=n[r],l=n[r>n.length-2?n.length-1:r+1],u=n[r>n.length-3?n.length-1:r+2];return e.set(vh(a,o.x,s.x,l.x,u.x),vh(a,o.y,s.y,l.y,u.y)),e}},{key:"copy",value:function(t){Kn(ri(n.prototype),"copy",this).call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push(r.clone())}return this}},{key:"toJSON",value:function(){var t=Kn(ri(n.prototype),"toJSON",this).call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var r=this.points[e];t.points.push(r.toArray())}return t}},{key:"fromJSON",value:function(t){Kn(ri(n.prototype),"fromJSON",this).call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new Ga).fromArray(r))}return this}}]),n}(ph),yh=function(t){$n(n,t);var e=ei(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;li(this,n),(t=e.call(this)).type="SphereGeometry",t.parameters={radius:i,widthSegments:r,heightSegments:a,phiStart:o,phiLength:s,thetaStart:l,thetaLength:u},r=Math.max(3,Math.floor(r)),a=Math.max(2,Math.floor(a));for(var c=Math.min(l+u,Math.PI),h=0,f=[],d=new Za,p=new Za,v=[],m=[],g=[],y=[],w=0;w<=a;w++){var b=[],x=w/a,A=0;0==w&&0==l?A=.5/r:w==a&&c==Math.PI&&(A=-.5/r);for(var _=0;_<=r;_++){var k=_/r;d.x=-i*Math.cos(o+k*s)*Math.sin(l+x*u),d.y=i*Math.cos(l+x*u),d.z=i*Math.sin(o+k*s)*Math.sin(l+x*u),m.push(d.x,d.y,d.z),p.copy(d).normalize(),g.push(p.x,p.y,p.z),y.push(k+A,1-x),b.push(h++)}f.push(b)}for(var S=0;S<a;S++)for(var M=0;M<r;M++){var E=f[S][M+1],C=f[S][M],P=f[S+1][M],T=f[S+1][M+1];(0!==S||l>0)&&v.push(E,C,T),(S!==a-1||c<Math.PI)&&v.push(C,P,T)}return t.setIndex(v),t.setAttribute("position",new Hs(m,3)),t.setAttribute("normal",new Hs(g,3)),t.setAttribute("uv",new Hs(y,2)),t}return ci(n,[{key:"copy",value:function(t){return Kn(ri(n.prototype),"copy",this).call(this,t),this.parameters=Object.assign({},t.parameters),this}}],[{key:"fromJSON",value:function(t){return new n(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}]),n}(Zs),wh={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},bh=new(ci((function t(e,n,i){li(this,t);var r=this,a=!1,o=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(t){s++,!1===a&&void 0!==r.onStart&&r.onStart(t,o,s),a=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,s),o===s&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return l?l(t):t},this.setURLModifier=function(t){return l=t,this},this.addHandler=function(t,e){return u.push(t,e),this},this.removeHandler=function(t){var e=u.indexOf(t);return-1!==e&&u.splice(e,2),this},this.getHandler=function(t){for(var e=0,n=u.length;e<n;e+=2){var i=u[e],r=u[e+1];if(i.global&&(i.lastIndex=0),i.test(t))return r}return null}}))),xh=function(){function t(e){li(this,t),this.manager=void 0!==e?e:bh,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return ci(t,[{key:"load",value:function(){}},{key:"loadAsync",value:function(t,e){var n=this;return new Promise((function(i,r){n.load(t,i,e,r)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(t){return this.crossOrigin=t,this}},{key:"setWithCredentials",value:function(t){return this.withCredentials=t,this}},{key:"setPath",value:function(t){return this.path=t,this}},{key:"setResourcePath",value:function(t){return this.resourcePath=t,this}},{key:"setRequestHeader",value:function(t){return this.requestHeader=t,this}}]),t}(),Ah={},_h=function(t){$n(n,t);var e=ei(n);function n(t,i){var r;return li(this,n),(r=e.call(this,t)).response=i,r}return ci(n)}(Wn(Error)),kh=function(t){$n(n,t);var e=ei(n);function n(t){return li(this,n),e.call(this,t)}return ci(n,[{key:"load",value:function(t,e,n,i){var r=this;void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var a=wh.get(t);if(void 0!==a)return this.manager.itemStart(t),setTimeout((function(){e&&e(a),r.manager.itemEnd(t)}),0),a;if(void 0===Ah[t]){Ah[t]=[],Ah[t].push({onLoad:e,onProgress:n,onError:i});var o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(o).then((function(e){if(200===e.status||0===e.status){if(0===e.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===e.body||void 0===e.body.getReader)return e;var n=Ah[t],i=e.body.getReader(),r=e.headers.get("Content-Length")||e.headers.get("X-File-Size"),a=r?parseInt(r):0,o=0!==a,s=0,l=new ReadableStream({start:function(t){!function e(){i.read().then((function(i){var r=i.done,l=i.value;if(r)t.close();else{s+=l.byteLength;for(var u=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a}),c=0,h=n.length;c<h;c++){var f=n[c];f.onProgress&&f.onProgress(u)}t.enqueue(l),e()}}))}()}});return new Response(l)}throw new _h('fetch for "'.concat(e.url,'" responded with ').concat(e.status,": ").concat(e.statusText),e)})).then((function(t){switch(l){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"document":return t.text().then((function(t){return(new DOMParser).parseFromString(t,s)}));case"json":return t.json();default:if(void 0===s)return t.text();var e=/charset="?([^;"\s]*)"?/i.exec(s),n=e&&e[1]?e[1].toLowerCase():void 0,i=new TextDecoder(n);return t.arrayBuffer().then((function(t){return i.decode(t)}))}})).then((function(e){wh.add(t,e);var n=Ah[t];delete Ah[t];for(var i=0,r=n.length;i<r;i++){var a=n[i];a.onLoad&&a.onLoad(e)}})).catch((function(e){var n=Ah[t];if(void 0===n)throw r.manager.itemError(t),e;delete Ah[t];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(e)}r.manager.itemError(t)})).finally((function(){r.manager.itemEnd(t)})),this.manager.itemStart(t)}else Ah[t].push({onLoad:e,onProgress:n,onError:i})}},{key:"setResponseType",value:function(t){return this.responseType=t,this}},{key:"setMimeType",value:function(t){return this.mimeType=t,this}}]),n}(xh),Sh=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;li(this,t),this.ray=new Go(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new ns,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return ci(t,[{key:"set",value:function(t,e){this.ray.set(t,e)}},{key:"setFromCamera",value:function(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}},{key:"intersectObject",value:function(t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Eh(t,this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),e.sort(Mh),e}},{key:"intersectObjects",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=0,r=t.length;i<r;i++)Eh(t[i],this,n,e);return n.sort(Mh),n}}]),t}();function Mh(t,e){return t.distance-e.distance}function Eh(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),!0===i)for(var r=t.children,a=0,o=r.length;a<o;a++)Eh(r[a],e,n,!0)}function Ch(){Ch=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(C){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),s=new S(r||[]);return i(o,"_invoke",{value:x(t,n,s)}),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(C){return{type:"throw",arg:C}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var v={};l(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(M([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=p.prototype=f.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(i,a,o,s){var l=c(t[i],t,a);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==Xh(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(h).then((function(t){u.value=t,o(u)}),(function(t){return r("throw",t,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function x(t,e,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return E()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=A(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(t,e,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function A(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=c(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function M(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=p,i(y,"constructor",{value:p,configurable:!0}),i(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),l(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new b(u(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},w(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=M,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return o.type="throw",o.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:M(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function Ph(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,r)}function Th(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){Ph(a,i,r,o,s,"next",t)}function s(t){Ph(a,i,r,o,s,"throw",t)}o(void 0)}))}}function Lh(){return Lh="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qh(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},Lh.apply(this,arguments)}function Oh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function zh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oh(Object(n),!0).forEach((function(e){Rh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rh(t,e,n){return(e=Bh(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dh(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Bh(i.key),i)}}function Ih(t,e,n){return e&&Dh(t.prototype,e),n&&Dh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bh(t){var e=function(t,e){if("object"!==Xh(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Xh(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Xh(e)?e:String(e)}function Nh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jh(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wh(t,e)}function Fh(t){var e=Gh();return function(){var n,i=Qh(t);if(e){var r=Qh(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Xh(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Uh(t)}(this,n)}}function Uh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hh(t){var e="function"===typeof Map?new Map:void 0;return Hh=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return Vh(t,arguments,Qh(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Wh(i,t)},Hh(t)}function Vh(t,e,n){return Vh=Gh()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Wh(r,n.prototype),r},Vh.apply(null,arguments)}function Gh(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Wh(t,e){return Wh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wh(t,e)}function Qh(t){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qh(t)}function Xh(t){return Xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(t)}function Yh(t){return function(t){if(Array.isArray(t))return qh(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Zh(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}}(t,e)||Zh(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zh(t,e){if(t){if("string"===typeof t)return qh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qh(t,e):void 0}}function qh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:fi}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=fi);var Kh=Object.defineProperty,$h=function(t,e){for(var n in e)Kh(t,n,{get:e[n],enumerable:!0})},tf={};$h(tf,{ACTIONS:function(){return ff},ANIMATION_MIN_DURATION:function(){return nf},CTRLZOOM_TIMEOUT:function(){return lf},DBLCLICK_DELAY:function(){return af},DEFAULT_TRANSITION:function(){return ef},EASINGS:function(){return mf},ICONS:function(){return vf},IDS:function(){return df},INERTIA_WINDOW:function(){return uf},KEY_CODES:function(){return pf},LONGTOUCH_DELAY:function(){return of},MOVE_THRESHOLD:function(){return rf},SPHERE_RADIUS:function(){return cf},TWOFINGERSOVERLAY_DELAY:function(){return sf},VIEWER_DATA:function(){return hf}});var ef=1500,nf=500,rf=4,af=300,of=500,sf=100,lf=2e3,uf=300,cf=10,hf="photoSphereViewer",ff=function(t){return t.ROTATE_UP="ROTATE_UP",t.ROTATE_DOWN="ROTATE_DOWN",t.ROTATE_RIGHT="ROTATE_RIGHT",t.ROTATE_LEFT="ROTATE_LEFT",t.ZOOM_IN="ZOOM_IN",t.ZOOM_OUT="ZOOM_OUT",t}(ff||{}),df={MENU:"menu",TWO_FINGERS:"twoFingers",CTRL_ZOOM:"ctrlZoom",ERROR:"error",DESCRIPTION:"description"},pf={Enter:"Enter",Control:"Control",Escape:"Escape",Space:" ",PageUp:"PageUp",PageDown:"PageDown",ArrowLeft:"ArrowLeft",ArrowUp:"ArrowUp",ArrowRight:"ArrowRight",ArrowDown:"ArrowDown",Delete:"Delete",Plus:"+",Minus:"-"},vf={arrow:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="40 40 432 432"><g transform="rotate(0, 256, 256)"><path fill="currentColor" d="M425.23 210.55H227.39a5 5 0 01-3.53-8.53l56.56-56.57a45.5 45.5 0 000-64.28 45.15 45.15 0 00-32.13-13.3 45.15 45.15 0 00-32.14 13.3L41.32 256l174.83 174.83a45.15 45.15 0 0032.14 13.3 45.15 45.15 0 0032.13-13.3 45.5 45.5 0 000-64.28l-56.57-56.57a5 5 0 013.54-8.53h197.84c25.06 0 45.45-20.39 45.45-45.45s-20.4-45.45-45.45-45.45z"/></g>\x3c!-- Created by Flatart from the Noun Project --\x3e</svg>\n',close:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><g fill="currentColor" transform=" translate(50, 50) rotate(45)"><rect x="-5" y="-65" width="10" height="130"/><rect x="-65" y="-5" width="130" height="10"/></g></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M83.3 35.6h-17V3H32.2v32.6H16.6l33.6 32.7 33-32.7z"/><path fill="currentColor" d="M83.3 64.2v16.3H16.6V64.2H-.1v32.6H100V64.2H83.3z"/>\x3c!--Created by Michael Zenaty from the Noun Project--\x3e</svg>\n',fullscreenIn:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M100 40H87.1V18.8h-21V6H100zM100 93.2H66V80.3h21.1v-21H100zM34 93.2H0v-34h12.9v21.1h21zM12.9 40H0V6h34v12.9H12.8z"/>\x3c!--Created by Garrett Knoll from the Noun Project--\x3e</svg>\n',fullscreenOut:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M66 7h13v21h21v13H66zM66 60.3h34v12.9H79v21H66zM0 60.3h34v34H21V73.1H0zM21 7h13v34H0V28h21z"/>\x3c!--Created by Garrett Knoll from the Noun Project--\x3e</svg>\n',info:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><path fill="currentColor" d="M28.3 26.1c-1 2.6-1.9 4.8-2.6 7-2.5 7.4-5 14.7-7.2 22-1.3 4.4.5 7.2 4.3 7.8 1.3.2 2.8.2 4.2-.1 8.2-2 11.9-8.6 15.7-15.2l-2.2 2a18.8 18.8 0 0 1-7.4 5.2 2 2 0 0 1-1.6-.2c-.2-.1 0-1 0-1.4l.8-1.8L41.9 28c.5-1.4.9-3 .7-4.4-.2-2.6-3-4.4-6.3-4.4-8.8.2-15 4.5-19.5 11.8-.2.3-.2.6-.3 1.3 3.7-2.8 6.8-6.1 11.8-6.2z"/><circle fill="currentColor" cx="39.3" cy="9.2" r="8.2"/>\x3c!--Created by Arafat Uddin from the Noun Project--\x3e</svg>\n',menu:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 80 80"><g fill="currentColor"><circle r="10" cx="20" cy="20"/><circle r="10" cx="50" cy="20"/><circle r="10" cx="80" cy="20"/><circle r="10" cx="20" cy="50"/><circle r="10" cx="50" cy="50"/><circle r="10" cx="80" cy="50"/><circle r="10" cx="20" cy="80"/><circle r="10" cx="50" cy="80"/><circle r="10" cx="80" cy="80"/></g>\x3c!-- Created by Richard Kun\xe1k from the Noun Project--\x3e</svg>\n',zoomIn:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="currentColor" d="M14.043 12.22a7.738 7.738 0 1 0-1.823 1.822l4.985 4.985c.503.504 1.32.504 1.822 0a1.285 1.285 0 0 0 0-1.822l-4.984-4.985zm-6.305 1.043a5.527 5.527 0 1 1 0-11.053 5.527 5.527 0 0 1 0 11.053z"/><path fill="currentColor" d="M8.728 4.009H6.744v2.737H4.006V8.73h2.738v2.736h1.984V8.73h2.737V6.746H8.728z"/>\x3c!--Created by Ryan Canning from the Noun Project--\x3e</svg>\n',zoomOut:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="currentColor" d="M14.043 12.22a7.738 7.738 0 1 0-1.823 1.822l4.985 4.985c.503.504 1.32.504 1.822 0a1.285 1.285 0 0 0 0-1.822l-4.984-4.985zm-6.305 1.043a5.527 5.527 0 1 1 0-11.053 5.527 5.527 0 0 1 0 11.053z"/><path fill="currentColor" d="M4.006 6.746h7.459V8.73H4.006z"/>\x3c!--Created by Ryan Canning from the Noun Project--\x3e</svg>\n'},mf={linear:function(t){return t},inQuad:function(t){return t*t},outQuad:function(t){return t*(2-t)},inOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},inCubic:function(t){return t*t*t},outCubic:function(t){return--t*t*t+1},inOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},inQuart:function(t){return t*t*t*t},outQuart:function(t){return 1- --t*t*t*t},inOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},inQuint:function(t){return t*t*t*t*t},outQuint:function(t){return 1+--t*t*t*t*t},inOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},inSine:function(t){return 1-Math.cos(t*(Math.PI/2))},outSine:function(t){return Math.sin(t*(Math.PI/2))},inOutSine:function(t){return.5-.5*Math.cos(Math.PI*t)},inExpo:function(t){return Math.pow(2,10*(t-1))},outExpo:function(t){return 1-Math.pow(2,-10*t)},inOutExpo:function(t){return(t=2*t-1)<0?.5*Math.pow(2,10*t):1-.5*Math.pow(2,-10*t)},inCirc:function(t){return 1-Math.sqrt(1-t*t)},outCirc:function(t){return Math.sqrt(1-(t-1)*(t-1))},inOutCirc:function(t){return(t*=2)<1?.5-.5*Math.sqrt(1-t*t):.5+.5*Math.sqrt(1-(t-=2)*t)}},gf={};function yf(t,e){var n=t%e;return n<0&&(n+=e),n}function wf(t){return t.reduce((function(t,e){return t+e}),0)}function bf(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function xf(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}function Af(t,e){return[0,2*Math.PI,2*-Math.PI].reduce((function(n,i){var r=e-t+i;return Math.abs(r)<Math.abs(n)?r:n}),1/0)}function _f(t,e){return Math.acos(Math.cos(t.pitch)*Math.cos(e.pitch)*Math.cos(t.yaw-e.yaw)+Math.sin(t.pitch)*Math.sin(e.pitch))}function kf(t,e){var n=Jh(t,2),i=n[0],r=n[1],a=Jh(e,2),o=a[0],s=a[1],l=(o-i)*Math.cos((r+s)/2),u=s-r;return Math.sqrt(l*l+u*u)}function Sf(t){return"string"===typeof t?t.match(/^[a-z]/i)?document.getElementById(t):document.querySelector(t):t}function Mf(t,e,n){void 0===n?t.classList.toggle(e):n?t.classList.add(e):n||t.classList.remove(e)}function Ef(t,e){var n;(n=t.classList).add.apply(n,Yh(e.split(" ")))}function Cf(t,e){var n;(n=t.classList).remove.apply(n,Yh(e.split(" ")))}function Pf(t,e){var n=t;do{if(n===e)return!0;n=n.parentElement}while(n);return!1}function Tf(t,e){if(null===t||void 0===t||!t.matches)return null;var n=t;do{if(n.matches(e))return n;n=n.parentElement}while(n);return null}function Lf(t){for(var e=0,n=0,i=t;i;)e+=i.offsetLeft-i.scrollLeft+i.clientLeft,n+=i.offsetTop-i.scrollTop+i.clientTop,i=i.offsetParent;return{x:e,y:n}}function Of(t,e){return window.getComputedStyle(t,null)[e]}function zf(t){if(t.touches.length<2)return null;var e={x:t.touches[0].clientX,y:t.touches[0].clientY},n={x:t.touches[1].clientX,y:t.touches[1].clientY};return{distance:bf(e,n),angle:xf(e,n),center:{x:(e.x+n.x)/2,y:(e.y+n.y)/2}}}function Rf(t){return(document.fullscreenElement||document.webkitFullscreenElement)===t}function Df(t){(t.requestFullscreen||t.webkitRequestFullscreen).call(t)}function If(){(document.exitFullscreen||document.webkitExitFullscreen).call(document)}function Bf(t){return t.replace(/[A-Z](?:(?=[^A-Z])|[A-Z]*(?=[A-Z][^A-Z]|$))/g,(function(t,e){return(e>0?"-":"")+t.toLowerCase()}))}function Nf(t,e){var n=!1;return function(){for(var i=this,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];n||(n=!0,setTimeout((function(){t.apply(i,a),n=!1}),e))}}function jf(t){if("object"!==Xh(t)||null===t||"[object Object]"!==Object.prototype.toString.call(t))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Ff(t,e){var n=e;return function t(e,i){return Array.isArray(i)?(e&&Array.isArray(e)?e.length=0:e=[],i.forEach((function(n,i){e[i]=t(null,n)}))):"object"===Xh(i)?(e&&!Array.isArray(e)||(e={}),Object.keys(i).forEach((function(r){"object"===Xh(i[r])&&i[r]&&jf(i[r])?i[r]!==n&&(e[r]?t(e[r],i[r]):e[r]=t(null,i[r])):e[r]=i[r]}))):e=i,e}(t,e)}function Uf(t){return Ff(null,t)}function Hf(t){return!t||0===Object.keys(t).length&&t.constructor===Object}function Vf(t){return null===t||void 0===t}function Gf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0,r=e;i<r.length;i++){var a=r[i];if(!Vf(a))return a}return null}function Wf(t,e){if(t===e)return!0;if(Qf(t)&&Qf(e)){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];if(!Wf(t[r],e[r]))return!1}return!0}return!1}function Qf(t){return"object"===Xh(t)&&null!==t}$h(gf,{Animation:function(){return vd},Dynamic:function(){return md},MultiDynamic:function(){return gd},PressHandler:function(){return yd},Slider:function(){return bd},SliderDirection:function(){return wd},addClasses:function(){return Ef},angle:function(){return xf},applyEulerInverse:function(){return dd},cleanCssPosition:function(){return sd},clone:function(){return Uf},createTexture:function(){return hd},cssPositionIsOrdered:function(){return ld},dasherize:function(){return Bf},deepEqual:function(){return Wf},deepmerge:function(){return Ff},distance:function(){return bf},exitFullscreen:function(){return If},firstNonNull:function(){return Gf},getAbortError:function(){return Zf},getAngle:function(){return _f},getClosest:function(){return Tf},getConfigParser:function(){return pd},getElement:function(){return Sf},getPosition:function(){return Lf},getShortestArc:function(){return Af},getStyle:function(){return Of},getTouchData:function(){return zf},getXMPValue:function(){return td},greatArcDistance:function(){return kf},hasParent:function(){return Pf},invertResolvableBoolean:function(){return Jf},isAbortError:function(){return qf},isEmpty:function(){return Hf},isExtendedPosition:function(){return $f},isFullscreenEnabled:function(){return Rf},isNil:function(){return Vf},isPlainObject:function(){return jf},logWarn:function(){return Kf},parseAngle:function(){return cd},parsePoint:function(){return od},parseSpeed:function(){return ud},removeClasses:function(){return Cf},requestFullscreen:function(){return Df},resolveBoolean:function(){return Yf},sum:function(){return wf},throttle:function(){return Nf},toggleClass:function(){return Mf},wrap:function(){return yf}});var Xf=function(t){jh(n,t);var e=Fh(n);function n(t){var i,r;return Nh(this,n),(r=e.call(this,t)).name="PSVError",null===(i=Error.captureStackTrace)||void 0===i||i.call(Error,Uh(r),n),r}return Ih(n)}(Hh(Error));function Yf(t,e){jf(t)?(e(t.initial,!0),t.promise.then((function(t){return e(t,!1)}))):e(t,!0)}function Jf(t){return{initial:!t.initial,promise:t.promise.then((function(t){return!t}))}}function Zf(){var t=new Error("Loading was aborted.");return t.name="AbortError",t}function qf(t){return"AbortError"===(null===t||void 0===t?void 0:t.name)}function Kf(t){console.warn("PhotoSphereViewer: ".concat(t))}function $f(t){return!!t&&[["textureX","textureY"],["yaw","pitch"]].some((function(e){var n=Jh(e,2),i=n[0],r=n[1];return void 0!==t[i]&&void 0!==t[r]}))}function td(t,e){var n=t.match("<GPano:"+e+">(.*)</GPano:"+e+">");if(null!==n){var i=parseInt(n[1],10);return isNaN(i)?null:i}if(null!==(n=t.match("GPano:"+e+'="(.*?)"'))){var r=parseInt(n[1],10);return isNaN(r)?null:r}return null}var ed={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},nd=["left","center","right"],id=["top","center","bottom"],rd=[].concat(nd,id),ad="center";function od(t){if(!t)return{x:.5,y:.5};if("object"===Xh(t))return t;var e=t.toLocaleLowerCase().split(" ").slice(0,2);1===e.length&&(e=ed[e[0]]?[e[0],ad]:[e[0],e[0]]);var n="left"!==e[1]&&"right"!==e[1]&&"top"!==e[0]&&"bottom"!==e[0];e=e.map((function(t){return ed[t]||t})),n||e.reverse();var i=e.join(" ").match(/^([0-9.]+)% ([0-9.]+)%$/);return i?{x:parseFloat(i[1])/100,y:parseFloat(i[2])/100}:{x:.5,y:.5}}function sd(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{allowCenter:!0,cssOrder:!0},n=e.allowCenter,i=e.cssOrder;return t?("string"===typeof t&&(t=t.split(" ")),1===t.length&&(t[0]===ad?t=[ad,ad]:-1!==nd.indexOf(t[0])?t=[ad,t[0]]:-1!==id.indexOf(t[0])&&(t=[t[0],ad])),2!==t.length||-1===rd.indexOf(t[0])||-1===rd.indexOf(t[1])?(Kf("Unparsable position ".concat(t)),null):n||t[0]!==ad||t[1]!==ad?(i&&!ld(t)&&(t=[t[1],t[0]]),t[1]===ad&&-1!==nd.indexOf(t[0])&&(t=[ad,t[0]]),t[0]===ad&&-1!==id.indexOf(t[1])&&(t=[t[1],ad]),t):(Kf("Invalid position center center"),null)):null}function ld(t){return-1!==id.indexOf(t[0])&&-1!==nd.indexOf(t[1])}function ud(t){var e;if("string"===typeof t){var n=t.toString().trim(),i=parseFloat(n.replace(/^(-?[0-9]+(?:\.[0-9]*)?).*$/,"$1")),r=n.replace(/^-?[0-9]+(?:\.[0-9]*)?(.*)$/,"$1").trim();switch(r.match(/(pm|per minute)$/)&&(i/=60),r){case"dpm":case"degrees per minute":case"dps":case"degrees per second":e=Va.degToRad(i);break;case"rdpm":case"radians per minute":case"rdps":case"radians per second":e=i;break;case"rpm":case"revolutions per minute":case"rps":case"revolutions per second":e=i*Math.PI*2;break;default:throw new Xf('Unknown speed unit "'.concat(r,'"'))}}else e=t;return e}function cd(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;if("string"===typeof t){var r=t.toLowerCase().trim().match(/^(-?[0-9]+(?:\.[0-9]*)?)(.*)$/);if(!r)throw new Xf('Unknown angle "'.concat(t,'"'));var a=parseFloat(r[1]),o=r[2];if(o)switch(o){case"deg":case"degs":e=Va.degToRad(a);break;case"rad":case"rads":e=a;break;default:throw new Xf('Unknown angle unit "'.concat(o,'"'))}else e=a}else{if("number"!==typeof t||isNaN(t))throw new Xf('Unknown angle "'.concat(t,'"'));e=t}return e=yf(n?e+Math.PI:e,2*Math.PI),n?Va.clamp(e-Math.PI,-Math.PI/(i?2:1),Math.PI/(i?2:1)):e}function hd(t){var e=new fo(t);return e.needsUpdate=!0,e.minFilter=yr,e.generateMipmaps=!1,e}var fd=new Ja;function dd(t,e){fd.setFromEuler(e).invert(),t.applyQuaternion(fd)}function pd(t,e){var n=function(n){if(!n)return Uf(t);for(var i=Uf(zh(zh({},t),n)),r={},a=0,o=Object.entries(i);a<o.length;a++){var s=Jh(o[a],2),l=s[0],u=s[1];if(e&&l in e)u=e[l](u,{rawConfig:i,defValue:t[l]});else if(!(l in t)){Kf("Unknown option ".concat(l));continue}r[l]=u}return r};return n.defaults=t,n.parsers=e||{},n}var vd=function(){function t(e){var n=this;Nh(this,t),this.easing=mf.linear,this.callbacks=[],this.resolved=!1,this.cancelled=!1,this.options=e,e?(e.easing&&(this.easing="function"===typeof e.easing?e.easing:mf[e.easing]||mf.linear),this.delayTimeout=setTimeout((function(){n.delayTimeout=void 0,n.animationFrame=window.requestAnimationFrame((function(t){return n.__run(t)}))}),e.delay||0)):this.resolved=!0}return Ih(t,[{key:"__run",value:function(t){var e=this;if(!this.cancelled){this.start||(this.start=t);var n=(t-this.start)/this.options.duration,i={};if(n<1){for(var r=0,a=Object.entries(this.options.properties);r<a.length;r++){var o=Jh(a[r],2),s=o[0],l=o[1];if(l){var u=l.start+(l.end-l.start)*this.easing(n);i[s]=u}}this.options.onTick(i,n),this.animationFrame=window.requestAnimationFrame((function(t){return e.__run(t)}))}else{for(var c=0,h=Object.entries(this.options.properties);c<h.length;c++){var f=Jh(h[c],2),d=f[0],p=f[1];p&&(i[d]=p.end)}this.options.onTick(i,1),this.__resolve(!0),this.animationFrame=void 0}}}},{key:"__resolve",value:function(t){t?this.resolved=!0:this.cancelled=!0,this.callbacks.forEach((function(e){return e(t)})),this.callbacks.length=0}},{key:"then",value:function(t){var e=this;return this.resolved||this.cancelled?Promise.resolve(this.resolved).then(t):new Promise((function(t){e.callbacks.push(t)})).then(t)}},{key:"cancel",value:function(){this.cancelled||this.resolved||(this.__resolve(!1),this.delayTimeout&&(window.clearTimeout(this.delayTimeout),this.delayTimeout=void 0),this.animationFrame&&(window.cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0))}}]),t}(),md=function(){function t(e,n){if(Nh(this,t),this.fn=e,this.mode=0,this.speed=0,this.speedMult=0,this.currentSpeed=0,this.target=0,this.__current=0,this.min=n.min,this.max=n.max,this.wrap=n.wrap,this.current=n.defaultValue,this.wrap&&0!==this.min)throw new Xf("invalid config");this.fn&&this.fn(this.current)}return Ih(t,[{key:"current",get:function(){return this.__current},set:function(t){this.__current=t}},{key:"setSpeed",value:function(t){this.speed=t}},{key:"goto",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.mode=2,this.target=this.wrap?yf(t,this.max):Va.clamp(t,this.min,this.max),this.speedMult=e}},{key:"step",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;0===e?this.setValue(this.current+t):(2!==this.mode&&(this.target=this.current),this.goto(this.target+t,e))}},{key:"roll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.mode=1,this.target=t?-1/0:1/0,this.speedMult=e}},{key:"stop",value:function(){this.mode=0}},{key:"setValue",value:function(t){return this.target=this.wrap?yf(t,this.max):Va.clamp(t,this.min,this.max),this.mode=0,this.currentSpeed=0,this.target!==this.current&&(this.current=this.target,this.fn&&this.fn(this.current),!0)}},{key:"update",value:function(t){if(2===this.mode){this.wrap&&Math.abs(this.target-this.current)>this.max/2&&(this.current=this.current<this.target?this.current+this.max:this.current-this.max);var e=this.currentSpeed*this.currentSpeed/(this.speed*this.speedMult*4);Math.abs(this.target-this.current)<=e&&(this.mode=0)}var n=0===this.mode?0:this.speed*this.speedMult;this.target<this.current&&(n=-n),this.currentSpeed<n?this.currentSpeed=Math.min(n,this.currentSpeed+t/1e3*this.speed*this.speedMult*2):this.currentSpeed>n&&(this.currentSpeed=Math.max(n,this.currentSpeed-t/1e3*this.speed*this.speedMult*2));var i=null;return this.current>this.target&&this.currentSpeed?i=Math.max(this.target,this.current+this.currentSpeed*t/1e3):this.current<this.target&&this.currentSpeed&&(i=Math.min(this.target,this.current+this.currentSpeed*t/1e3)),null!==i&&(i=this.wrap?yf(i,this.max):Va.clamp(i,this.min,this.max))!==this.current&&(this.current=i,this.fn&&this.fn(this.current),!0)}}]),t}(),gd=function(){function t(e,n){Nh(this,t),this.fn=e,this.dynamics=n,this.fn&&this.fn(this.current)}return Ih(t,[{key:"current",get:function(){return Object.entries(this.dynamics).reduce((function(t,e){var n=Jh(e,2),i=n[0],r=n[1];return t[i]=r.current,t}),{})}},{key:"setSpeed",value:function(t){for(var e=0,n=Object.values(this.dynamics);e<n.length;e++){n[e].setSpeed(t)}}},{key:"goto",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,i=Object.entries(t);n<i.length;n++){var r=Jh(i[n],2),a=r[0],o=r[1];this.dynamics[a].goto(o,e)}}},{key:"step",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(0===n)this.setValue(Object.keys(t).reduce((function(n,i){return n[i]=t[i]+e.dynamics[i].current,n}),{}));else for(var i=0,r=Object.entries(t);i<r.length;i++){var a=Jh(r[i],2),o=a[0],s=a[1];this.dynamics[o].step(s,n)}}},{key:"roll",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,i=Object.entries(t);n<i.length;n++){var r=Jh(i[n],2),a=r[0],o=r[1];this.dynamics[a].roll(o,e)}}},{key:"stop",value:function(){for(var t=0,e=Object.values(this.dynamics);t<e.length;t++){e[t].stop()}}},{key:"setValue",value:function(t){for(var e=!1,n=0,i=Object.entries(t);n<i.length;n++){var r=Jh(i[n],2),a=r[0],o=r[1];e=this.dynamics[a].setValue(o)||e}return e&&this.fn&&this.fn(this.current),e}},{key:"update",value:function(t){for(var e=!1,n=0,i=Object.values(this.dynamics);n<i.length;n++){e=i[n].update(t)||e}return e&&this.fn&&this.fn(this.current),e}}]),t}(),yd=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;Nh(this,t),this.delay=e,this.time=0,this.delay=e}return Ih(t,[{key:"pending",get:function(){return 0!==this.time}},{key:"down",value:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0),this.time=(new Date).getTime()}},{key:"up",value:function(t){var e=this;this.time&&(Date.now()-this.time<this.delay?this.timeout=setTimeout((function(){t(),e.timeout=void 0,e.time=0}),this.delay):(t(),this.time=0))}}]),t}(),wd=function(t){return t.VERTICAL="VERTICAL",t.HORIZONTAL="HORIZONTAL",t}(wd||{}),bd=function(){function t(e,n,i){Nh(this,t),this.container=e,this.direction=n,this.listener=i,this.mousedown=!1,this.mouseover=!1,this.container.addEventListener("click",this),this.container.addEventListener("mousedown",this),this.container.addEventListener("mouseenter",this),this.container.addEventListener("mouseleave",this),this.container.addEventListener("touchstart",this),this.container.addEventListener("mousemove",this,!0),this.container.addEventListener("touchmove",this,!0),window.addEventListener("mouseup",this),window.addEventListener("touchend",this)}return Ih(t,[{key:"isVertical",get:function(){return"VERTICAL"===this.direction}},{key:"isHorizontal",get:function(){return"HORIZONTAL"===this.direction}},{key:"destroy",value:function(){window.removeEventListener("mouseup",this),window.removeEventListener("touchend",this)}},{key:"handleEvent",value:function(t){switch(t.type){case"click":t.stopPropagation();break;case"mousedown":this.__onMouseDown(t);break;case"mouseenter":this.__onMouseEnter(t);break;case"mouseleave":this.__onMouseLeave(t);break;case"touchstart":this.__onTouchStart(t);break;case"mousemove":this.__onMouseMove(t);break;case"touchmove":this.__onTouchMove(t);break;case"mouseup":this.__onMouseUp(t);break;case"touchend":this.__onTouchEnd(t)}}},{key:"__onMouseDown",value:function(t){this.mousedown=!0,this.__update(t.clientX,t.clientY,!0)}},{key:"__onMouseEnter",value:function(t){this.mouseover=!0,this.__update(t.clientX,t.clientY,!0)}},{key:"__onTouchStart",value:function(t){this.mouseover=!0,this.mousedown=!0;var e=t.changedTouches[0];this.__update(e.clientX,e.clientY,!0)}},{key:"__onMouseMove",value:function(t){(this.mousedown||this.mouseover)&&(t.stopPropagation(),this.__update(t.clientX,t.clientY,!0))}},{key:"__onTouchMove",value:function(t){if(this.mousedown||this.mouseover){t.stopPropagation();var e=t.changedTouches[0];this.__update(e.clientX,e.clientY,!0)}}},{key:"__onMouseUp",value:function(t){this.mousedown&&(this.mousedown=!1,this.__update(t.clientX,t.clientY,!1))}},{key:"__onMouseLeave",value:function(t){this.mouseover&&(this.mouseover=!1,this.__update(t.clientX,t.clientY,!0))}},{key:"__onTouchEnd",value:function(t){if(this.mousedown){this.mouseover=!1,this.mousedown=!1;var e=t.changedTouches[0];this.__update(e.clientX,e.clientY,!1)}}},{key:"__update",value:function(t,e,n){var i=this.container.getBoundingClientRect(),r=this.isVertical?e:t,a=i[this.isVertical?"bottom":"left"],o=i[this.isVertical?"height":"width"],s=Math.abs((a-r)/o);this.listener({value:s,click:!n,mousedown:this.mousedown,mouseover:this.mouseover,cursor:{clientX:t,clientY:e}})}}]),t}(),xd={};$h(xd,{BeforeAnimateEvent:function(){return Sd},BeforeRenderEvent:function(){return Md},BeforeRotateEvent:function(){return Ed},ClickEvent:function(){return Cd},ConfigChangedEvent:function(){return Td},DoubleClickEvent:function(){return Ld},FullscreenEvent:function(){return Od},HideNotificationEvent:function(){return zd},HideOverlayEvent:function(){return Rd},HidePanelEvent:function(){return Dd},HideTooltipEvent:function(){return Id},KeypressEvent:function(){return Bd},LoadProgressEvent:function(){return Nd},ObjectEnterEvent:function(){return qd},ObjectEvent:function(){return Zd},ObjectHoverEvent:function(){return $d},ObjectLeaveEvent:function(){return Kd},PanoramaLoadedEvent:function(){return jd},PositionUpdatedEvent:function(){return Fd},ReadyEvent:function(){return Ud},RenderEvent:function(){return Hd},ShowNotificationEvent:function(){return Vd},ShowOverlayEvent:function(){return Gd},ShowPanelEvent:function(){return Wd},ShowTooltipEvent:function(){return Qd},SizeUpdatedEvent:function(){return Xd},StopAllEvent:function(){return Yd},ViewerEvent:function(){return kd},ZoomUpdatedEvent:function(){return Jd}});var Ad=function(t){jh(n,t);var e=Fh(n);function n(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Nh(this,n),e.call(this,t,{cancelable:i})}return Ih(n)}(Hh(Event)),_d=function(t){jh(n,t);var e=Fh(n);function n(){return Nh(this,n),e.apply(this,arguments)}return Ih(n,[{key:"dispatchEvent",value:function(t){return Lh(Qh(n.prototype),"dispatchEvent",this).call(this,t)}},{key:"addEventListener",value:function(t,e,i){Lh(Qh(n.prototype),"addEventListener",this).call(this,t,e,i)}},{key:"removeEventListener",value:function(t,e,i){Lh(Qh(n.prototype),"removeEventListener",this).call(this,t,e,i)}}]),n}(Hh(EventTarget)),kd=function(t){jh(n,t);var e=Fh(n);function n(){return Nh(this,n),e.apply(this,arguments)}return Ih(n)}(Ad),Sd=function(t){jh(n,t);var e=Fh(n);function n(t,i){var r;return Nh(this,n),(r=e.call(this,n.type,!0)).position=t,r.zoomLevel=i,r}return Ih(n)}(kd);Sd.type="before-animate";var Md=function(t){jh(n,t);var e=Fh(n);function n(t,i){var r;return Nh(this,n),(r=e.call(this,n.type)).timestamp=t,r.elapsed=i,r}return Ih(n)}(kd);Md.type="before-render";var Ed=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,n.type,!0)).position=t,i}return Ih(n)}(kd);Ed.type="before-rotate";var Cd=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,n.type)).data=t,i}return Ih(n)}(kd);Cd.type="click";var Pd=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,n.type)).options=t,i}return Ih(n,[{key:"containsOptions",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.some((function(e){return t.options.includes(e)}))}}]),n}(kd),Td=Pd;Td.type="config-changed";var Ld=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,n.type)).data=t,i}return Ih(n)}(kd);Ld.type="dblclick";var Od=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,n.type)).fullscreenEnabled=t,i}return Ih(n)}(kd);Od.type="fullscreen";var zd=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,n.type)).notificationId=t,i}return Ih(n)}(kd);zd.type="hide-notification";var Rd=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,n.type)).overlayId=t,i}return Ih(n)}(kd);Rd.type="hide-overlay";var Dd=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,n.type)).panelId=t,i}return Ih(n)}(kd);Dd.type="hide-panel";var Id=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,n.type)).tooltipData=t,i}return Ih(n)}(kd);Id.type="hide-tooltip";var Bd=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,n.type,!0)).key=t,i}return Ih(n)}(kd);Bd.type="key-press";var Nd=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,n.type)).progress=t,i}return Ih(n)}(kd);Nd.type="load-progress";var jd=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,n.type)).data=t,i}return Ih(n)}(kd);jd.type="panorama-loaded";var Fd=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,n.type)).position=t,i}return Ih(n)}(kd);Fd.type="position-updated";var Ud=function(t){jh(n,t);var e=Fh(n);function n(){return Nh(this,n),e.call(this,n.type)}return Ih(n)}(kd);Ud.type="ready";var Hd=function(t){jh(n,t);var e=Fh(n);function n(){return Nh(this,n),e.call(this,n.type)}return Ih(n)}(kd);Hd.type="render";var Vd=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,n.type)).notificationId=t,i}return Ih(n)}(kd);Vd.type="show-notification";var Gd=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,n.type)).overlayId=t,i}return Ih(n)}(kd);Gd.type="show-overlay";var Wd=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,n.type)).panelId=t,i}return Ih(n)}(kd);Wd.type="show-panel";var Qd=function(t){jh(n,t);var e=Fh(n);function n(t,i){var r;return Nh(this,n),(r=e.call(this,n.type)).tooltip=t,r.tooltipData=i,r}return Ih(n)}(kd);Qd.type="show-tooltip";var Xd=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,n.type)).size=t,i}return Ih(n)}(kd);Xd.type="size-updated";var Yd=function(t){jh(n,t);var e=Fh(n);function n(){return Nh(this,n),e.call(this,n.type)}return Ih(n)}(kd);Yd.type="stop-all";var Jd=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,n.type)).zoomLevel=t,i}return Ih(n)}(kd);Jd.type="zoom-updated";var Zd=function(t){jh(n,t);var e=Fh(n);function n(t,i,r,a,o){var s;return Nh(this,n),(s=e.call(this,t)).originalEvent=i,s.object=r,s.viewerPoint=a,s.userDataKey=o,s}return Ih(n)}(kd),qd=function(t){jh(n,t);var e=Fh(n);function n(t,i,r,a){return Nh(this,n),e.call(this,n.type,t,i,r,a)}return Ih(n)}(Zd);qd.type="enter-object";var Kd=function(t){jh(n,t);var e=Fh(n);function n(t,i,r,a){return Nh(this,n),e.call(this,n.type,t,i,r,a)}return Ih(n)}(Zd);Kd.type="leave-object";var $d=function(t){jh(n,t);var e=Fh(n);function n(t,i,r,a){return Nh(this,n),e.call(this,n.type,t,i,r,a)}return Ih(n)}(Zd);$d.type="hover-object";var tp=function(){function t(e){Nh(this,t),this.viewer=e}return Ih(t,[{key:"destroy",value:function(){}},{key:"supportsTransition",value:function(t){return!1}},{key:"supportsPreload",value:function(t){return!1}}],[{key:"createOverlayMaterial",value:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.additionalUniforms,r=n.overrideVertexShader;return new yl({uniforms:zh(zh({},i),{},(e={},Rh(e,t.OVERLAY_UNIFORMS.panorama,{value:new fo}),Rh(e,t.OVERLAY_UNIFORMS.overlay,{value:new fo}),Rh(e,t.OVERLAY_UNIFORMS.globalOpacity,{value:1}),Rh(e,t.OVERLAY_UNIFORMS.overlayOpacity,{value:1}),e)),vertexShader:r||"\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix *  modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"\nuniform sampler2D ".concat(t.OVERLAY_UNIFORMS.panorama,";\nuniform sampler2D ").concat(t.OVERLAY_UNIFORMS.overlay,";\nuniform float ").concat(t.OVERLAY_UNIFORMS.globalOpacity,";\nuniform float ").concat(t.OVERLAY_UNIFORMS.overlayOpacity,";\n\nvarying vec2 vUv;\n\nvoid main() {\n  vec4 tColor1 = texture2D( ").concat(t.OVERLAY_UNIFORMS.panorama,", vUv );\n  vec4 tColor2 = texture2D( ").concat(t.OVERLAY_UNIFORMS.overlay,", vUv );\n  gl_FragColor = vec4(\n    mix( tColor1.rgb, tColor2.rgb, tColor2.a * ").concat(t.OVERLAY_UNIFORMS.overlayOpacity," ),\n    ").concat(t.OVERLAY_UNIFORMS.globalOpacity,"\n  );\n}")})}}]),t}(),ep=tp;function np(t){if(t)for(var e=0,n=[["_",t]].concat(Yh(Object.entries(t)));e<n.length;e++){var i=Jh(n[e],2)[1];if(i.prototype instanceof ep)return i}return null}ep.supportsDownload=!1,ep.supportsOverlay=!1,ep.OVERLAY_UNIFORMS={panorama:"panorama",overlay:"overlay",globalOpacity:"globalOpacity",overlayOpacity:"overlayOpacity"};var ip="".concat(hf,"_touchSupport"),rp={loaded:!1,pixelRatio:1,isWebGLSupported:!1,maxTextureWidth:0,isTouchEnabled:null,fullscreenEvent:null,__maxCanvasWidth:null,get maxCanvasWidth(){return null===this.__maxCanvasWidth&&(this.__maxCanvasWidth=function(t){var e=document.createElement("canvas"),n=e.getContext("2d");e.width=t,e.height=t/2;for(;e.width>1024;){n.fillStyle="white",n.fillRect(0,0,1,1);try{if(n.getImageData(0,0,1,1).data[0]>0)return e.width}catch(i){}e.width/=2,e.height/=2}throw new Xf("Unable to detect system capabilities")}(this.maxTextureWidth)),this.__maxCanvasWidth},load:function(){if(!this.loaded){var t=function(){var t=document.createElement("canvas"),e=["webgl2","webgl","experimental-webgl","moz-webgl","webkit-3d"],n=null;if(!t.getContext)return null;return e.some((function(e){try{return null!==(n=t.getContext(e))}catch(i){return!1}}))?n:null}();this.pixelRatio=window.devicePixelRatio||1,this.isWebGLSupported=null!==t,this.maxTextureWidth=t?t.getParameter(t.MAX_TEXTURE_SIZE):0,this.isTouchEnabled=function(){var t="ontouchstart"in window||navigator.maxTouchPoints>0;ip in localStorage&&(t="true"===localStorage[ip]);var e=new Promise((function(e){var n=function(){window.removeEventListener("mousedown",i),window.removeEventListener("touchstart",r),clearTimeout(o)},i=function(){n(),localStorage[ip]=!1,e(!1)},r=function(){n(),localStorage[ip]=!0,e(!0)},a=function(){n(),localStorage[ip]=t,e(t)};window.addEventListener("mousedown",i,!1),window.addEventListener("touchstart",r,!1);var o=setTimeout(a,1e4)}));return{initial:t,promise:e}}(),this.fullscreenEvent=function(){if("exitFullscreen"in document)return"fullscreenchange";if("webkitExitFullscreen"in document)return"webkitfullscreenchange";return null}(),this.loaded=!0}if(!rp.isWebGLSupported)throw new Xf("WebGL is not supported.");if(0===rp.maxTextureWidth)throw new Xf("Unable to detect system capabilities")}};var ap=pd({resolution:64,blur:!1},{resolution:function(t){if(!t||!Va.isPowerOfTwo(t))throw new Xf("EquirectangularAdapter resolution must be power of two");return t}}),op=function(t){jh(n,t);var e=Fh(n);function n(t,i){var r;return Nh(this,n),(r=e.call(this,t)).config=ap(i),r.SPHERE_SEGMENTS=r.config.resolution,r.SPHERE_HORIZONTAL_SEGMENTS=r.SPHERE_SEGMENTS/2,r}return Ih(n,[{key:"supportsTransition",value:function(){return!0}},{key:"supportsPreload",value:function(){return!0}},{key:"loadTexture",value:function(){var t=Th(Ch().mark((function t(e,n){var i,r,a,o,s,l,u,c,h,f,d,p,v,m,g,y,w,b,x,A,_,k,S,M=this,E=arguments;return Ch().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x=E.length>2&&void 0!==E[2]?E[2]:this.viewer.config.useXmpData,"string"===typeof e){t.next=3;break}return t.abrupt("return",Promise.reject(new Xf("Invalid panorama url, are you using the right adapter?")));case 3:if(!x){t.next=12;break}return t.next=6,this.loadXMP(e,(function(t){return M.viewer.loader.setProgress(t)}));case 6:return _=t.sent,t.next=9,this.viewer.textureLoader.loadImage(e);case 9:A=t.sent,t.next=15;break;case 12:return t.next=14,this.viewer.textureLoader.loadImage(e,(function(t){return M.viewer.loader.setProgress(t)}));case 14:A=t.sent;case 15:return"function"===typeof n&&(n=n(A)),(k={fullWidth:Gf(null===(i=n)||void 0===i?void 0:i.fullWidth,null===(r=_)||void 0===r?void 0:r.fullWidth,A.width),fullHeight:Gf(null===(a=n)||void 0===a?void 0:a.fullHeight,null===(o=_)||void 0===o?void 0:o.fullHeight,A.height),croppedWidth:Gf(null===(s=n)||void 0===s?void 0:s.croppedWidth,null===(l=_)||void 0===l?void 0:l.croppedWidth,A.width),croppedHeight:Gf(null===(u=n)||void 0===u?void 0:u.croppedHeight,null===(c=_)||void 0===c?void 0:c.croppedHeight,A.height),croppedX:Gf(null===(h=n)||void 0===h?void 0:h.croppedX,null===(f=_)||void 0===f?void 0:f.croppedX,0),croppedY:Gf(null===(d=n)||void 0===d?void 0:d.croppedY,null===(p=_)||void 0===p?void 0:p.croppedY,0),poseHeading:Gf(null===(v=n)||void 0===v?void 0:v.poseHeading,null===(m=_)||void 0===m?void 0:m.poseHeading,0),posePitch:Gf(null===(g=n)||void 0===g?void 0:g.posePitch,null===(y=_)||void 0===y?void 0:y.posePitch,0),poseRoll:Gf(null===(w=n)||void 0===w?void 0:w.poseRoll,null===(b=_)||void 0===b?void 0:b.poseRoll,0)}).croppedWidth===A.width&&k.croppedHeight===A.height||Kf("Invalid panoData, croppedWidth and/or croppedHeight is not coherent with loaded image.\n              panoData: ".concat(k.croppedWidth,"x").concat(k.croppedHeight,", image: ").concat(A.width,"x").concat(A.height)),(n||_)&&k.fullWidth!==2*k.fullHeight&&Kf("Invalid panoData, fullWidth should be twice fullHeight"),S=this.createEquirectangularTexture(A,k),t.abrupt("return",{panorama:e,texture:S,panoData:k});case 21:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"loadXMP",value:function(){var t=Th(Ch().mark((function t(e,n){var i,r,a,o,s;return Ch().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.viewer.textureLoader.loadFile(e,n);case 2:return i=t.sent,t.next=5,this.loadBlobAsString(i);case 5:if(r=t.sent,a=r.indexOf("<x:xmpmeta"),o=r.indexOf("</x:xmpmeta>"),s=r.substring(a,o),-1===a||-1===o||!s.includes("GPano:")){t.next=11;break}return t.abrupt("return",{fullWidth:td(s,"FullPanoWidthPixels"),fullHeight:td(s,"FullPanoHeightPixels"),croppedWidth:td(s,"CroppedAreaImageWidthPixels"),croppedHeight:td(s,"CroppedAreaImageHeightPixels"),croppedX:td(s,"CroppedAreaLeftPixels"),croppedY:td(s,"CroppedAreaTopPixels"),poseHeading:td(s,"PoseHeadingDegrees"),posePitch:td(s,"PosePitchDegrees"),poseRoll:td(s,"PoseRollDegrees")});case 11:return t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"loadBlobAsString",value:function(t){return new Promise((function(e,n){var i=new FileReader;i.onload=function(){return e(i.result)},i.onerror=n,i.readAsText(t)}))}},{key:"createEquirectangularTexture",value:function(t,e){if(this.config.blur||e.fullWidth>rp.maxTextureWidth||e.croppedWidth!==e.fullWidth||e.croppedHeight!==e.fullHeight){var n=Math.min(1,rp.maxCanvasWidth/e.fullWidth),i={fullWidth:e.fullWidth*n,fullHeight:e.fullHeight*n,croppedWidth:e.croppedWidth*n,croppedHeight:e.croppedHeight*n,croppedX:e.croppedX*n,croppedY:e.croppedY*n},r=document.createElement("canvas");r.width=i.fullWidth,r.height=i.fullHeight;var a=r.getContext("2d");return this.config.blur&&(a.filter="blur(1px)"),a.drawImage(t,i.croppedX,i.croppedY,i.croppedWidth,i.croppedHeight),hd(r)}return hd(t)}},{key:"createMesh",value:function(){var t=new yh(cf*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),this.SPHERE_SEGMENTS,this.SPHERE_HORIZONTAL_SEGMENTS,-Math.PI/2).scale(-1,1,1),e=ep.createOverlayMaterial();return new hl(t,e)}},{key:"setTexture",value:function(t,e){this.__setUniform(t,ep.OVERLAY_UNIFORMS.panorama,e.texture),this.setOverlay(t,null,1)}},{key:"setOverlay",value:function(t,e,n){this.__setUniform(t,ep.OVERLAY_UNIFORMS.overlayOpacity,n),e?this.__setUniform(t,ep.OVERLAY_UNIFORMS.overlay,e.texture):this.__setUniform(t,ep.OVERLAY_UNIFORMS.overlay,new fo)}},{key:"setTextureOpacity",value:function(t,e){this.__setUniform(t,ep.OVERLAY_UNIFORMS.globalOpacity,e),t.material.transparent=e<1}},{key:"disposeTexture",value:function(t){var e;null===(e=t.texture)||void 0===e||e.dispose()}},{key:"__setUniform",value:function(t,e,n){t.material.uniforms[e].value instanceof fo&&t.material.uniforms[e].value.dispose(),t.material.uniforms[e].value=n}}]),n}(ep);op.id="equirectangular",op.supportsDownload=!0,op.supportsOverlay=!0;var sp=function(){function t(e,n){Nh(this,t),this.parent=e,this.children=[],this.container=document.createElement("div"),this.state={visible:!0},this.viewer=e instanceof t?e.viewer:e,this.container.className=n.className||"",this.parent.children.push(this),this.parent.container.appendChild(this.container)}return Ih(t,[{key:"destroy",value:function(){this.parent.container.removeChild(this.container);var t=this.parent.children.indexOf(this);-1!==t&&this.parent.children.splice(t,1),this.children.slice().forEach((function(t){return t.destroy()})),this.children.length=0}},{key:"toggle",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.isVisible())?this.show():this.hide()}},{key:"hide",value:function(t){this.container.style.display="none",this.state.visible=!1}},{key:"show",value:function(t){this.container.style.display="",this.state.visible=!0}},{key:"isVisible",value:function(){return this.state.visible}}]),t}(),lp=pd({id:null,className:null,title:null,hoverScale:!1,collapsable:!1,tabbable:!0,icon:null,iconActive:null}),up=function(t){jh(n,t);var e=Fh(n);function n(t,i){var r;return Nh(this,n),(r=e.call(this,t,{className:"psv-button ".concat(i.hoverScale?"psv-button--hover-scale":""," ").concat(i.className||"")})).state={visible:!0,enabled:!0,supported:!0,collapsed:!1,active:!1,width:0},r.config=lp(i),r.config.id=r.constructor.id,i.icon&&r.__setIcon(i.icon),r.state.width=r.container.offsetWidth,r.config.title?r.container.title=r.config.title:r.id&&r.id in r.viewer.config.lang&&(r.container.title=r.viewer.config.lang[r.id]),i.tabbable&&(r.container.tabIndex=0),r.container.addEventListener("click",(function(t){r.state.enabled&&r.onClick(),t.stopPropagation()})),r.container.addEventListener("keydown",(function(t){t.key===pf.Enter&&r.state.enabled&&(r.onClick(),t.stopPropagation())})),r}return Ih(n,[{key:"id",get:function(){return this.config.id}},{key:"title",get:function(){return this.container.title}},{key:"content",get:function(){return this.container.innerHTML}},{key:"width",get:function(){return this.state.width}},{key:"collapsable",get:function(){return this.config.collapsable}},{key:"show",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isVisible()||(this.state.visible=!0,this.state.collapsed||(this.container.style.display=""),t&&this.viewer.navbar.autoSize())}},{key:"hide",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isVisible()&&(this.state.visible=!1,this.container.style.display="none",t&&this.viewer.navbar.autoSize())}},{key:"checkSupported",value:function(){var t=this;Yf(this.isSupported(),(function(e,n){t.state&&(t.state.supported=e,n?e||t.hide():t.toggle(e))}))}},{key:"autoSize",value:function(){}},{key:"isSupported",value:function(){return!0}},{key:"toggleActive",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.state.active;t!==this.state.active&&(this.state.active=t,Mf(this.container,"psv-button--active",this.state.active),this.config.iconActive&&this.__setIcon(this.state.active?this.config.iconActive:this.config.icon))}},{key:"disable",value:function(){this.container.classList.add("psv-button--disabled"),this.state.enabled=!1}},{key:"enable",value:function(){this.container.classList.remove("psv-button--disabled"),this.state.enabled=!0}},{key:"collapse",value:function(){this.state.collapsed=!0,this.container.style.display="none"}},{key:"uncollapse",value:function(){this.state.collapsed=!1,this.state.visible&&(this.container.style.display="")}},{key:"__setIcon",value:function(t){this.container.innerHTML=t,Ef(this.container.querySelector("svg"),"psv-button-svg")}}]),n}(sp),cp=function(t){jh(n,t);var e=Fh(n);function n(t,i){var r;return Nh(this,n),(r=e.call(this,t,{className:"psv-custom-button ".concat(i.className||""),hoverScale:!1,collapsable:!1!==i.collapsable,tabbable:!1!==i.tabbable,title:i.title})).customOnClick=i.onClick,i.id?r.config.id=i.id:r.config.id="psvButton-"+Math.random().toString(36).substring(2),i.content&&(r.container.innerHTML=i.content),r.state.width=r.container.offsetWidth,i.disabled&&r.disable(),!1===i.visible&&r.hide(),r}return Ih(n,[{key:"onClick",value:function(){var t;null===(t=this.customOnClick)||void 0===t||t.call(this,this.viewer)}}]),n}(up),hp=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,t,{className:"psv-description-button",hoverScale:!0,collapsable:!1,tabbable:!0,icon:vf.info})).mode=0,i.viewer.addEventListener(zd.type,Uh(i)),i.viewer.addEventListener(Vd.type,Uh(i)),i.viewer.addEventListener(Dd.type,Uh(i)),i.viewer.addEventListener(Wd.type,Uh(i)),i.viewer.addEventListener(Td.type,Uh(i)),i}return Ih(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(zd.type,this),this.viewer.removeEventListener(Vd.type,this),this.viewer.removeEventListener(Dd.type,this),this.viewer.removeEventListener(Wd.type,this),this.viewer.removeEventListener(Td.type,this),Lh(Qh(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){if(t instanceof Td)t.containsOptions("description")&&this.autoSize(!0);else if(this.mode){var e=!1;t instanceof zd?e=1===this.mode:t instanceof Vd?e=1===this.mode&&t.notificationId!==df.DESCRIPTION:t instanceof Dd?e=2===this.mode:t instanceof Wd&&(e=2===this.mode&&t.panelId!==df.DESCRIPTION),e&&(this.toggleActive(!1),this.mode=0)}}},{key:"onClick",value:function(){this.mode?this.__close():this.__open()}},{key:"hide",value:function(t){Lh(Qh(n.prototype),"hide",this).call(this,t),this.mode&&this.__close()}},{key:"autoSize",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]){var t=this.viewer.navbar.getButton("caption",!1),e=t&&!t.isVisible(),n=!!this.viewer.config.description;e||n?this.show(!1):this.hide(!1)}}},{key:"__close",value:function(){switch(this.mode){case 1:this.viewer.notification.hide(df.DESCRIPTION);break;case 2:this.viewer.panel.hide(df.DESCRIPTION)}}},{key:"__open",value:function(){this.toggleActive(!0),this.viewer.config.description?(this.mode=2,this.viewer.panel.show({id:df.DESCRIPTION,content:(this.viewer.config.caption?"<p>".concat(this.viewer.config.caption,"</p>"):"")+this.viewer.config.description})):(this.mode=1,this.viewer.notification.show({id:df.DESCRIPTION,content:this.viewer.config.caption}))}}]),n}(up);hp.id="description";var fp=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,t,{className:"psv-download-butto",hoverScale:!0,collapsable:!0,tabbable:!0,icon:vf.download})).viewer.addEventListener(Td.type,Uh(i)),i}return Ih(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(Td.type,this),Lh(Qh(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){t instanceof Td&&t.containsOptions("downloadUrl")&&this.checkSupported()}},{key:"onClick",value:function(){var t=this,e=document.createElement("a");e.href=this.viewer.config.downloadUrl||this.viewer.config.panorama,e.href.startsWith("data:")&&!this.viewer.config.downloadName?e.download="panorama."+e.href.substring(0,e.href.indexOf(";")).split("/").pop():e.download=this.viewer.config.downloadName||e.href.split("/").pop(),this.viewer.container.appendChild(e),e.click(),setTimeout((function(){t.viewer.container.removeChild(e)}),100)}},{key:"checkSupported",value:function(){this.viewer.adapter.constructor.supportsDownload||this.viewer.config.downloadUrl?this.show():this.hide()}}]),n}(up);fp.id="download";var dp=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,t,{className:"psv-fullscreen-button",hoverScale:!0,collapsable:!1,tabbable:!0,icon:vf.fullscreenIn,iconActive:vf.fullscreenOut})).viewer.addEventListener(Od.type,Uh(i)),i}return Ih(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(Od.type,this),Lh(Qh(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){t instanceof Od&&this.toggleActive(t.fullscreenEnabled)}},{key:"onClick",value:function(){this.viewer.toggleFullscreen()}}]),n}(up);dp.id="fullscreen";var pp=function(t){jh(n,t);var e=Fh(n);function n(t){var i,r;return Nh(this,n),(r=e.call(this,t,{className:"psv-menu-button",hoverScale:!0,collapsable:!1,tabbable:!0,icon:vf.menu})).viewer.addEventListener(Wd.type,Uh(r)),r.viewer.addEventListener(Dd.type,Uh(r)),Lh((i=Uh(r),Qh(n.prototype)),"hide",i).call(i),r}return Ih(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(Wd.type,this),this.viewer.removeEventListener(Dd.type,this),Lh(Qh(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){t instanceof Wd?this.toggleActive(t.panelId===df.MENU):t instanceof Dd&&this.toggleActive(!1)}},{key:"onClick",value:function(){this.state.active?this.__hideMenu():this.__showMenu()}},{key:"hide",value:function(t){Lh(Qh(n.prototype),"hide",this).call(this,t),this.__hideMenu()}},{key:"show",value:function(t){Lh(Qh(n.prototype),"show",this).call(this,t),this.state.active&&this.__showMenu()}},{key:"__showMenu",value:function(){var t,e,n=this;this.viewer.panel.show({id:df.MENU,content:(t=this.viewer.navbar.collapsed,e=this.viewer.config.lang.menu,'\n<div class="psv-panel-menu psv-panel-menu--stripped">\n  <h1 class="psv-panel-menu-title">'.concat(vf.menu," ").concat(e,'</h1>\n  <ul class="psv-panel-menu-list">\n    ').concat(t.map((function(t){return'\n    <li data-psv-button="'.concat(t.id,'" class="psv-panel-menu-item" tabindex="0">\n      <span class="psv-panel-menu-item-icon">').concat(t.content,'</span>\n      <span class="psv-panel-menu-item-label">').concat(t.title,"</span>\n    </li>\n    ")})).join(""),"\n  </ul>\n</div>\n")),noMargin:!0,clickHandler:function(t){var e=t?Tf(t,"li"):void 0,i=e?e.dataset.psvButton:void 0;i&&(n.viewer.navbar.getButton(i).onClick(),n.__hideMenu())}})}},{key:"__hideMenu",value:function(){this.viewer.panel.hide(df.MENU)}}]),n}(up);function vp(t){var e=0;switch(t){case 0:e=90;break;case 1:e=-90;break;case 3:e=180;break;default:e=0}return vf.arrow.replace("rotate(0","rotate(".concat(e))}pp.id="menu";var mp=function(t){jh(n,t);var e=Fh(n);function n(t,i){var r;return Nh(this,n),(r=e.call(this,t,{className:"psv-move-button",hoverScale:!0,collapsable:!1,tabbable:!0,icon:vp(i)})).direction=i,r.handler=new yd,r.container.addEventListener("mousedown",Uh(r)),r.container.addEventListener("keydown",Uh(r)),r.container.addEventListener("keyup",Uh(r)),r.viewer.container.addEventListener("mouseup",Uh(r)),r.viewer.container.addEventListener("touchend",Uh(r)),r}return Ih(n,[{key:"destroy",value:function(){this.__onMouseUp(),this.viewer.container.removeEventListener("mouseup",this),this.viewer.container.removeEventListener("touchend",this),Lh(Qh(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case"mousedown":this.__onMouseDown();break;case"mouseup":case"touchend":this.__onMouseUp();break;case"keydown":t.key===pf.Enter&&this.__onMouseDown();break;case"keyup":t.key===pf.Enter&&this.__onMouseUp()}}},{key:"onClick",value:function(){}},{key:"isSupported",value:function(){return Jf(rp.isTouchEnabled)}},{key:"__onMouseDown",value:function(){if(this.state.enabled){var t={};switch(this.direction){case 0:t.pitch=!1;break;case 1:t.pitch=!0;break;case 3:t.yaw=!1;break;default:t.yaw=!0}this.viewer.stopAll(),this.viewer.dynamics.position.roll(t),this.handler.down()}}},{key:"__onMouseUp",value:function(){var t=this;this.state.enabled&&this.handler.up((function(){t.viewer.dynamics.position.stop(),t.viewer.resetIdleTimer()}))}}]),n}(up);mp.groupId="move";var gp=function(t){jh(n,t);var e=Fh(n);function n(t){return Nh(this,n),e.call(this,t,1)}return Ih(n)}(mp);gp.id="moveDown";var yp=function(t){jh(n,t);var e=Fh(n);function n(t){return Nh(this,n),e.call(this,t,2)}return Ih(n)}(mp);yp.id="moveLeft";var wp=function(t){jh(n,t);var e=Fh(n);function n(t){return Nh(this,n),e.call(this,t,3)}return Ih(n)}(mp);wp.id="moveRight";var bp=function(t){jh(n,t);var e=Fh(n);function n(t){return Nh(this,n),e.call(this,t,0)}return Ih(n)}(mp);bp.id="moveUp";var xp=function(t){jh(n,t);var e=Fh(n);function n(t,i,r){var a;return Nh(this,n),(a=e.call(this,t,{className:"psv-zoom-button",hoverScale:!0,collapsable:!1,tabbable:!0,icon:r})).direction=i,a.handler=new yd,a.container.addEventListener("mousedown",Uh(a)),a.container.addEventListener("keydown",Uh(a)),a.container.addEventListener("keyup",Uh(a)),a.viewer.container.addEventListener("mouseup",Uh(a)),a.viewer.container.addEventListener("touchend",Uh(a)),a}return Ih(n,[{key:"destroy",value:function(){this.__onMouseUp(),this.viewer.container.removeEventListener("mouseup",this),this.viewer.container.removeEventListener("touchend",this),Lh(Qh(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case"mousedown":this.__onMouseDown();break;case"mouseup":case"touchend":this.__onMouseUp();break;case"keydown":t.key===pf.Enter&&this.__onMouseDown();break;case"keyup":t.key===pf.Enter&&this.__onMouseUp()}}},{key:"onClick",value:function(){}},{key:"isSupported",value:function(){return Jf(rp.isTouchEnabled)}},{key:"__onMouseDown",value:function(){this.state.enabled&&(this.viewer.dynamics.zoom.roll(1===this.direction),this.handler.down())}},{key:"__onMouseUp",value:function(){var t=this;this.state.enabled&&this.handler.up((function(){return t.viewer.dynamics.zoom.stop()}))}}]),n}(up);xp.groupId="zoom";var Ap=function(t){jh(n,t);var e=Fh(n);function n(t){return Nh(this,n),e.call(this,t,0,vf.zoomIn)}return Ih(n)}(xp);Ap.id="zoomIn";var _p=function(t){jh(n,t);var e=Fh(n);function n(t){return Nh(this,n),e.call(this,t,1,vf.zoomOut)}return Ih(n)}(xp);_p.id="zoomOut";var kp=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,t,{className:"psv-zoom-range",hoverScale:!1,collapsable:!1,tabbable:!1})).zoomRange=document.createElement("div"),i.zoomRange.className="psv-zoom-range-line",i.container.appendChild(i.zoomRange),i.zoomValue=document.createElement("div"),i.zoomValue.className="psv-zoom-range-handle",i.zoomRange.appendChild(i.zoomValue),i.slider=new bd(i.container,"HORIZONTAL",(function(t){return i.__onSliderUpdate(t)})),i.mediaMinWidth=parseInt(Of(i.container,"maxWidth"),10),i.viewer.addEventListener(Jd.type,Uh(i)),i.viewer.state.ready?i.__moveZoomValue(i.viewer.getZoomLevel()):i.viewer.addEventListener(Ud.type,Uh(i)),i}return Ih(n,[{key:"destroy",value:function(){this.slider.destroy(),this.viewer.removeEventListener(Jd.type,this),this.viewer.removeEventListener(Ud.type,this),Lh(Qh(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){t instanceof Jd?this.__moveZoomValue(t.zoomLevel):t instanceof Ud&&this.__moveZoomValue(this.viewer.getZoomLevel())}},{key:"onClick",value:function(){}},{key:"isSupported",value:function(){return Jf(rp.isTouchEnabled)}},{key:"autoSize",value:function(){this.state.supported&&(this.viewer.state.size.width<=this.mediaMinWidth&&this.state.visible?this.hide(!1):this.viewer.state.size.width>this.mediaMinWidth&&!this.state.visible&&this.show(!1))}},{key:"__moveZoomValue",value:function(t){this.zoomValue.style.left=t/100*this.zoomRange.offsetWidth-this.zoomValue.offsetWidth/2+"px"}},{key:"__onSliderUpdate",value:function(t){t.mousedown&&this.viewer.zoom(100*t.value)}}]),n}(up);kp.id="zoomRange",kp.groupId="zoom";var Sp=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this)).viewer=t,i}return Ih(n,[{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),n}(_d),Mp=function(t){jh(n,t);var e=Fh(n);function n(t,i){var r;return Nh(this,n),(r=e.call(this,t)).config=r.constructor.configParser(i),r}return Ih(n,[{key:"setOption",value:function(t,e){this.setOptions(Rh({},t,e))}},{key:"setOptions",value:function(t){for(var e=zh(zh({},this.config),t),n=this.constructor,i=n.configParser,r=n.readonlyOptions,a=n.id,o=0,s=Object.entries(t);o<s.length;o++){var l=Jh(s[o],2),u=l[0],c=l[1];u in i.defaults?r.includes(u)?Kf("".concat(a,': Option "').concat(u,'" cannot be updated')):(u in i.parsers&&(c=i.parsers[u](c,{rawConfig:e,defValue:i.defaults[u]})),this.config[u]=c):Kf("".concat(a,': Unknown option "').concat(u,'"'))}}}]),n}(Sp);function Ep(t){if(t)for(var e=0,n=[["_",t]].concat(Yh(Object.entries(t)));e<n.length;e++){var i=Jh(n[e],2)[1];if(i.prototype instanceof Sp)return i}return null}Mp.readonlyOptions=[];var Cp={panorama:null,overlay:null,overlayOpacity:1,container:null,adapter:[op,null],plugins:[],caption:null,description:null,downloadUrl:null,downloadName:null,loadingImg:null,loadingTxt:"Loading...",size:null,fisheye:0,minFov:30,maxFov:90,defaultZoomLvl:50,defaultYaw:0,defaultPitch:0,sphereCorrection:null,moveSpeed:1,zoomSpeed:1,moveInertia:!0,mousewheel:!0,mousemove:!0,mousewheelCtrlKey:!1,touchmoveTwoFingers:!1,useXmpData:!0,panoData:null,requestHeaders:null,canvasBackground:"#000",withCredentials:!1,navbar:["zoom","move","download","description","caption","fullscreen"],lang:{zoom:"Zoom",zoomOut:"Zoom out",zoomIn:"Zoom in",moveUp:"Move up",moveDown:"Move down",moveLeft:"Move left",moveRight:"Move right",download:"Download",fullscreen:"Fullscreen",menu:"Menu",close:"Close",twoFingers:"Use two fingers to navigate",ctrlZoom:"Use ctrl + scroll to zoom the image",loadError:"The panorama can't be loaded"},keyboard:"fullscreen",keyboardActions:(mh={},Rh(mh,pf.ArrowUp,"ROTATE_UP"),Rh(mh,pf.ArrowDown,"ROTATE_DOWN"),Rh(mh,pf.ArrowRight,"ROTATE_RIGHT"),Rh(mh,pf.ArrowLeft,"ROTATE_LEFT"),Rh(mh,pf.PageUp,"ZOOM_IN"),Rh(mh,pf.PageDown,"ZOOM_OUT"),Rh(mh,pf.Plus,"ZOOM_IN"),Rh(mh,pf.Minus,"ZOOM_OUT"),mh)},Pp={panorama:"Use setPanorama method to change the panorama",panoData:"Use setPanorama method to change the panorama",overlay:"Use setOverlay method to changer the overlay",overlayOpacity:"Use setOverlay method to changer the overlay",container:"Cannot change viewer container",adapter:"Cannot change adapter",plugins:"Cannot change plugins"},Tp={container:function(t){if(!t)throw new Xf("No value given for container.");return t},adapter:function(t,e){var n=e.defValue;if(!(t=t?Array.isArray(t)?[np(t[0]),t[1]]:[np(t),null]:n)[0])throw new Xf("An undefined value was given for adapter.");if(!t[0].id)throw new Xf("Adapter has no id.");return t},overlayOpacity:function(t){return Va.clamp(t,0,1)},defaultYaw:function(t){return cd(t)},defaultPitch:function(t){return cd(t,!0)},defaultZoomLvl:function(t){return Va.clamp(t,0,100)},minFov:function(t,e){var n=e.rawConfig;return n.maxFov<t&&(Kf("maxFov cannot be lower than minFov"),t=n.maxFov),Va.clamp(t,1,179)},maxFov:function(t,e){var n=e.rawConfig;return t<n.minFov&&(t=n.minFov),Va.clamp(t,1,179)},lang:function(t){return Array.isArray(t.twoFingers)&&(Kf("lang.twoFingers must not be an array"),t.twoFingers=t.twoFingers[0]),zh(zh({},Cp.lang),t)},keyboard:function(t){return!!t&&("object"===Xh(t)?(Kf("Use keyboardActions to configure the keyboard actions, keyboard option must be either true, false, 'fullscreen' or 'always'"),"fullscreen"):"always"===t?"always":"fullscreen")},keyboardActions:function(t,e){var n=e.rawConfig;return n.keyboard&&"object"===Xh(n.keyboard)?n.keyboard:t},fisheye:function(t){return!0===t?1:!1===t?0:t},requestHeaders:function(t){return t&&"object"===Xh(t)?function(){return t}:"function"===typeof t?t:null},plugins:function(t){return t.map((function(t,e){if(!(t=Array.isArray(t)?[Ep(t[0]),t[1]]:[Ep(t),null])[0])throw new Xf("An undefined value was given for plugin ".concat(e,"."));if(!t[0].id)throw new Xf("Plugin ".concat(e," has no id."));return t}))},navbar:function(t){return!1===t?null:!0===t?Uf(Cp.navbar):"string"===typeof t?t.split(/[ ,]/):t}},Lp=pd(Cp,Tp),Op=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,t,{className:"psv-caption",hoverScale:!1,collapsable:!1,tabbable:!0})).contentWidth=0,i.state.width=0,i.contentElt=document.createElement("div"),i.contentElt.className="psv-caption-content",i.container.appendChild(i.contentElt),i.setCaption(i.viewer.config.caption),i}return Ih(n,[{key:"hide",value:function(){this.contentElt.style.display="none",this.state.visible=!1}},{key:"show",value:function(){this.contentElt.style.display="",this.state.visible=!0}},{key:"onClick",value:function(){}},{key:"setCaption",value:function(t){this.show(),this.contentElt.innerHTML=null!==t&&void 0!==t?t:"",this.contentElt.innerHTML?this.contentWidth=this.contentElt.offsetWidth:this.contentWidth=0,this.autoSize()}},{key:"autoSize",value:function(){this.toggle(this.container.offsetWidth>=this.contentWidth),this.__refreshButton()}},{key:"__refreshButton",value:function(){var t;null===(t=this.viewer.navbar.getButton(hp.id,!1))||void 0===t||t.autoSize(!0)}}]),n}(up);Op.id="caption";var zp={},Rp={};function Dp(t,e){if(!t.id)throw new Xf("Button id is required");if(zp[t.id]=t,t.groupId&&(Rp[t.groupId]=Rp[t.groupId]||[]).push(t),e){var n=Cp.navbar;switch(e){case"start":n.unshift(t.id);break;case"end":n.push(t.id);break;default:var i=Jh(e.split(":"),2),r=i[0],a=i[1],o=n.indexOf(r);if(!r||!a||-1===o)throw new Xf("Invalid defaultPosition ".concat(e));n.splice(o+("right"===a?1:0),0,t.id)}}}[_p,kp,Ap,hp,Op,fp,dp,yp,wp,bp,gp].forEach((function(t){return Dp(t)}));var Ip=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,t,{className:"psv-navbar psv--capture-event"})).collapsed=[],i.state.visible=!1,i}return Ih(n,[{key:"show",value:function(){this.container.classList.add("psv-navbar--open"),this.state.visible=!0}},{key:"hide",value:function(){this.container.classList.remove("psv-navbar--open"),this.state.visible=!1}},{key:"setButtons",value:function(t){var e=this;this.children.slice().forEach((function(t){return t.destroy()})),this.children.length=0,-1!==t.indexOf(Op.id)&&-1===t.indexOf(hp.id)&&t.splice(t.indexOf(Op.id),0,hp.id),t.forEach((function(t){"object"===Xh(t)?new cp(e,t):zp[t]?new zp[t](e):Rp[t]?Rp[t].forEach((function(t){new t(e)})):Kf("Unknown button ".concat(t))})),new pp(this),this.children.forEach((function(t){t instanceof up&&t.checkSupported()})),this.autoSize()}},{key:"setCaption",value:function(t){this.children.some((function(e){return e instanceof Op&&(e.setCaption(t),!0)}))}},{key:"getButton",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.children.find((function(e){return e instanceof up&&e.id===t}));return!n&&e&&Kf('button "'.concat(t,'" not found in the navbar')),n}},{key:"autoSize",value:function(){var t;this.children.forEach((function(t){t instanceof up&&t.autoSize()}));var e=this.container.offsetWidth,n=0,i=[];this.children.forEach((function(t){t.isVisible()&&t instanceof up&&(n+=t.width,t.collapsable&&i.push(t))})),0!==n&&(e<n&&i.length>0?(i.forEach((function(t){return t.collapse()})),this.collapsed=i,this.getButton(pp.id).show(!1)):e>=n&&this.collapsed.length>0&&(this.collapsed.forEach((function(t){return t.uncollapse()})),this.collapsed=[],this.getButton(pp.id).hide(!1)),null===(t=this.getButton(Op.id,!1))||void 0===t||t.autoSize())}}]),n}(sp),Bp=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,t,{className:"psv-loader-container"})).loader=document.createElement("div"),i.loader.className="psv-loader",i.container.appendChild(i.loader),i.size=i.loader.offsetWidth,i.canvas=document.createElementNS("http://www.w3.org/2000/svg","svg"),i.canvas.setAttribute("class","psv-loader-canvas"),i.canvas.setAttribute("viewBox","0 0 ".concat(i.size," ").concat(i.size)),i.loader.appendChild(i.canvas),i.textColor=Of(i.loader,"color"),i.color=Of(i.canvas,"color"),i.border=parseInt(Of(i.loader,"outlineWidth"),10),i.thickness=parseInt(Of(i.canvas,"outlineWidth"),10),i.viewer.addEventListener(Td.type,Uh(i)),i.__updateContent(),i.hide(),i}return Ih(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(Td.type,this),Lh(Qh(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){t instanceof Td&&t.containsOptions("loadingImg","loadingTxt")&&this.__updateContent()}},{key:"setProgress",value:function(t){var e=Math.min(t,99.999)/100*Math.PI*2,n=this.size/2,i=n,r=this.thickness/2+this.border,a=(this.size-this.thickness)/2-this.border,o=Math.sin(e)*a+n,s=-Math.cos(e)*a+n,l=t>50?"1":"0";this.canvas.innerHTML='\n            <circle cx="'.concat(n,'" cy="').concat(n,'" r="').concat(n,'" fill="').concat(this.color,'"/>\n            <path d="M ').concat(i," ").concat(r," A ").concat(a," ").concat(a," 0 ").concat(l," 1 ").concat(o," ").concat(s,'" \n                  fill="none" stroke="').concat(this.textColor,'" stroke-width="').concat(this.thickness,'" stroke-linecap="round"/>\n        '),this.viewer.dispatchEvent(new Nd(Math.round(t)))}},{key:"__updateContent",value:function(){var t,e=this.loader.querySelector(".psv-loader-image, .psv-loader-text");if(e&&this.loader.removeChild(e),this.viewer.config.loadingImg?((t=document.createElement("img")).className="psv-loader-image",t.src=this.viewer.config.loadingImg):this.viewer.config.loadingTxt&&((t=document.createElement("div")).className="psv-loader-text",t.innerHTML=this.viewer.config.loadingTxt),t){var n=Math.round(Math.sqrt(2*Math.pow(this.size/2-this.thickness/2-this.border,2)));t.style.maxWidth=n+"px",t.style.maxHeight=n+"px",this.loader.appendChild(t)}}}]),n}(sp),Np=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,t,{className:"psv-notification"})).state={visible:!1,contentId:null,timeout:null},i.content=document.createElement("div"),i.content.className="psv-notification-content",i.container.appendChild(i.content),i.content.addEventListener("click",(function(){return i.hide()})),i}return Ih(n,[{key:"isVisible",value:function(t){return this.state.visible&&(!t||!this.state.contentId||this.state.contentId===t)}},{key:"toggle",value:function(){throw new Xf("Notification cannot be toggled")}},{key:"show",value:function(t){var e=this;this.state.timeout&&(clearTimeout(this.state.timeout),this.state.timeout=null),"string"===typeof t&&(t={content:t}),this.state.contentId=t.id||null,this.content.innerHTML=t.content,this.container.classList.add("psv-notification--visible"),this.state.visible=!0,this.viewer.dispatchEvent(new Vd(t.id)),t.timeout&&(this.state.timeout=setTimeout((function(){return e.hide(e.state.contentId)}),t.timeout))}},{key:"hide",value:function(t){if(this.isVisible(t)){var e=this.state.contentId;this.container.classList.remove("psv-notification--visible"),this.state.visible=!1,this.state.contentId=null,this.viewer.dispatchEvent(new zd(e))}}}]),n}(sp),jp=function(t){jh(n,t);var e=Fh(n);function n(t){var i,r;return Nh(this,n),(r=e.call(this,t,{className:"psv-overlay"})).state={visible:!1,contentId:null,dissmisable:!0},r.image=document.createElement("div"),r.image.className="psv-overlay-image",r.container.appendChild(r.image),r.title=document.createElement("div"),r.title.className="psv-overlay-title",r.container.appendChild(r.title),r.text=document.createElement("div"),r.text.className="psv-overlay-text",r.container.appendChild(r.text),r.viewer.addEventListener(Cd.type,Uh(r)),r.viewer.addEventListener(Bd.type,Uh(r)),Lh((i=Uh(r),Qh(n.prototype)),"hide",i).call(i),r}return Ih(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(Cd.type,this),this.viewer.removeEventListener(Bd.type,this),Lh(Qh(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){t instanceof Cd?this.isVisible()&&this.state.dissmisable&&(this.hide(),t.stopPropagation()):t instanceof Bd&&this.isVisible()&&this.state.dissmisable&&t.key===pf.Escape&&(this.hide(),t.preventDefault())}},{key:"isVisible",value:function(t){return this.state.visible&&(!t||!this.state.contentId||this.state.contentId===t)}},{key:"toggle",value:function(){throw new Xf("Overlay cannot be toggled")}},{key:"show",value:function(t){"string"===typeof t&&(t={title:t}),this.state.contentId=t.id||null,this.state.dissmisable=!1!==t.dissmisable,this.image.innerHTML=t.image||"",this.title.innerHTML=t.title||"",this.text.innerHTML=t.text||"",Lh(Qh(n.prototype),"show",this).call(this),this.viewer.dispatchEvent(new Gd(t.id))}},{key:"hide",value:function(t){if(this.isVisible(t)){var e=this.state.contentId;Lh(Qh(n.prototype),"hide",this).call(this),this.state.contentId=null,this.viewer.dispatchEvent(new Rd(e))}}}]),n}(sp),Fp="psv-panel-content--no-interaction",Up=function(t){jh(n,t);var e=Fh(n);function n(t){var i;Nh(this,n),(i=e.call(this,t,{className:"psv-panel psv--capture-event"})).state={visible:!1,contentId:null,mouseX:0,mouseY:0,mousedown:!1,clickHandler:null,keyHandler:null,width:{}};var r=document.createElement("div");r.className="psv-panel-resizer",i.container.appendChild(r);var a=document.createElement("div");return a.className="psv-panel-close-button",a.innerHTML=vf.close,a.title=t.config.lang.close,i.container.appendChild(a),i.content=document.createElement("div"),i.content.className="psv-panel-content",i.container.appendChild(i.content),i.container.addEventListener("wheel",(function(t){return t.stopPropagation()})),a.addEventListener("click",(function(){return i.hide()})),r.addEventListener("mousedown",Uh(i)),r.addEventListener("touchstart",Uh(i)),i.viewer.container.addEventListener("mouseup",Uh(i)),i.viewer.container.addEventListener("touchend",Uh(i)),i.viewer.container.addEventListener("mousemove",Uh(i)),i.viewer.container.addEventListener("touchmove",Uh(i)),i.viewer.addEventListener(Bd.type,Uh(i)),i}return Ih(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(Bd.type,this),this.viewer.container.removeEventListener("mousemove",this),this.viewer.container.removeEventListener("touchmove",this),this.viewer.container.removeEventListener("mouseup",this),this.viewer.container.removeEventListener("touchend",this),Lh(Qh(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case"mousedown":this.__onMouseDown(t);break;case"touchstart":this.__onTouchStart(t);break;case"mousemove":this.__onMouseMove(t);break;case"touchmove":this.__onTouchMove(t);break;case"mouseup":this.__onMouseUp(t);break;case"touchend":this.__onTouchEnd(t);break;case Bd.type:this.__onKeyPress(t)}}},{key:"isVisible",value:function(t){return this.state.visible&&(!t||!this.state.contentId||this.state.contentId===t)}},{key:"toggle",value:function(){throw new Xf("Panel cannot be toggled")}},{key:"show",value:function(t){var e=this;"string"===typeof t&&(t={content:t});var n=this.isVisible(t.id);this.state.contentId=t.id||null,this.state.visible=!0,this.state.clickHandler&&(this.content.removeEventListener("click",this.state.clickHandler),this.content.removeEventListener("keydown",this.state.keyHandler),this.state.clickHandler=null,this.state.keyHandler=null),t.id&&this.state.width[t.id]?this.container.style.width=this.state.width[t.id]:t.width?this.container.style.width=t.width:this.container.style.width=null,this.content.innerHTML=t.content,this.content.scrollTop=0,this.container.classList.add("psv-panel--open"),Mf(this.content,"psv-panel-content--no-margin",!0===t.noMargin),t.clickHandler&&(this.state.clickHandler=function(e){t.clickHandler(e.target)},this.state.keyHandler=function(e){e.key===pf.Enter&&t.clickHandler(e.target)},this.content.addEventListener("click",this.state.clickHandler),this.content.addEventListener("keydown",this.state.keyHandler),n||setTimeout((function(){var t;null===(t=e.content.querySelector("a,button,[tabindex]"))||void 0===t||t.focus()}),300)),this.viewer.dispatchEvent(new Wd(t.id))}},{key:"hide",value:function(t){if(this.isVisible(t)){var e=this.state.contentId;this.state.visible=!1,this.state.contentId=null,this.content.innerHTML=null,this.container.classList.remove("psv-panel--open"),this.state.clickHandler&&(this.content.removeEventListener("click",this.state.clickHandler),this.state.clickHandler=null),this.viewer.dispatchEvent(new Dd(e))}}},{key:"__onMouseDown",value:function(t){t.stopPropagation(),this.__startResize(t.clientX,t.clientY)}},{key:"__onTouchStart",value:function(t){if(t.stopPropagation(),1===t.touches.length){var e=t.touches[0];this.__startResize(e.clientX,e.clientY)}}},{key:"__onMouseUp",value:function(t){this.state.mousedown&&(t.stopPropagation(),this.state.mousedown=!1,this.content.classList.remove(Fp))}},{key:"__onTouchEnd",value:function(t){this.state.mousedown&&(t.stopPropagation(),0===t.touches.length&&(this.state.mousedown=!1,this.content.classList.remove(Fp)))}},{key:"__onMouseMove",value:function(t){this.state.mousedown&&(t.stopPropagation(),this.__resize(t.clientX,t.clientY))}},{key:"__onTouchMove",value:function(t){if(this.state.mousedown){var e=t.touches[0];this.__resize(e.clientX,e.clientY)}}},{key:"__onKeyPress",value:function(t){this.isVisible()&&t.key===pf.Escape&&(this.hide(),t.preventDefault())}},{key:"__startResize",value:function(t,e){this.state.mouseX=t,this.state.mouseY=e,this.state.mousedown=!0,this.content.classList.add(Fp)}},{key:"__resize",value:function(t,e){var n=t,i=e,r=Math.max(200,this.container.offsetWidth-(n-this.state.mouseX))+"px";this.state.contentId&&(this.state.width[this.state.contentId]=r),this.container.style.width=r,this.state.mouseX=n,this.state.mouseY=i}}]),n}(sp),Hp=function(t){jh(n,t);var e=Fh(n);function n(t,i){var r;return Nh(this,n),(r=e.call(this,t,{className:"psv-tooltip"})).state={visible:!0,arrow:0,border:0,state:0,width:0,height:0,pos:"",config:null,data:null},r.content=document.createElement("div"),r.content.className="psv-tooltip-content",r.container.appendChild(r.content),r.arrow=document.createElement("div"),r.arrow.className="psv-tooltip-arrow",r.container.appendChild(r.arrow),r.container.addEventListener("transitionend",Uh(r)),r.container.style.top="-1000px",r.container.style.left="-1000px",r.show(i),r}return Ih(n,[{key:"handleEvent",value:function(t){"transitionend"===t.type&&this.__onTransitionEnd(t)}},{key:"destroy",value:function(){delete this.state.data,Lh(Qh(n.prototype),"destroy",this).call(this)}},{key:"toggle",value:function(){throw new Xf("Tooltip cannot be toggled")}},{key:"show",value:function(t){if(0!==this.state.state)throw new Xf("Initialized tooltip cannot be re-initialized");t.className&&Ef(this.container,t.className),this.state.state=3,this.update(t.content,t),this.state.data=t.data,this.state.state=1,this.viewer.dispatchEvent(new Qd(this,this.state.data)),this.__waitImages()}},{key:"update",value:function(t,e){this.content.innerHTML=t;var n=this.container.getBoundingClientRect();this.state.width=n.right-n.left,this.state.height=n.bottom-n.top,this.state.arrow=parseInt(Of(this.arrow,"borderTopWidth"),10),this.state.border=parseInt(Of(this.container,"borderTopLeftRadius"),10),this.move(null!==e&&void 0!==e?e:this.state.config)}},{key:"move",value:function(t){if(1!==this.state.state&&3!==this.state.state)throw new Xf("Uninitialized tooltip cannot be moved");t.box||(t.box={width:0,height:0}),this.state.config=t;var e=this.container,n=this.arrow,i={posClass:sd(t.position,{allowCenter:!1,cssOrder:!1})||["top","center"],width:this.state.width,height:this.state.height,top:0,left:0,arrowTop:0,arrowLeft:0};this.__computeTooltipPosition(i,t);var r=null,a=null;if(i.top<0?r="bottom":i.top+i.height>this.viewer.state.size.height&&(r="top"),i.left<0?a="right":i.left+i.width>this.viewer.state.size.width&&(a="left"),a||r){var o=ld(i.posClass);r&&(i.posClass[o?0:1]=r),a&&(i.posClass[o?1:0]=a),this.__computeTooltipPosition(i,t)}e.style.top=i.top+"px",e.style.left=i.left+"px",n.style.top=i.arrowTop+"px",n.style.left=i.arrowLeft+"px";var s=i.posClass.join("-");s!==this.state.pos&&(e.classList.remove("psv-tooltip--".concat(this.state.pos)),this.state.pos=s,e.classList.add("psv-tooltip--".concat(this.state.pos)))}},{key:"hide",value:function(){this.container.classList.remove("psv-tooltip--visible"),this.state.state=2,this.viewer.dispatchEvent(new Id(this.state.data))}},{key:"__onTransitionEnd",value:function(t){if("transform"===t.propertyName)switch(this.state.state){case 1:this.container.classList.add("psv-tooltip--visible"),this.state.state=3;break;case 2:this.state.state=0,this.destroy()}}},{key:"__computeTooltipPosition",value:function(t,e){var n=this.state.arrow,i=e.top,r=t.height,a=e.left,o=t.width,s=n+this.state.border,l=e.box.width/2+2*n,u=e.box.height/2+2*n;switch(t.posClass.join("-")){case"top-left":t.top=i-u-r,t.left=a+s-o,t.arrowTop=r,t.arrowLeft=o-s-n;break;case"top-center":t.top=i-u-r,t.left=a-o/2,t.arrowTop=r,t.arrowLeft=o/2-n;break;case"top-right":t.top=i-u-r,t.left=a-s,t.arrowTop=r,t.arrowLeft=n;break;case"bottom-left":t.top=i+u,t.left=a+s-o,t.arrowTop=2*-n,t.arrowLeft=o-s-n;break;case"bottom-center":t.top=i+u,t.left=a-o/2,t.arrowTop=2*-n,t.arrowLeft=o/2-n;break;case"bottom-right":t.top=i+u,t.left=a-s,t.arrowTop=2*-n,t.arrowLeft=n;break;case"left-top":t.top=i+s-r,t.left=a-l-o,t.arrowTop=r-s-n,t.arrowLeft=o;break;case"center-left":t.top=i-r/2,t.left=a-l-o,t.arrowTop=r/2-n,t.arrowLeft=o;break;case"left-bottom":t.top=i-s,t.left=a-l-o,t.arrowTop=n,t.arrowLeft=o;break;case"right-top":t.top=i+s-r,t.left=a+l,t.arrowTop=r-s-n,t.arrowLeft=2*-n;break;case"center-right":t.top=i-r/2,t.left=a+l,t.arrowTop=r/2-n,t.arrowLeft=2*-n;break;case"right-bottom":t.top=i-s,t.left=a+l,t.arrowTop=n,t.arrowLeft=2*-n}}},{key:"__waitImages",value:function(){var t=this,e=this.content.querySelectorAll("img");if(e.length>0){var n=[];e.forEach((function(t){n.push(new Promise((function(e){t.onload=e,t.onerror=e})))})),Promise.all(n).then((function(){if(1===t.state.state||3===t.state.state){var e=t.container.getBoundingClientRect();t.state.width=e.right-e.left,t.state.height=e.bottom-e.top,t.move(t.state.config)}}))}}}]),n}(sp),Vp=function(){function t(e){Nh(this,t),this.viewer=e,this.config=e.config,this.state=e.state}return Ih(t,[{key:"destroy",value:function(){}}]),t}(),Gp=new Za,Wp=new es(0,0,0,"ZXY"),Qp=function(t){jh(n,t);var e=Fh(n);function n(t){return Nh(this,n),e.call(this,t)}return Ih(n,[{key:"fovToZoomLevel",value:function(t){var e=Math.round((t-this.config.minFov)/(this.config.maxFov-this.config.minFov)*100);return e-2*(e-50)}},{key:"zoomLevelToFov",value:function(t){return this.config.maxFov+t/100*(this.config.minFov-this.config.maxFov)}},{key:"vFovToHFov",value:function(t){return Va.radToDeg(2*Math.atan(Math.tan(Va.degToRad(t)/2)*this.state.aspect))}},{key:"speedToDuration",value:function(t,e){if("number"!==typeof t){var n=ud(t);return e/Math.abs(n)*1e3}return Math.abs(t)}},{key:"textureCoordsToSphericalCoords",value:function(t){var e=this.state.panoData;if(!e)throw new Xf("Current adapter does not support texture coordinates.");var n=(t.textureX+e.croppedX)/e.fullWidth*Math.PI*2,i=(t.textureY+e.croppedY)/e.fullHeight*Math.PI,r={yaw:n>=Math.PI?n-Math.PI:n+Math.PI,pitch:Math.PI/2-i};return Wp.equals(this.viewer.renderer.panoramaPose)&&Wp.equals(this.viewer.renderer.sphereCorrection)?r:(this.sphericalCoordsToVector3(r,Gp),Gp.applyEuler(this.viewer.renderer.panoramaPose),Gp.applyEuler(this.viewer.renderer.sphereCorrection),this.vector3ToSphericalCoords(Gp))}},{key:"sphericalCoordsToTextureCoords",value:function(t){var e=this.state.panoData;if(!e)throw new Xf("Current adapter does not support texture coordinates.");Wp.equals(this.viewer.renderer.panoramaPose)&&Wp.equals(this.viewer.renderer.sphereCorrection)||(this.sphericalCoordsToVector3(t,Gp),dd(Gp,this.viewer.renderer.sphereCorrection),dd(Gp,this.viewer.renderer.panoramaPose),t=this.vector3ToSphericalCoords(Gp));var n=t.yaw/Math.PI/2*e.fullWidth,i=t.pitch/Math.PI*e.fullHeight;return{textureX:Math.round(t.yaw<Math.PI?n+e.fullWidth/2:n-e.fullWidth/2)-e.croppedX,textureY:Math.round(e.fullHeight/2-i)-e.croppedY}}},{key:"sphericalCoordsToVector3",value:function(t,e){return e||(e=new Za),e.x=cf*-Math.cos(t.pitch)*Math.sin(t.yaw),e.y=cf*Math.sin(t.pitch),e.z=cf*Math.cos(t.pitch)*Math.cos(t.yaw),e}},{key:"vector3ToSphericalCoords",value:function(t){var e=Math.acos(t.y/Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)),n=Math.atan2(t.x,t.z);return{yaw:n<0?-n:2*Math.PI-n,pitch:Math.PI/2-e}}},{key:"viewerCoordsToVector3",value:function(t){var e=this.viewer.renderer.getIntersections(t).filter((function(t){return t.object.userData[hf]}));return e.length?e[0].point:null}},{key:"viewerCoordsToSphericalCoords",value:function(t){var e=this.viewerCoordsToVector3(t);return e?this.vector3ToSphericalCoords(e):null}},{key:"vector3ToViewerCoords",value:function(t){var e=t.clone();return e.project(this.viewer.renderer.camera),{x:Math.round((e.x+1)/2*this.state.size.width),y:Math.round((1-e.y)/2*this.state.size.height)}}},{key:"sphericalCoordsToViewerCoords",value:function(t){return this.sphericalCoordsToVector3(t,Gp),this.vector3ToViewerCoords(Gp)}},{key:"cleanPosition",value:function(t){return void 0!==t.textureX&&void 0!==t.textureY?this.textureCoordsToSphericalCoords(t):{yaw:cd(t.yaw),pitch:cd(t.pitch,!this.state.littlePlanet)}}},{key:"cleanSphereCorrection",value:function(t){return{pan:cd((null===t||void 0===t?void 0:t.pan)||0),tilt:cd((null===t||void 0===t?void 0:t.tilt)||0,!0),roll:cd((null===t||void 0===t?void 0:t.roll)||0,!0,!1)}}},{key:"cleanPanoramaPose",value:function(t){return{pan:Va.degToRad((null===t||void 0===t?void 0:t.poseHeading)||0),tilt:Va.degToRad((null===t||void 0===t?void 0:t.posePitch)||0),roll:Va.degToRad((null===t||void 0===t?void 0:t.poseRoll)||0)}}}]),n}(Vp),Xp=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,t)).data={step:0,startMouseX:0,startMouseY:0,mouseX:0,mouseY:0,mouseHistory:[],pinchDist:0,ctrlKeyDown:!1,dblclickData:null,dblclickTimeout:null,longtouchTimeout:null,twofingersTimeout:null,ctrlZoomTimeout:null},i.keyHandler=new yd,i.resizeObserver=new ResizeObserver(Nf((function(){return i.viewer.autoSize()}),50)),i.moveThreshold=rf*rp.pixelRatio,i}return Ih(n,[{key:"init",value:function(){window.addEventListener("keydown",this,{passive:!1}),window.addEventListener("keyup",this),this.viewer.container.addEventListener("mousedown",this),window.addEventListener("mousemove",this,{passive:!1}),window.addEventListener("mouseup",this),this.viewer.container.addEventListener("touchstart",this,{passive:!1}),window.addEventListener("touchmove",this,{passive:!1}),window.addEventListener("touchend",this,{passive:!1}),this.viewer.container.addEventListener("wheel",this,{passive:!1}),document.addEventListener(rp.fullscreenEvent,this),this.resizeObserver.observe(this.viewer.container)}},{key:"destroy",value:function(){window.removeEventListener("keydown",this),window.removeEventListener("keyup",this),this.viewer.container.removeEventListener("mousedown",this),window.removeEventListener("mousemove",this),window.removeEventListener("mouseup",this),this.viewer.container.removeEventListener("touchstart",this),window.removeEventListener("touchmove",this),window.removeEventListener("touchend",this),this.viewer.container.removeEventListener("wheel",this),document.removeEventListener(rp.fullscreenEvent,this),this.resizeObserver.disconnect(),clearTimeout(this.data.dblclickTimeout),clearTimeout(this.data.longtouchTimeout),clearTimeout(this.data.twofingersTimeout),clearTimeout(this.data.ctrlZoomTimeout),Lh(Qh(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case"keydown":this.__onKeyDown(t);break;case"keyup":this.__onKeyUp();break;case"mousemove":this.__onMouseMove(t);break;case"mouseup":this.__onMouseUp(t);break;case"touchmove":this.__onTouchMove(t);break;case"touchend":this.__onTouchEnd(t);break;case rp.fullscreenEvent:this.__onFullscreenChange()}if(!Tf(t.target,".psv--capture-event"))switch(t.type){case"mousedown":this.__onMouseDown(t);break;case"touchstart":this.__onTouchStart(t);break;case"wheel":this.__onMouseWheel(t)}}},{key:"__isStep",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return-1!==e.indexOf(this.data.step)}},{key:"__onKeyDown",value:function(t){if(this.config.mousewheelCtrlKey&&(this.data.ctrlKeyDown=t.key===pf.Control,this.data.ctrlKeyDown&&(clearTimeout(this.data.ctrlZoomTimeout),this.viewer.overlay.hide(df.CTRL_ZOOM))),this.viewer.dispatchEvent(new Bd(t.key))&&this.state.keyboardEnabled&&this.config.keyboard){var e=this.config.keyboardActions[t.key];if("function"===typeof e)e(this.viewer),t.preventDefault();else if(e&&!this.keyHandler.pending){switch("ZOOM_IN"!==e&&"ZOOM_OUT"!==e&&this.viewer.stopAll(),e){case"ROTATE_UP":this.viewer.dynamics.position.roll({pitch:!1});break;case"ROTATE_DOWN":this.viewer.dynamics.position.roll({pitch:!0});break;case"ROTATE_RIGHT":this.viewer.dynamics.position.roll({yaw:!1});break;case"ROTATE_LEFT":this.viewer.dynamics.position.roll({yaw:!0});break;case"ZOOM_IN":this.viewer.dynamics.zoom.roll(!1);break;case"ZOOM_OUT":this.viewer.dynamics.zoom.roll(!0)}this.keyHandler.down(),t.preventDefault()}}}},{key:"__onKeyUp",value:function(){var t=this;this.data.ctrlKeyDown=!1,this.state.keyboardEnabled&&this.keyHandler.up((function(){t.viewer.dynamics.position.stop(),t.viewer.dynamics.zoom.stop(),t.viewer.resetIdleTimer()}))}},{key:"__onMouseDown",value:function(t){this.data.step=1,this.data.startMouseX=t.clientX,this.data.startMouseY=t.clientY}},{key:"__onMouseUp",value:function(t){this.__isStep(1,2)&&this.__stopMove(t.clientX,t.clientY,t.target,2===t.button)}},{key:"__onMouseMove",value:function(t){this.config.mousemove&&this.__isStep(1,2)&&(t.preventDefault(),this.__doMove(t.clientX,t.clientY)),this.__handleObjectsEvents(t)}},{key:"__onTouchStart",value:function(t){var e=this;1===t.touches.length?(this.data.step=1,this.data.startMouseX=t.touches[0].clientX,this.data.startMouseY=t.touches[0].clientY,this.data.longtouchTimeout||(this.data.longtouchTimeout=setTimeout((function(){var n=t.touches[0];e.__stopMove(n.clientX,n.clientY,n.target,!0),e.data.longtouchTimeout=null}),of))):2===t.touches.length&&(this.data.step=0,this.__cancelLongTouch(),this.config.mousemove&&(this.__cancelTwoFingersOverlay(),this.__startMoveZoom(t),t.preventDefault()))}},{key:"__onTouchEnd",value:function(t){if(this.__cancelLongTouch(),this.__isStep(1,2))if(t.preventDefault(),this.__cancelTwoFingersOverlay(),1===t.touches.length)this.__stopMove(this.data.mouseX,this.data.mouseY);else if(0===t.touches.length){var e=t.changedTouches[0];this.__stopMove(e.clientX,e.clientY,e.target)}}},{key:"__onTouchMove",value:function(t){var e=this;if(this.__cancelLongTouch(),this.config.mousemove)if(1===t.touches.length){if(this.config.touchmoveTwoFingers)this.__isStep(1)&&!this.data.twofingersTimeout&&(this.data.twofingersTimeout=setTimeout((function(){e.viewer.overlay.show({id:df.TWO_FINGERS,image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M33.38 33.2a1.96 1.96 0 0 0 1.5-3.23 10.61 10.61 0 0 1 7.18-17.51c.7-.06 1.31-.49 1.61-1.12a13.02 13.02 0 0 1 11.74-7.43c7.14 0 12.96 5.8 12.96 12.9 0 3.07-1.1 6.05-3.1 8.38-.7.82-.61 2.05.21 2.76.83.7 2.07.6 2.78-.22a16.77 16.77 0 0 0 4.04-10.91C72.3 7.54 64.72 0 55.4 0a16.98 16.98 0 0 0-14.79 8.7 14.6 14.6 0 0 0-12.23 14.36c0 3.46 1.25 6.82 3.5 9.45.4.45.94.69 1.5.69m45.74 43.55a22.13 22.13 0 0 1-5.23 12.4c-4 4.55-9.53 6.86-16.42 6.86-12.6 0-20.1-10.8-20.17-10.91a1.82 1.82 0 0 0-.08-.1c-5.3-6.83-14.55-23.82-17.27-28.87-.05-.1 0-.21.02-.23a6.3 6.3 0 0 1 8.24 1.85l9.38 12.59a1.97 1.97 0 0 0 3.54-1.17V25.34a4 4 0 0 1 1.19-2.87 3.32 3.32 0 0 1 2.4-.95c1.88.05 3.4 1.82 3.4 3.94v24.32a1.96 1.96 0 0 0 3.93 0v-33.1a3.5 3.5 0 0 1 7 0v35.39a1.96 1.96 0 0 0 3.93 0v-.44c.05-2.05 1.6-3.7 3.49-3.7 1.93 0 3.5 1.7 3.5 3.82v5.63c0 .24.04.48.13.71l.1.26a1.97 1.97 0 0 0 3.76-.37c.33-1.78 1.77-3.07 3.43-3.07 1.9 0 3.45 1.67 3.5 3.74l-1.77 18.1zM77.39 51c-1.25 0-2.45.32-3.5.9v-.15c0-4.27-3.33-7.74-7.42-7.74-1.26 0-2.45.33-3.5.9V16.69a7.42 7.42 0 0 0-14.85 0v1.86a7 7 0 0 0-3.28-.94 7.21 7.21 0 0 0-5.26 2.07 7.92 7.92 0 0 0-2.38 5.67v37.9l-5.83-7.82a10.2 10.2 0 0 0-13.35-2.92 4.1 4.1 0 0 0-1.53 5.48C20 64.52 28.74 80.45 34.07 87.34c.72 1.04 9.02 12.59 23.4 12.59 7.96 0 14.66-2.84 19.38-8.2a26.06 26.06 0 0 0 6.18-14.6l1.78-18.2v-.2c0-4.26-3.32-7.73-7.42-7.73z"/>\x3c!--Created by AomAm from the Noun Project--\x3e</svg>\n',title:e.config.lang.twoFingers})}),sf));else if(this.__isStep(1,2)){t.preventDefault();var n=t.touches[0];this.__doMove(n.clientX,n.clientY)}}else this.__doMoveZoom(t),this.__cancelTwoFingersOverlay()}},{key:"__cancelLongTouch",value:function(){this.data.longtouchTimeout&&(clearTimeout(this.data.longtouchTimeout),this.data.longtouchTimeout=null)}},{key:"__cancelTwoFingersOverlay",value:function(){this.config.touchmoveTwoFingers&&(this.data.twofingersTimeout&&(clearTimeout(this.data.twofingersTimeout),this.data.twofingersTimeout=null),this.viewer.overlay.hide(df.TWO_FINGERS))}},{key:"__onMouseWheel",value:function(t){var e=this;if(this.config.mousewheel){if(this.config.mousewheelCtrlKey&&!this.data.ctrlKeyDown)return this.viewer.overlay.show({id:df.CTRL_ZOOM,image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 17 79 79"><path fill="currentColor" d="M38.1 29.27c-.24 0-.44.2-.44.45v10.7a.45.45 0 00.9 0v-10.7c0-.25-.2-.45-.45-.45zm10.2 26.66a11.54 11.54 0 01-8.48-6.14.45.45 0 10-.8.41 12.45 12.45 0 009.22 6.62.45.45 0 00.07-.9zm24.55-13.08a23.04 23.04 0 00-22.56-23v7.07l-.01.05a2.83 2.83 0 012.39 2.78v14.03l.09-.02h8.84v-9.22a.45.45 0 11.9 0v9.22h10.35v-.9zm0 27.33V44.66H62.5c-.02 2.01-.52 4-1.47 5.76a.45.45 0 01-.61.18.45.45 0 01-.19-.61 11.54 11.54 0 001.36-5.33h-8.83l-.1-.01a2.83 2.83 0 01-2.83 2.84h-.04-.04a2.83 2.83 0 01-2.83-2.83v-14.9a2.82 2.82 0 012.47-2.8v-7.11a23.04 23.04 0 00-22.57 23v.91h14.72V29.88a8.2 8.2 0 015.02-7.57c.22-.1.5.01.59.24.1.23-.01.5-.24.6a7.3 7.3 0 00-4.47 6.73v13.88h3.9a.45.45 0 110 .9h-3.9v.15a7.32 7.32 0 0011.23 6.17.45.45 0 01.49.76 8.22 8.22 0 01-12.62-6.93v-.15H26.82v25.52a23.04 23.04 0 0023.01 23.01 23.04 23.04 0 0023.02-23.01zm1.8-27.33v27.33A24.85 24.85 0 0149.84 95a24.85 24.85 0 01-24.82-24.82V42.85a24.85 24.85 0 0124.82-24.82 24.85 24.85 0 0124.83 24.82zM57.98 29.88v9.36a.45.45 0 11-.9 0v-9.36a7.28 7.28 0 00-3.4-6.17.45.45 0 01.49-.76 8.18 8.18 0 013.8 6.93z"/>\x3c!-- Created by Icon Island from the Noun Project --\x3e</svg>\n',title:this.config.lang.ctrlZoom}),clearTimeout(this.data.ctrlZoomTimeout),void(this.data.ctrlZoomTimeout=setTimeout((function(){return e.viewer.overlay.hide(df.CTRL_ZOOM)}),lf));t.preventDefault(),t.stopPropagation();var n=t.deltaY/Math.abs(t.deltaY)*5*this.config.zoomSpeed;0!==n&&this.viewer.dynamics.zoom.step(-n,5)}}},{key:"__onFullscreenChange",value:function(){var t=this.viewer.isFullscreenEnabled();"fullscreen"===this.config.keyboard&&(t?this.viewer.startKeyboardControl():this.viewer.stopKeyboardControl()),this.viewer.dispatchEvent(new Od(t))}},{key:"__resetMove",value:function(){this.data.step=0,this.data.mouseX=0,this.data.mouseY=0,this.data.startMouseX=0,this.data.startMouseY=0,this.data.mouseHistory.length=0}},{key:"__startMoveZoom",value:function(t){this.viewer.stopAll(),this.__resetMove();var e=zf(t);this.data.step=2,this.data.pinchDist=e.distance;var n=e.center;this.data.mouseX=n.x,this.data.mouseY=n.y,this.__logMouseMove(this.data.mouseX,this.data.mouseY)}},{key:"__stopMove",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.__isStep(2)?this.config.moveInertia?(this.__logMouseMove(t,e),this.__stopMoveInertia(t,e)):(this.__resetMove(),this.viewer.resetIdleTimer()):this.__isStep(1)&&(this.viewer.stopAnimation(),this.__doClick(t,e,n,i),this.__resetMove(),this.viewer.resetIdleTimer())}},{key:"__stopMoveInertia",value:function(t,e){var n=this,i=new gh(this.data.mouseHistory.map((function(t){var e=Jh(t,3),n=e[1],i=e[2];return new Ga(n,i)}))),r=i.getTangent(1),a=this.data.mouseHistory.reduce((function(t,e){var n=t.total,i=t.prev;return{total:i?n+bf({x:i[1],y:i[2]},{x:e[1],y:e[2]})/(e[0]-i[0]):0,prev:e}}),{total:0,prev:null}).total/this.data.mouseHistory.length;if(!a)return this.__resetMove(),void this.viewer.resetIdleTimer();this.data.step=3;var o=t,s=e;this.state.animation=new vd({properties:{speed:{start:a,end:0}},duration:1e3,easing:"outQuad",onTick:function(t){o+=t.speed*r.x*3*rp.pixelRatio,s+=t.speed*r.y*3*rp.pixelRatio,n.__applyMove(o,s)}}),this.state.animation.then((function(t){n.state.animation=null,t&&(n.__resetMove(),n.viewer.resetIdleTimer())}))}},{key:"__doClick",value:function(t,e,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this.viewer.container.getBoundingClientRect(),o=t-a.left,s=e-a.top,l=this.viewer.renderer.getIntersections({x:o,y:s}),u=l.find((function(t){return t.object.userData[hf]}));if(u){var c=this.viewer.dataHelper.vector3ToSphericalCoords(u.point),h={rightclick:r,target:n,clientX:t,clientY:e,viewerX:o,viewerY:s,yaw:c.yaw,pitch:c.pitch,objects:l.map((function(t){return t.object})).filter((function(t){return!t.userData[hf]}))};try{var f=this.viewer.dataHelper.sphericalCoordsToTextureCoords(h);h.textureX=f.textureX,h.textureY=f.textureY}catch(d){h.textureX=NaN,h.textureY=NaN}this.data.dblclickTimeout?(Math.abs(this.data.dblclickData.clientX-h.clientX)<this.moveThreshold&&Math.abs(this.data.dblclickData.clientY-h.clientY)<this.moveThreshold&&this.viewer.dispatchEvent(new Ld(this.data.dblclickData)),clearTimeout(this.data.dblclickTimeout),this.data.dblclickTimeout=null,this.data.dblclickData=null):(this.viewer.dispatchEvent(new Cd(h)),this.data.dblclickData=Uf(h),this.data.dblclickTimeout=setTimeout((function(){i.data.dblclickTimeout=null,i.data.dblclickData=null}),af))}}},{key:"__handleObjectsEvents",value:function(t){var e=this;if(!Hf(this.state.objectsObservers)&&Pf(t.target,this.viewer.container))for(var n=Lf(this.viewer.container),i={x:t.clientX-n.x,y:t.clientY-n.y},r=this.viewer.renderer.getIntersections(i),a=function(n,r,a){e.viewer.dispatchEvent(new a(t,n,i,r))},o=function(){var t=Jh(l[s],2),n=t[0],i=t[1],o=r.find((function(t){return t.object.userData[n]}));o?(i&&o.object!==i&&(a(i,n,Kd),e.state.objectsObservers[n]=null),i?a(o.object,n,$d):(e.state.objectsObservers[n]=o.object,a(o.object,n,qd))):i&&(a(i,n,Kd),e.state.objectsObservers[n]=null)},s=0,l=Object.entries(this.state.objectsObservers);s<l.length;s++)o()}},{key:"__doMove",value:function(t,e){this.__isStep(1)&&(Math.abs(t-this.data.startMouseX)>=this.moveThreshold||Math.abs(e-this.data.startMouseY)>=this.moveThreshold)?(this.viewer.stopAll(),this.__resetMove(),this.data.step=2,this.data.mouseX=t,this.data.mouseY=e,this.__logMouseMove(t,e)):this.__isStep(2)&&(this.__applyMove(t,e),this.__logMouseMove(t,e))}},{key:"__applyMove",value:function(t,e){var n=this.config.moveSpeed*((t-this.data.mouseX)/this.state.size.width)*Va.degToRad(this.state.littlePlanet?90:this.state.hFov),i=this.config.moveSpeed*((e-this.data.mouseY)/this.state.size.height)*Va.degToRad(this.state.littlePlanet?90:this.state.vFov),r=this.viewer.getPosition();this.viewer.rotate({yaw:r.yaw-n,pitch:r.pitch+i}),this.data.mouseX=t,this.data.mouseY=e}},{key:"__doMoveZoom",value:function(t){if(this.__isStep(2)){t.preventDefault();var e=zf(t),n=(e.distance-this.data.pinchDist)/rp.pixelRatio*this.config.zoomSpeed;this.viewer.zoom(this.viewer.getZoomLevel()+n),this.__doMove(e.center.x,e.center.y),this.data.pinchDist=e.distance}}},{key:"__logMouseMove",value:function(t,e){var n=Date.now(),i=this.data.mouseHistory.length?this.data.mouseHistory[this.data.mouseHistory.length-1]:[0,-1,-1];i[1]===t&&i[2]===e?i[0]=n:n===i[0]?(i[1]=t,i[2]=e):this.data.mouseHistory.push([n,t,e]);for(var r=null,a=0;a<this.data.mouseHistory.length;)this.data.mouseHistory[a][0]<n-uf?this.data.mouseHistory.splice(a,1):r&&this.data.mouseHistory[a][0]-r>uf/10?(this.data.mouseHistory.splice(0,a),a=0,r=this.data.mouseHistory[a][0]):(r=this.data.mouseHistory[a][0],a++)}}]),n}(Vp),Yp=new Ga,Jp=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,t)).renderer=new hh({alpha:!0,antialias:!0}),i.renderer.setPixelRatio(rp.pixelRatio),i.renderer.domElement.className="psv-canvas",i.scene=new dh,i.camera=new bl(50,16/9,.1,2*cf),i.mesh=i.viewer.adapter.createMesh(),i.mesh.userData=Rh({},hf,!0),i.meshContainer=new rh,i.meshContainer.add(i.mesh),i.scene.add(i.meshContainer),i.raycaster=new Sh,i.container=document.createElement("div"),i.container.className="psv-canvas-container",i.container.style.background=i.config.canvasBackground,i.container.appendChild(i.renderer.domElement),i.viewer.container.appendChild(i.container),i.viewer.addEventListener(Xd.type,Uh(i)),i.viewer.addEventListener(Jd.type,Uh(i)),i.viewer.addEventListener(Fd.type,Uh(i)),i.viewer.addEventListener(Td.type,Uh(i)),i.hide(),i}return Ih(n,[{key:"panoramaPose",get:function(){return this.mesh.rotation}},{key:"sphereCorrection",get:function(){return this.meshContainer.rotation}},{key:"init",value:function(){var t=this;this.config.mousemove&&(this.container.style.cursor="move"),this.show(),this.renderer.setAnimationLoop((function(e){return t.__renderLoop(e)}))}},{key:"destroy",value:function(){this.renderer.setAnimationLoop(null),this.cleanScene(this.scene),this.viewer.container.removeChild(this.container),this.viewer.removeEventListener(Xd.type,this),this.viewer.removeEventListener(Jd.type,this),this.viewer.removeEventListener(Fd.type,this),this.viewer.removeEventListener(Td.type,this),Lh(Qh(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case Xd.type:this.__onSizeUpdated();break;case Jd.type:this.__onZoomUpdated();break;case Fd.type:this.__onPositionUpdated();break;case Td.type:t.containsOptions("fisheye")&&this.__onPositionUpdated(),t.containsOptions("mousemove")&&(this.container.style.cursor=this.config.mousemove?"move":"default"),t.containsOptions("canvasBackground")&&(this.container.style.background=this.config.canvasBackground)}}},{key:"hide",value:function(){this.container.style.opacity="0"}},{key:"show",value:function(){this.container.style.opacity="1"}},{key:"setCustomRenderer",value:function(t){this.customRenderer=t?t(this.renderer):null,this.viewer.needsUpdate()}},{key:"__onSizeUpdated",value:function(){this.renderer.setSize(this.state.size.width,this.state.size.height),this.camera.aspect=this.state.aspect,this.camera.updateProjectionMatrix(),this.viewer.needsUpdate()}},{key:"__onZoomUpdated",value:function(){this.camera.fov=this.state.vFov,this.camera.updateProjectionMatrix(),this.viewer.needsUpdate()}},{key:"__onPositionUpdated",value:function(){this.camera.position.set(0,0,0),this.camera.lookAt(this.state.direction),this.config.fisheye&&this.camera.position.copy(this.state.direction).multiplyScalar(this.config.fisheye/2).negate(),this.viewer.needsUpdate()}},{key:"__renderLoop",value:function(t){var e=this.timestamp?t-this.timestamp:0;this.timestamp=t,this.viewer.dispatchEvent(new Md(t,e)),this.viewer.dynamics.update(e),this.state.needsUpdate&&((this.customRenderer||this.renderer).render(this.scene,this.camera),this.viewer.dispatchEvent(new Hd),this.state.needsUpdate=!1)}},{key:"setTexture",value:function(t){this.state.panoData=t.panoData,this.viewer.adapter.setTexture(this.mesh,t),this.viewer.needsUpdate()}},{key:"setOverlay",value:function(t,e){this.viewer.adapter.setOverlay(this.mesh,t,e),this.viewer.needsUpdate()}},{key:"setPanoramaPose",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mesh,n=this.viewer.dataHelper.cleanPanoramaPose(t);e.rotation.set(-n.tilt,-n.pan,-n.roll,"ZXY")}},{key:"setSphereCorrection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.meshContainer,n=this.viewer.dataHelper.cleanSphereCorrection(t);e.rotation.set(n.tilt,n.pan,n.roll,"ZXY")}},{key:"transition",value:function(t,e){var n=this,i=$f(e),r="zoom"in e,a=new rh,o=this.viewer.adapter.createMesh(.5);if(this.viewer.adapter.setTexture(o,t,!0),this.viewer.adapter.setTextureOpacity(o,0),this.setPanoramaPose(t.panoData,o),this.setSphereCorrection(e.sphereCorrection,a),i){var s=this.viewer.dataHelper.cleanPosition(e),l=this.viewer.getPosition(),u=new Za(0,1,0);a.rotateOnWorldAxis(u,s.yaw-l.yaw);var c=new Za(0,1,0).cross(this.camera.getWorldDirection(new Za)).normalize();a.rotateOnWorldAxis(c,s.pitch-l.pitch)}a.add(o),this.scene.add(a),this.renderer.setRenderTarget(new vo),this.renderer.render(this.scene,this.camera),this.renderer.setRenderTarget(null);var h=new vd({properties:{opacity:{start:0,end:1},zoom:r?{start:this.viewer.getZoomLevel(),end:e.zoom}:void 0},duration:e.transition,easing:"outCubic",onTick:function(t){n.viewer.adapter.setTextureOpacity(o,t.opacity),n.viewer.adapter.setTextureOpacity(n.mesh,1-t.opacity),r&&n.viewer.zoom(t.zoom),n.viewer.needsUpdate()}});return h.then((function(r){r?(n.setTexture(t),n.viewer.adapter.setTextureOpacity(n.mesh,1),n.setPanoramaPose(t.panoData),n.setSphereCorrection(e.sphereCorrection),i&&n.viewer.rotate(e)):n.viewer.adapter.disposeTexture(t),n.scene.remove(a),o.geometry.dispose(),o.geometry=null})),h}},{key:"getIntersections",value:function(t){return Yp.x=2*t.x/this.state.size.width-1,Yp.y=-2*t.y/this.state.size.height+1,this.raycaster.setFromCamera(Yp,this.camera),this.raycaster.intersectObjects(this.scene.children,!0).filter((function(t){return t.object.isMesh&&!!t.object.userData}))}},{key:"addObject",value:function(t){this.scene.add(t)}},{key:"removeObject",value:function(t){this.scene.remove(t)}},{key:"cleanScene",value:function(t){var e=this;t.traverse((function(n){n.geometry&&n.geometry.dispose(),n.material&&(Array.isArray(n.material)?n.material.forEach((function(t){t.map&&t.map.dispose(),t.dispose()})):(n.material.map&&n.material.map.dispose(),n.material.dispose())),!n.dispose||n instanceof dh||n.dispose(),n!==t&&e.cleanScene(n)}))}}]),n}(Vp),Zp=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,t)).loader=new kh,i.loader.setResponseType("blob"),i.config.withCredentials&&i.loader.setWithCredentials(!0),i}return Ih(n,[{key:"destroy",value:function(){this.abortLoading(),Lh(Qh(n.prototype),"destroy",this).call(this)}},{key:"abortLoading",value:function(){}},{key:"loadFile",value:function(t,e){var n=this;return this.config.requestHeaders&&this.loader.setRequestHeader(this.config.requestHeaders(t)),new Promise((function(i,r){var a=0;null===e||void 0===e||e(a),n.loader.load(t,(function(t){a=100,null===e||void 0===e||e(a),i(t)}),(function(t){if(t.lengthComputable){var n=t.loaded/t.total*100;n>a&&(a=n,null===e||void 0===e||e(a))}}),(function(t){r(t)}))}))}},{key:"loadImage",value:function(t,e){return this.loadFile(t,e).then((function(t){return new Promise((function(e,n){var i=document.createElement("img");i.onload=function(){URL.revokeObjectURL(i.src),e(i)},i.onerror=n,i.src=URL.createObjectURL(t)}))}))}},{key:"preloadPanorama",value:function(t){return this.viewer.adapter.supportsPreload(t)?this.viewer.adapter.loadTexture(t):Promise.reject(new Xf("Current adapter does not support preload"))}}]),n}(Vp),qp=function(t){jh(n,t);var e=Fh(n);function n(t){var i;return Nh(this,n),(i=e.call(this,t)).zoom=new md((function(t){i.viewer.state.vFov=i.viewer.dataHelper.zoomLevelToFov(t),i.viewer.state.hFov=i.viewer.dataHelper.vFovToHFov(i.viewer.state.vFov),i.viewer.dispatchEvent(new Jd(t))}),{defaultValue:i.viewer.config.defaultZoomLvl,min:0,max:100,wrap:!1}),i.position=new gd((function(t){i.viewer.dataHelper.sphericalCoordsToVector3(t,i.viewer.state.direction),i.viewer.dispatchEvent(new Fd(t))}),{yaw:new md(null,{defaultValue:i.config.defaultYaw,min:0,max:2*Math.PI,wrap:!0}),pitch:new md(null,{defaultValue:i.config.defaultPitch,min:i.viewer.state.littlePlanet?0:-Math.PI/2,max:i.viewer.state.littlePlanet?2*Math.PI:Math.PI/2,wrap:i.viewer.state.littlePlanet})}),i.updateSpeeds(),i}return Ih(n,[{key:"updateSpeeds",value:function(){this.zoom.setSpeed(50*this.config.zoomSpeed),this.position.setSpeed(Va.degToRad(50*this.config.moveSpeed))}},{key:"update",value:function(t){this.zoom.update(t),this.position.update(t)}}]),n}(Vp),Kp=Ih((function t(){Nh(this,t),this.ready=!1,this.needsUpdate=!1,this.keyboardEnabled=!1,this.direction=new Za(0,0,cf),this.vFov=60,this.hFov=60,this.aspect=1,this.animation=null,this.transitionAnimation=null,this.loadingPromise=null,this.littlePlanet=!1,this.idleTime=-1,this.objectsObservers={},this.size={width:0,height:0},this.panoData={fullWidth:0,fullHeight:0,croppedWidth:0,croppedHeight:0,croppedX:0,croppedY:0,poseHeading:0,posePitch:0,poseRoll:0}})),$p=function(t){jh(n,t);var e=Fh(n);function n(t){var i;Nh(this,n),(i=e.call(this)).plugins={},i.children=[],i.onResize=Nf((function(){return i.navbar.autoSize()}),500),rp.load(),i.state=new Kp,i.config=Lp(t),i.parent=Sf(t.container),i.parent[hf]=Uh(i),i.container=document.createElement("div"),i.container.classList.add("psv-container"),i.parent.appendChild(i.container),i.adapter=new i.config.adapter[0](Uh(i),i.config.adapter[1]),i.renderer=new Jp(Uh(i)),i.textureLoader=new Zp(Uh(i)),i.eventsHandler=new Xp(Uh(i)),i.dataHelper=new Qp(Uh(i)),i.dynamics=new qp(Uh(i)),i.loader=new Bp(Uh(i)),i.navbar=new Ip(Uh(i)),i.panel=new Up(Uh(i)),i.notification=new Np(Uh(i)),i.overlay=new jp(Uh(i)),i.resize(i.config.size),Yf(rp.isTouchEnabled,(function(t){Mf(i.container,"psv--is-touch",t)})),i.config.plugins.forEach((function(t){var e=Jh(t,2),n=e[0],r=e[1];i.plugins[n.id]=new n(Uh(i),r)}));for(var r=0,a=Object.values(i.plugins);r<a.length;r++){var o,s=a[r];null===(o=s.init)||void 0===o||o.call(s)}return i.config.navbar&&i.navbar.setButtons(i.config.navbar),i.config.panorama?i.setPanorama(i.config.panorama):i.loader.show(),i}return Ih(n,[{key:"destroy",value:function(){this.stopAll(),this.stopKeyboardControl(),this.exitFullscreen();for(var t=0,e=Object.entries(this.plugins);t<e.length;t++){var n=Jh(e[t],2),i=n[0];n[1].destroy(),delete this.plugins[i]}this.children.slice().forEach((function(t){return t.destroy()})),this.children.length=0,this.eventsHandler.destroy(),this.renderer.destroy(),this.textureLoader.destroy(),this.dataHelper.destroy(),this.adapter.destroy(),this.dynamics.destroy(),this.parent.removeChild(this.container),delete this.parent[hf]}},{key:"init",value:function(){this.eventsHandler.init(),this.renderer.init(),this.config.navbar&&(this.container.classList.add("psv--has-navbar"),this.navbar.show()),"always"===this.config.keyboard&&this.startKeyboardControl(),this.resetIdleTimer(),this.state.ready=!0,this.dispatchEvent(new Ud)}},{key:"resetIdleTimer",value:function(){this.state.idleTime=performance.now()}},{key:"disableIdleTimer",value:function(){this.state.idleTime=-1}},{key:"getPlugin",value:function(t){if("string"===typeof t)return this.plugins[t];var e=Ep(t);return e?this.plugins[e.id]:null}},{key:"getPosition",value:function(){return this.dataHelper.cleanPosition(this.dynamics.position.current)}},{key:"getZoomLevel",value:function(){return this.dynamics.zoom.current}},{key:"getSize",value:function(){return zh({},this.state.size)}},{key:"isFullscreenEnabled",value:function(){return Rf(this.container)}},{key:"needsUpdate",value:function(){this.state.needsUpdate=!0}},{key:"autoSize",value:function(){this.container.clientWidth===this.state.size.width&&this.container.clientHeight===this.state.size.height||(this.state.size.width=Math.round(this.container.clientWidth),this.state.size.height=Math.round(this.container.clientHeight),this.state.aspect=this.state.size.width/this.state.size.height,this.state.hFov=this.dataHelper.vFovToHFov(this.state.vFov),this.dispatchEvent(new Xd(this.getSize())),this.onResize())}},{key:"setPanorama",value:function(t){var e,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.textureLoader.abortLoading(),null===(e=this.state.transitionAnimation)||void 0===e||e.cancel(),this.state.ready||["sphereCorrection","panoData","overlay","overlayOpacity"].forEach((function(t){t in i||(i[t]=n.config[t])})),void 0!==i.transition&&!0!==i.transition||(i.transition=ef),void 0===i.showLoader&&(i.showLoader=!0),void 0===i.caption&&(i.caption=this.config.caption),void 0===i.description&&(i.description=this.config.description),i.panoData||"function"!==typeof this.config.panoData||(i.panoData=this.config.panoData);var r=$f(i),a="zoom"in i;(r||a)&&this.stopAll(),this.hideError(),this.resetIdleTimer(),this.config.panorama=t,this.config.caption=i.caption,this.config.description=i.description;var o=function(t){if(n.loader.hide(),n.state.loadingPromise=null,qf(t))return!1;if(t)throw n.navbar.setCaption(""),n.showError(n.config.lang.loadError),console.error(t),t;return n.setOverlay(i.overlay,i.overlayOpacity),n.navbar.setCaption(n.config.caption),!0};this.navbar.setCaption("<em>".concat(this.config.loadingTxt||"","</em>")),!i.showLoader&&this.state.ready||this.loader.show();var s=this.adapter.loadTexture(this.config.panorama,i.panoData).then((function(t){if(t.panorama!==n.config.panorama)throw n.adapter.disposeTexture(t),Zf();return t}));return i.transition&&this.state.ready&&this.adapter.supportsTransition(this.config.panorama)?this.state.loadingPromise=s.then((function(t){return n.loader.hide(),n.dispatchEvent(new jd(t)),n.state.transitionAnimation=n.renderer.transition(t,i),n.state.transitionAnimation})).then((function(t){if(n.state.transitionAnimation=null,!t)throw Zf()})).then((function(){return o()}),(function(t){return o(t)})):this.state.loadingPromise=s.then((function(t){n.renderer.show(),n.renderer.setTexture(t),n.renderer.setPanoramaPose(t.panoData),n.renderer.setSphereCorrection(i.sphereCorrection),n.dispatchEvent(new jd(t)),a&&n.zoom(i.zoom),r&&n.rotate(i),n.state.ready||n.init()})).then((function(){return o()}),(function(t){return o(t)})),this.state.loadingPromise}},{key:"setOverlay",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.overlayOpacity,i=this.adapter.constructor.supportsOverlay;return t?i?this.adapter.loadTexture(t,(function(t){var n=e.state.panoData,i=t.width/n.croppedWidth;return{fullWidth:i*n.fullWidth,fullHeight:i*n.fullHeight,croppedWidth:i*n.croppedWidth,croppedHeight:i*n.croppedHeight,croppedX:i*n.croppedX,croppedY:i*n.croppedY}}),!1).then((function(t){e.renderer.setOverlay(t,n)})):Promise.reject(new Xf("Current adapter does not supports overlay")):(i&&this.renderer.setOverlay(null,0),Promise.resolve())}},{key:"setOptions",value:function(t){for(var e=zh(zh({},this.config),t),n=0,i=Object.entries(t);n<i.length;n++){var r=Jh(i[n],2),a=r[0],o=r[1];if(a in Cp)if(a in Pp)Kf(Pp[a]);else switch(a in Tp&&(o=Tp[a](o,{rawConfig:e,defValue:Cp[a]})),this.config[a]=o,a){case"caption":this.navbar.setCaption(this.config.caption);break;case"size":this.resize(this.config.size);break;case"sphereCorrection":this.renderer.setSphereCorrection(this.config.sphereCorrection);break;case"navbar":case"lang":this.navbar.setButtons(this.config.navbar);break;case"moveSpeed":case"zoomSpeed":this.dynamics.updateSpeeds();break;case"minFov":case"maxFov":this.dynamics.zoom.setValue(this.dataHelper.fovToZoomLevel(this.state.vFov)),this.dispatchEvent(new Jd(this.getZoomLevel()));break;case"keyboard":"always"===this.config.keyboard?this.startKeyboardControl():this.stopKeyboardControl()}else Kf("Unknown option ".concat(a))}this.needsUpdate(),this.dispatchEvent(new Td(Object.keys(t)))}},{key:"setOption",value:function(t,e){this.setOptions(Rh({},t,e))}},{key:"showError",value:function(t){this.overlay.show({id:df.ERROR,image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="15 15 70 70"><path fill="currentColor" d="M50,16.2c-18.6,0-33.8,15.1-33.8,33.8S31.4,83.7,50,83.7S83.8,68.6,83.8,50S68.6,16.2,50,16.2z M50,80.2c-16.7,0-30.2-13.6-30.2-30.2S33.3,19.7,50,19.7S80.3,33.3,80.3,50S66.7,80.2,50,80.2z"/><rect fill="currentColor" x="48" y="31.7" width="4" height="28"/><rect fill="currentColor" x="48" y="63.2" width="4" height="5"/>\x3c!--Created by Shastry from the Noun Project--\x3e</svg>\n',title:t,dissmisable:!1})}},{key:"hideError",value:function(){this.overlay.hide(df.ERROR)}},{key:"rotate",value:function(t){var e=new Ed(this.dataHelper.cleanPosition(t));this.dispatchEvent(e),e.defaultPrevented||this.dynamics.position.setValue(e.position)}},{key:"zoom",value:function(t){this.dynamics.zoom.setValue(t)}},{key:"zoomIn",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.dynamics.zoom.step(t)}},{key:"zoomOut",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.dynamics.zoom.step(-t)}},{key:"animate",value:function(t){var e=this,n=$f(t),i=void 0!==t.zoom,r=new Sd(n?this.dataHelper.cleanPosition(t):void 0,t.zoom);if(this.dispatchEvent(r),!r.defaultPrevented){var a=r.position,o=r.zoomLevel;this.stopAll();var s,l={};if(n){var u=this.getPosition(),c=Af(u.yaw,a.yaw);l.yaw={start:u.yaw,end:u.yaw+c},l.pitch={start:u.pitch,end:a.pitch},s=this.dataHelper.speedToDuration(t.speed,_f(u,a))}if(i){var h=Math.abs(o-this.getZoomLevel());l.zoom={start:this.getZoomLevel(),end:o},s||(s=this.dataHelper.speedToDuration(t.speed,Math.PI/4*h/100))}return s?(this.state.animation=new vd({properties:l,duration:Math.max(nf,s),easing:"inOutSine",onTick:function(t){n&&e.dynamics.position.setValue({yaw:t.yaw,pitch:t.pitch}),i&&e.dynamics.zoom.setValue(t.zoom)}}),this.state.animation.then((function(){e.state.animation=null,e.resetIdleTimer()})),this.state.animation):(n&&this.rotate(a),i&&this.zoom(o),new vd(null))}}},{key:"stopAnimation",value:function(){return this.state.animation?(this.state.animation.cancel(),this.state.animation):Promise.resolve()}},{key:"resize",value:function(t){var e=this,n=t;["width","height"].forEach((function(i){t&&n[i]&&(/^[0-9.]+$/.test(n[i])&&(n[i]+="px"),e.parent.style[i]=n[i])})),this.autoSize()}},{key:"enterFullscreen",value:function(){this.isFullscreenEnabled()||Df(this.container)}},{key:"exitFullscreen",value:function(){this.isFullscreenEnabled()&&If()}},{key:"toggleFullscreen",value:function(){this.isFullscreenEnabled()?this.exitFullscreen():this.enterFullscreen()}},{key:"startKeyboardControl",value:function(){this.state.keyboardEnabled=!0}},{key:"stopKeyboardControl",value:function(){this.state.keyboardEnabled=!1}},{key:"createTooltip",value:function(t){return new Hp(this,t)}},{key:"observeObjects",value:function(t){this.state.objectsObservers[t]=null}},{key:"unobserveObjects",value:function(t){delete this.state.objectsObservers[t]}},{key:"stopAll",value:function(){return this.dispatchEvent(new Yd),this.disableIdleTimer(),this.stopAnimation()}}]),n}(_d);function tv(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!==typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}tv("/* add css styles here (optional) */\n.view-container {\n    position: relative;\n    overflow: hidden;\n}");var ev;function nv(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,r)}function iv(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){nv(a,i,r,o,s,"next",t)}function s(t){nv(a,i,r,o,s,"throw",t)}o(void 0)}))}}function rv(t){var e="function"===typeof Map?new Map:void 0;return rv=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return av(t,arguments,pv(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),cv(i,t)},rv(t)}function av(t,e,n){return av=dv()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&cv(r,n.prototype),r},av.apply(null,arguments)}function ov(t){return function(t){if(Array.isArray(t))return sv(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return sv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sv(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function lv(){return lv="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pv(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},lv.apply(this,arguments)}function uv(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cv(t,e)}function cv(t,e){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cv(t,e)}function hv(t){var e=dv();return function(){var n,i=pv(t);if(e){var r=pv(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===gv(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fv(t)}(this,n)}}function fv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dv(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function pv(t){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pv(t)}function vv(t,e,n){return(e=xv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mv(){mv=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(C){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),s=new S(r||[]);return i(o,"_invoke",{value:x(t,n,s)}),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(C){return{type:"throw",arg:C}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var v={};l(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(M([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=p.prototype=f.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(i,a,o,s){var l=c(t[i],t,a);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==gv(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(h).then((function(t){u.value=t,o(u)}),(function(t){return r("throw",t,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function x(t,e,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return E()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=A(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(t,e,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function A(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=c(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function M(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=p,i(y,"constructor",{value:p,configurable:!0}),i(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),l(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new b(u(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},w(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=M,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return o.type="throw",o.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:M(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function gv(t){return gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(t)}function yv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wv(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,xv(i.key),i)}}function bv(t,e,n){return e&&wv(t.prototype,e),n&&wv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xv(t){var e=function(t,e){if("object"!==gv(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==gv(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===gv(e)?e:String(e)}tv('/*!\n * PhotoSphereViewer 5.1.4\n * @copyright 2014-2015 J\xe9r\xe9my Heleine\n * @copyright 2023 Damien "Mistic" Sorel\n * @licence MIT (https://opensource.org/licenses/MIT)\n */\n/* src/styles/index.scss */\n.psv-container {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  position: relative;\n  background: radial-gradient(#fff 0%, #fdfdfd 16%, #fbfbfb 33%, #f8f8f8 49%, #efefef 66%, #dfdfdf 82%, #bfbfbf 100%);\n  overflow: hidden;\n}\n.psv-container * {\n  box-sizing: content-box;\n}\n.psv-canvas-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n  transition: opacity linear 100ms;\n}\n.psv-canvas {\n  display: block;\n}\n.psv-loader-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 80;\n}\n.psv-loader {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: rgba(255, 255, 255, 0.7);\n  width: 150px;\n  height: 150px;\n  outline: 3px solid transparent;\n}\n.psv-loader-canvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  color: rgba(61, 61, 61, 0.5);\n  outline: 10px solid transparent;\n  z-index: -1;\n}\n.psv-loader-text {\n  font: 600 16px sans-serif;\n}\n.psv-navbar {\n  display: flex;\n  position: absolute;\n  z-index: 90;\n  bottom: -40px;\n  left: 0;\n  width: 100%;\n  height: 40px;\n  background: rgba(61, 61, 61, 0.5);\n  transition: bottom ease-in-out 0.1s;\n}\n.psv-navbar--open {\n  bottom: 0;\n}\n.psv-navbar,\n.psv-navbar * {\n  box-sizing: content-box;\n}\n.psv-button {\n  flex: 0 0 auto;\n  padding: 10px;\n  position: relative;\n  cursor: pointer;\n  height: 20px;\n  width: 20px;\n  background: transparent;\n  color: rgba(255, 255, 255, 0.7);\n}\n.psv-button--active {\n  background: rgba(255, 255, 255, 0.2);\n}\n.psv-button--disabled {\n  pointer-events: none;\n  opacity: 0.5;\n}\n.psv-button-svg {\n  width: 100%;\n  transform: scale(1);\n  transition: transform 200ms ease;\n}\n.psv-button:not(.psv-button--disabled):focus-visible {\n  outline: 2px solid #007cff;\n  outline-offset: -2px;\n}\n.psv-container:not(.psv--is-touch) .psv-button--hover-scale:not(.psv-button--disabled):hover .psv-button-svg {\n  transform: scale(1.2);\n}\n.psv-move-button + .psv-move-button {\n  margin-left: -10px;\n}\n.psv-custom-button {\n  width: auto;\n  min-width: 20px;\n}\n.psv-caption {\n  flex: 1 1 100%;\n  color: rgba(255, 255, 255, 0.7);\n  overflow: hidden;\n  text-align: center;\n  cursor: default;\n  padding: unset;\n  height: unset;\n  width: unset;\n}\n.psv-caption-content {\n  display: inline-block;\n  padding: 10px;\n  font: 16px sans-serif;\n  white-space: nowrap;\n}\n.psv-zoom-range.psv-button {\n  width: 80px;\n  height: 1px;\n  margin: 10px 0;\n  padding: 9.5px 0;\n  max-width: 600px;\n}\n.psv-zoom-range-line {\n  position: relative;\n  width: 80px;\n  height: 1px;\n  background: rgba(255, 255, 255, 0.7);\n  transition: all 0.3s ease;\n}\n.psv-zoom-range-handle {\n  position: absolute;\n  border-radius: 50%;\n  top: -3px;\n  width: 7px;\n  height: 7px;\n  background: rgba(255, 255, 255, 0.7);\n  transform: scale(1);\n  transition: transform 0.3s ease;\n}\n.psv-zoom-range:not(.psv-button--disabled):hover .psv-zoom-range-line {\n  box-shadow: 0 0 2px rgba(255, 255, 255, 0.7);\n}\n.psv-zoom-range:not(.psv-button--disabled):hover .psv-zoom-range-handle {\n  transform: scale(1.3);\n}\n.psv-notification {\n  position: absolute;\n  z-index: 100;\n  bottom: -40px;\n  display: flex;\n  justify-content: center;\n  box-sizing: border-box;\n  width: 100%;\n  padding: 0 2em;\n  opacity: 0;\n  transition-property: opacity, bottom;\n  transition-timing-function: ease-in-out;\n  transition-duration: 200ms;\n}\n.psv-notification-content {\n  max-width: 50em;\n  background: rgba(61, 61, 61, 0.8);\n  border-radius: 4px;\n  padding: 0.5em 1em;\n  font: 14px sans-serif;\n  color: rgb(255, 255, 255);\n}\n.psv-notification--visible {\n  opacity: 100;\n  bottom: 80px;\n}\n.psv-overlay {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  z-index: 110;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background: radial-gradient(#fff 0%, #fdfdfd 16%, #fbfbfb 33%, #f8f8f8 49%, #efefef 66%, #dfdfdf 82%, #bfbfbf 100%);\n  opacity: 0.8;\n}\n.psv-overlay-image {\n  margin-bottom: 4vh;\n}\n.psv-overlay-image svg {\n  width: 50vw;\n}\n@media (orientation: landscape) {\n  .psv-overlay-image svg {\n    width: 25vw;\n  }\n}\n.psv-overlay-title {\n  color: black;\n  font: 30px sans-serif;\n  text-align: center;\n}\n.psv-overlay-text {\n  color: rgba(0, 0, 0, 0.8);\n  font: 20px sans-serif;\n  opacity: 0.8;\n  text-align: center;\n}\n.psv-panel {\n  position: absolute;\n  z-index: 90;\n  right: 0;\n  height: 100%;\n  width: 400px;\n  max-width: calc(100% - 9px);\n  background: rgba(10, 10, 10, 0.7);\n  transform: translate3d(100%, 0, 0);\n  opacity: 0;\n  transition-property: opacity, transform;\n  transition-timing-function: ease-in-out;\n  transition-duration: 100ms;\n  cursor: default;\n  margin-left: 9px;\n}\n.psv--has-navbar .psv-panel {\n  height: calc(100% - 40px);\n}\n.psv-panel-close-button {\n  display: none;\n  position: absolute;\n  top: -1px;\n  right: 0;\n  width: 19.2px;\n  height: 19.2px;\n  padding: 6.4px;\n  background: transparent;\n  color: #fff;\n  transition: background 300ms ease-in-out;\n  cursor: pointer;\n}\n.psv-panel-close-button svg {\n  transition: transform 300ms ease-in-out;\n}\n.psv-panel-close-button:hover {\n  background: rgba(0, 0, 0, 0.9);\n}\n.psv-panel-close-button:hover svg {\n  transform: scale(-1);\n}\n.psv-panel-resizer {\n  display: none;\n  position: absolute;\n  top: 0;\n  left: -9px;\n  width: 9px;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.9);\n  cursor: col-resize;\n}\n.psv-panel-resizer::before {\n  content: "";\n  position: absolute;\n  top: 50%;\n  left: 1px;\n  margin-top: -14.5px;\n  width: 1px;\n  height: 1px;\n  box-shadow:\n    1px 0 #fff,\n    3px 0px #fff,\n    5px 0px #fff,\n    1px 2px #fff,\n    3px 2px #fff,\n    5px 2px #fff,\n    1px 4px #fff,\n    3px 4px #fff,\n    5px 4px #fff,\n    1px 6px #fff,\n    3px 6px #fff,\n    5px 6px #fff,\n    1px 8px #fff,\n    3px 8px #fff,\n    5px 8px #fff,\n    1px 10px #fff,\n    3px 10px #fff,\n    5px 10px #fff,\n    1px 12px #fff,\n    3px 12px #fff,\n    5px 12px #fff,\n    1px 14px #fff,\n    3px 14px #fff,\n    5px 14px #fff,\n    1px 16px #fff,\n    3px 16px #fff,\n    5px 16px #fff,\n    1px 18px #fff,\n    3px 18px #fff,\n    5px 18px #fff,\n    1px 20px #fff,\n    3px 20px #fff,\n    5px 20px #fff,\n    1px 22px #fff,\n    3px 22px #fff,\n    5px 22px #fff,\n    1px 24px #fff,\n    3px 24px #fff,\n    5px 24px #fff,\n    1px 26px #fff,\n    3px 26px #fff,\n    5px 26px #fff,\n    1px 28px #fff,\n    3px 28px #fff,\n    5px 28px #fff;\n  background: transparent;\n}\n.psv-panel-content {\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  color: rgb(220, 220, 220);\n  font: 16px sans-serif;\n  overflow: auto;\n}\n.psv-panel-content:not(.psv-panel-content--no-margin) {\n  padding: 1em;\n}\n.psv-panel-content--no-interaction {\n  user-select: none;\n  pointer-events: none;\n}\n.psv-panel--open {\n  transform: translate3d(0, 0, 0);\n  opacity: 1;\n  transition-duration: 0.2s;\n}\n.psv-panel--open .psv-panel-close-button,\n.psv-panel--open .psv-panel-resizer {\n  display: block;\n}\n@media screen and (max-width: 400px) {\n  .psv-panel {\n    width: 100% !important;\n    max-width: none;\n  }\n  .psv-panel-resizer {\n    display: none !important;\n  }\n}\n.psv-panel-menu {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.psv-panel-menu-title {\n  flex: none;\n  display: flex;\n  align-items: center;\n  font: 24px sans-serif;\n  margin: 24px 12px;\n}\n.psv-panel-menu-title svg {\n  width: 24px;\n  height: 24px;\n  margin-right: 12px;\n}\n.psv-panel-menu-list {\n  flex: 1;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  overflow-x: hidden;\n}\n.psv-panel-menu-item {\n  min-height: 1.5em;\n  padding: 0.5em 1em;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  transition: background 0.1s ease-in-out;\n}\n.psv-panel-menu-item--active {\n  outline: 1px solid currentcolor;\n  outline-offset: -1px;\n}\n.psv-panel-menu-item-icon {\n  flex: none;\n  height: 1.5em;\n  width: 1.5em;\n  margin-right: 0.5em;\n}\n.psv-panel-menu-item-icon img {\n  max-width: 100%;\n  max-height: 100%;\n}\n.psv-panel-menu-item-icon svg {\n  width: 100%;\n  height: 100%;\n}\n.psv-panel-menu-item:focus-visible {\n  outline: 2px solid #007cff;\n  outline-offset: -2px;\n}\n.psv-panel-menu--stripped .psv-panel-menu-item:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n.psv-panel-menu--stripped .psv-panel-menu-item:nth-child(odd),\n.psv-panel-menu--stripped .psv-panel-menu-item:nth-child(odd)::before {\n  background: rgba(255, 255, 255, 0.1);\n}\n.psv-panel-menu--stripped .psv-panel-menu-item:nth-child(even),\n.psv-panel-menu--stripped .psv-panel-menu-item:nth-child(even)::before {\n  background: transparent;\n}\n.psv-container:not(.psv--is-touch) .psv-panel-menu-item:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n.psv-tooltip {\n  position: absolute;\n  z-index: 50;\n  box-sizing: border-box;\n  max-width: 200px;\n  background: rgba(61, 61, 61, 0.8);\n  border-radius: 4px;\n  padding: 0.5em 1em;\n  opacity: 0;\n  transition-property: opacity, transform;\n  transition-timing-function: ease-in-out;\n  transition-duration: 100ms;\n}\n.psv-tooltip-content {\n  color: rgb(255, 255, 255);\n  font: 14px sans-serif;\n  text-shadow: 0 1px #000;\n}\n.psv-tooltip-arrow {\n  position: absolute;\n  height: 0;\n  width: 0;\n  border: 7px solid transparent;\n}\n.psv-tooltip--top-left,\n.psv-tooltip--top-center,\n.psv-tooltip--top-right {\n  transform: translate3d(0, 5px, 0);\n}\n.psv-tooltip--top-left .psv-tooltip-arrow,\n.psv-tooltip--top-center .psv-tooltip-arrow,\n.psv-tooltip--top-right .psv-tooltip-arrow {\n  border-top-color: rgba(61, 61, 61, 0.8);\n}\n.psv-tooltip--bottom-left,\n.psv-tooltip--bottom-center,\n.psv-tooltip--bottom-right {\n  transform: translate3d(0, -5px, 0);\n}\n.psv-tooltip--bottom-left .psv-tooltip-arrow,\n.psv-tooltip--bottom-center .psv-tooltip-arrow,\n.psv-tooltip--bottom-right .psv-tooltip-arrow {\n  border-bottom-color: rgba(61, 61, 61, 0.8);\n}\n.psv-tooltip--left-top,\n.psv-tooltip--center-left,\n.psv-tooltip--left-bottom {\n  transform: translate3d(5px, 0, 0);\n}\n.psv-tooltip--left-top .psv-tooltip-arrow,\n.psv-tooltip--center-left .psv-tooltip-arrow,\n.psv-tooltip--left-bottom .psv-tooltip-arrow {\n  border-left-color: rgba(61, 61, 61, 0.8);\n}\n.psv-tooltip--right-top,\n.psv-tooltip--center-right,\n.psv-tooltip--right-bottom {\n  transform: translate3d(-5px, 0, 0);\n}\n.psv-tooltip--right-top .psv-tooltip-arrow,\n.psv-tooltip--center-right .psv-tooltip-arrow,\n.psv-tooltip--right-bottom .psv-tooltip-arrow {\n  border-right-color: rgba(61, 61, 61, 0.8);\n}\n.psv-tooltip--left-top,\n.psv-tooltip--top-left {\n  box-shadow: -3px -3px 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--top-center {\n  box-shadow: 0 -3px 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--right-top,\n.psv-tooltip--top-right {\n  box-shadow: 3px -3px 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--left-bottom,\n.psv-tooltip--bottom-left {\n  box-shadow: -3px 3px 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--bottom-center {\n  box-shadow: 0 3px 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--right-bottom,\n.psv-tooltip--bottom-right {\n  box-shadow: 3px 3px 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--center-left {\n  box-shadow: -3px 0 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--center-right {\n  box-shadow: 3px 0 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--visible {\n  transform: translate3d(0, 0, 0);\n  opacity: 1;\n  transition-duration: 100ms;\n}');var Av=0,_v=1,kv=1e3,Sv=1001,Mv=1002,Ev=1003,Cv=1006,Pv=1023,Tv=2300,Lv=2301,Ov=2302,zv="srgb",Rv="srgb-linear",Dv=7680,Iv=35044,Bv=function(){function t(){yv(this,t)}return bv(t,[{key:"addEventListener",value:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}},{key:"hasEventListener",value:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}},{key:"removeEventListener",value:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}}}},{key:"dispatchEvent",value:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,t);t.target=null}}}}]),t}(),Nv=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],jv=1234567,Fv=Math.PI/180,Uv=180/Math.PI;function Hv(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Nv[255&t]+Nv[t>>8&255]+Nv[t>>16&255]+Nv[t>>24&255]+"-"+Nv[255&e]+Nv[e>>8&255]+"-"+Nv[e>>16&15|64]+Nv[e>>24&255]+"-"+Nv[63&n|128]+Nv[n>>8&255]+"-"+Nv[n>>16&255]+Nv[n>>24&255]+Nv[255&i]+Nv[i>>8&255]+Nv[i>>16&255]+Nv[i>>24&255]).toLowerCase()}function Vv(t,e,n){return Math.max(e,Math.min(n,t))}function Gv(t,e){return(t%e+e)%e}function Wv(t,e,n){return(1-n)*t+n*e}function Qv(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Xv(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Yv(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error("Invalid component type.")}}var Jv=Object.freeze({__proto__:null,DEG2RAD:Fv,RAD2DEG:Uv,generateUUID:Hv,clamp:Vv,euclideanModulo:Gv,mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},inverseLerp:function(t,e,n){return t!==e?(n-t)/(e-t):0},lerp:Wv,damp:function(t,e,n,i){return Wv(t,e,1-Math.exp(-n*i))},pingpong:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e-Math.abs(Gv(t,2*e)-e)},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){void 0!==t&&(jv=t);var e=jv+=1831565813;return e=Math.imul(e^e>>>15,1|e),(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)/4294967296},degToRad:function(t){return t*Fv},radToDeg:function(t){return t*Uv},isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t},ceilPowerOfTwo:Qv,floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,i,r){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((e+i)/2),c=o((e+i)/2),h=a((e-i)/2),f=o((e-i)/2),d=a((i-e)/2),p=o((i-e)/2);switch(r){case"XYX":t.set(s*c,l*h,l*f,s*u);break;case"YZY":t.set(l*f,s*c,l*h,s*u);break;case"ZXZ":t.set(l*h,l*f,s*c,s*u);break;case"XZX":t.set(s*c,l*p,l*d,s*u);break;case"YXY":t.set(l*d,s*c,l*p,s*u);break;case"ZYZ":t.set(l*p,l*d,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}},normalize:Yv,denormalize:Xv}),Zv=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;yv(this,e),e.prototype.isVector2=!0,this.x=t,this.y=n}return bv(e,[{key:"width",get:function(){return this.x},set:function(t){this.x=t}},{key:"height",get:function(){return this.y},set:function(t){this.y=t}},{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var t=Math.atan2(-this.y,-this.x)+Math.PI;return t}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t}},{key:"fromBufferAttribute",value:function(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}},{key:"rotateAround",value:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*n-a*i+t.x,this.y=r*i+a*n+t.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:mv().mark((function t(){return mv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x;case 2:return t.next=4,this.y;case 4:case"end":return t.stop()}}),t,this)}))}]),e}(),qv=function(){function t(){yv(this,t),t.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}return bv(t,[{key:"set",value:function(t,e,n,i,r,a,o,s,l){var u=this.elements;return u[0]=t,u[1]=i,u[2]=o,u[3]=e,u[4]=r,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,i=e.elements,r=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],h=n[2],f=n[5],d=n[8],p=i[0],v=i[3],m=i[6],g=i[1],y=i[4],w=i[7],b=i[2],x=i[5],A=i[8];return r[0]=a*p+o*g+s*b,r[3]=a*v+o*y+s*x,r[6]=a*m+o*w+s*A,r[1]=l*p+u*g+c*b,r[4]=l*v+u*y+c*x,r[7]=l*m+u*w+c*A,r[2]=h*p+f*g+d*b,r[5]=h*v+f*y+d*x,r[8]=h*m+f*w+d*A,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8];return e*a*u-e*o*l-n*r*u+n*o*s+i*r*l-i*a*s}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=u*a-o*l,h=o*s-u*r,f=l*r-a*s,d=e*c+n*h+i*f;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);var p=1/d;return t[0]=c*p,t[1]=(i*l-u*n)*p,t[2]=(o*n-i*a)*p,t[3]=h*p,t[4]=(u*e-i*s)*p,t[5]=(i*r-o*e)*p,t[6]=f*p,t[7]=(n*s-l*e)*p,t[8]=(a*e-n*r)*p,this}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}},{key:"getNormalMatrix",value:function(t){return this.setFromMatrix4(t).invert().transpose()}},{key:"transposeIntoArray",value:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}},{key:"setUvTransform",value:function(t,e,n,i,r,a,o){var s=Math.cos(r),l=Math.sin(r);return this.set(n*s,n*l,-n*(s*a+l*o)+a+t,-i*l,i*s,-i*(-l*a+s*o)+o+e,0,0,1),this}},{key:"scale",value:function(t,e){return this.premultiply(Kv.makeScale(t,e)),this}},{key:"rotate",value:function(t){return this.premultiply(Kv.makeRotation(-t)),this}},{key:"translate",value:function(t,e){return this.premultiply(Kv.makeTranslation(t,e)),this}},{key:"makeTranslation",value:function(t,e){return this.set(1,0,t,0,1,e,0,0,1),this}},{key:"makeRotation",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,n,e,0,0,0,1),this}},{key:"makeScale",value:function(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),t}(),Kv=new qv;var $v={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function tm(t,e){return new $v[t](e)}function em(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function nm(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function im(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}var rm=(vv(ev={},zv,vv({},Rv,nm)),vv(ev,Rv,vv({},zv,im)),ev),am={legacyMode:!0,get workingColorSpace(){return Rv},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.legacyMode||e===n||!e||!n)return t;if(rm[e]&&void 0!==rm[e][n]){var i=rm[e][n];return t.r=i(t.r),t.g=i(t.g),t.b=i(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},om={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},sm={r:0,g:0,b:0},lm={h:0,s:0,l:0},um={h:0,s:0,l:0};function cm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function hm(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}var fm,dm=function(t){function e(t,n,i){return yv(this,e),this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===n&&void 0===i?this.set(t):this.setRGB(t,n,i)}return bv(e,[{key:"set",value:function(t){return t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t),this}},{key:"setScalar",value:function(t){return this.r=t,this.g=t,this.b=t,this}},{key:"setHex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zv;return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,am.toWorkingColorSpace(this,e),this}},{key:"setRGB",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:am.workingColorSpace;return this.r=t,this.g=e,this.b=n,am.toWorkingColorSpace(this,i),this}},{key:"setHSL",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:am.workingColorSpace;if(t=Gv(t,1),e=Vv(e,0,1),n=Vv(n,0,1),0===e)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+e):n+e-n*e,a=2*n-r;this.r=cm(a,r,t+1/3),this.g=cm(a,r,t),this.b=cm(a,r,t-1/3)}return am.toWorkingColorSpace(this,i),this}},{key:"setStyle",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zv;function i(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}if(e=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){var r,a=e[1],o=e[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,am.toWorkingColorSpace(this,n),i(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,am.toWorkingColorSpace(this,n),i(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){var s=parseFloat(r[1])/360,l=parseFloat(r[2])/100,u=parseFloat(r[3])/100;return i(r[4]),this.setHSL(s,l,u,n)}}}else if(e=/^\#([A-Fa-f\d]+)$/.exec(t)){var c=e[1],h=c.length;if(3===h)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,am.toWorkingColorSpace(this,n),this;if(6===h)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,am.toWorkingColorSpace(this,n),this}return t&&t.length>0?this.setColorName(t,n):this}},{key:"setColorName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zv,n=om[t.toLowerCase()];return void 0!==n?this.setHex(n,e):console.warn("THREE.Color: Unknown color "+t),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}},{key:"copySRGBToLinear",value:function(t){return this.r=nm(t.r),this.g=nm(t.g),this.b=nm(t.b),this}},{key:"copyLinearToSRGB",value:function(t){return this.r=im(t.r),this.g=im(t.g),this.b=im(t.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zv;return am.fromWorkingColorSpace(hm(this,sm),t),Vv(255*sm.r,0,255)<<16^Vv(255*sm.g,0,255)<<8^Vv(255*sm.b,0,255)<<0}},{key:"getHexString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zv;return("000000"+this.getHex(t).toString(16)).slice(-6)}},{key:"getHSL",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:am.workingColorSpace;am.fromWorkingColorSpace(hm(this,sm),e);var n,i,r=sm.r,a=sm.g,o=sm.b,s=Math.max(r,a,o),l=Math.min(r,a,o),u=(l+s)/2;if(l===s)n=0,i=0;else{var c=s-l;switch(i=u<=.5?c/(s+l):c/(2-s-l),s){case r:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-r)/c+2;break;case o:n=(r-a)/c+4}n/=6}return t.h=n,t.s=i,t.l=u,t}},{key:"getRGB",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:am.workingColorSpace;return am.fromWorkingColorSpace(hm(this,sm),e),t.r=sm.r,t.g=sm.g,t.b=sm.b,t}},{key:"getStyle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zv;return am.fromWorkingColorSpace(hm(this,sm),t),t!==zv?"color(".concat(t," ").concat(sm.r," ").concat(sm.g," ").concat(sm.b,")"):"rgb(".concat(255*sm.r|0,",").concat(255*sm.g|0,",").concat(255*sm.b|0,")")}},{key:"offsetHSL",value:function(t,e,n){return this.getHSL(lm),lm.h+=t,lm.s+=e,lm.l+=n,this.setHSL(lm.h,lm.s,lm.l),this}},{key:"add",value:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}},{key:"addColors",value:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}},{key:"addScalar",value:function(t){return this.r+=t,this.g+=t,this.b+=t,this}},{key:"sub",value:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}},{key:"multiply",value:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}},{key:"multiplyScalar",value:function(t){return this.r*=t,this.g*=t,this.b*=t,this}},{key:"lerp",value:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}},{key:"lerpColors",value:function(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}},{key:"lerpHSL",value:function(t,e){this.getHSL(lm),t.getHSL(um);var n=Wv(lm.h,um.h,e),i=Wv(lm.s,um.s,e),r=Wv(lm.l,um.l,e);return this.setHSL(n,i,r),this}},{key:"equals",value:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}},{key:"fromBufferAttribute",value:function(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:mv().mark((function t(){return mv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.r;case 2:return t.next=4,this.g;case 4:return t.next=6,this.b;case 6:case"end":return t.stop()}}),t,this)}))}]),e}();dm.NAMES=om;var pm=function(){function t(){yv(this,t)}return bv(t,null,[{key:"getDataURL",value:function(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;var e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===fm&&(fm=em("canvas")),fm.width=t.width,fm.height=t.height;var n=fm.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=fm}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(t){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap){var e=em("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);for(var i=n.getImageData(0,0,t.width,t.height),r=i.data,a=0;a<r.length;a++)r[a]=255*nm(r[a]/255);return n.putImageData(i,0,0),e}if(t.data){for(var o=t.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*nm(o[s]/255)):o[s]=nm(o[s]);return{data:o,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}]),t}(),vm=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;yv(this,t),this.isSource=!0,this.uuid=Hv(),this.data=e,this.version=0}return bv(t,[{key:"needsUpdate",set:function(t){!0===t&&this.version++}},{key:"toJSON",value:function(t){var e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];var n={uuid:this.uuid,url:""},i=this.data;if(null!==i){var r;if(Array.isArray(i)){r=[];for(var a=0,o=i.length;a<o;a++)i[a].isDataTexture?r.push(mm(i[a].image)):r.push(mm(i[a]))}else r=mm(i);n.url=r}return e||(t.images[this.uuid]=n),n}}]),t}();function mm(t){return"undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap?pm.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var gm=0,ym=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sv,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Sv,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Cv,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1008,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Pv,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1009,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:3e3;return yv(this,n),(t=e.call(this)).isTexture=!0,Object.defineProperty(fv(t),"id",{value:gm++}),t.uuid=Hv(),t.name="",t.source=new vm(i),t.mipmaps=[],t.mapping=r,t.wrapS=a,t.wrapT=o,t.magFilter=s,t.minFilter=l,t.anisotropy=h,t.format=u,t.internalFormat=null,t.type=c,t.offset=new Zv(0,0),t.repeat=new Zv(1,1),t.center=new Zv(0,0),t.rotation=0,t.matrixAutoUpdate=!0,t.matrix=new qv,t.generateMipmaps=!0,t.premultiplyAlpha=!1,t.flipY=!0,t.unpackAlignment=4,t.encoding=f,t.userData={},t.version=0,t.onUpdate=null,t.isRenderTargetTexture=!1,t.needsPMREMUpdate=!1,t}return bv(n,[{key:"image",get:function(){return this.source.data},set:function(t){this.source.data=t}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(t){var e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),e||(t.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case kv:t.x=t.x-Math.floor(t.x);break;case Sv:t.x=t.x<0?0:1;break;case Mv:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case kv:t.y=t.y-Math.floor(t.y);break;case Sv:t.y=t.y<0?0:1;break;case Mv:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}},{key:"needsUpdate",set:function(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}}]),n}(Bv);ym.DEFAULT_IMAGE=null,ym.DEFAULT_MAPPING=300,ym.DEFAULT_ANISOTROPY=1;var wm=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;yv(this,e),e.prototype.isVector4=!0,this.x=t,this.y=n,this.z=i,this.w=r}return bv(e,[{key:"width",get:function(){return this.z},set:function(t){this.z=t}},{key:"height",get:function(){return this.w},set:function(t){this.w=t}},{key:"set",value:function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setW",value:function(t){return this.w=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,i=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*e+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*e+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*e+a[7]*n+a[11]*i+a[15]*r,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"setAxisAngleFromQuaternion",value:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}},{key:"setAxisAngleFromRotationMatrix",value:function(t){var e,n,i,r,a=.01,o=.1,s=t.elements,l=s[0],u=s[4],c=s[8],h=s[1],f=s[5],d=s[9],p=s[2],v=s[6],m=s[10];if(Math.abs(u-h)<a&&Math.abs(c-p)<a&&Math.abs(d-v)<a){if(Math.abs(u+h)<o&&Math.abs(c+p)<o&&Math.abs(d+v)<o&&Math.abs(l+f+m-3)<o)return this.set(1,0,0,0),this;e=Math.PI;var g=(l+1)/2,y=(f+1)/2,w=(m+1)/2,b=(u+h)/4,x=(c+p)/4,A=(d+v)/4;return g>y&&g>w?g<a?(n=0,i=.707106781,r=.707106781):(i=b/(n=Math.sqrt(g)),r=x/n):y>w?y<a?(n=.707106781,i=0,r=.707106781):(n=b/(i=Math.sqrt(y)),r=A/i):w<a?(n=.707106781,i=.707106781,r=0):(n=x/(r=Math.sqrt(w)),i=A/r),this.set(n,i,r,e),this}var _=Math.sqrt((v-d)*(v-d)+(c-p)*(c-p)+(h-u)*(h-u));return Math.abs(_)<.001&&(_=1),this.x=(v-d)/_,this.y=(c-p)/_,this.z=(h-u)/_,this.w=Math.acos((l+f+m-1)/2),this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}},{key:"fromBufferAttribute",value:function(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:mv().mark((function t(){return mv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x;case 2:return t.next=4,this.y;case 4:return t.next=6,this.z;case 6:return t.next=8,this.w;case 8:case"end":return t.stop()}}),t,this)}))}]),e}(),bm=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;yv(this,e),this.isQuaternion=!0,this._x=t,this._y=n,this._z=i,this._w=r}return bv(e,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}},{key:"set",value:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(t,e){var n=t._x,i=t._y,r=t._z,a=t._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(i/2),c=o(r/2),h=s(n/2),f=s(i/2),d=s(r/2);switch(a){case"XYZ":this._x=h*u*c+l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c-h*f*d;break;case"YXZ":this._x=h*u*c+l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c+h*f*d;break;case"ZXY":this._x=h*u*c-l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c-h*f*d;break;case"ZYX":this._x=h*u*c-l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c+h*f*d;break;case"YZX":this._x=h*u*c+l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c-h*f*d;break;case"XZY":this._x=h*u*c-l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c+h*f*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==e&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(t,e){var n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e=t.elements,n=e[0],i=e[4],r=e[8],a=e[1],o=e[5],s=e[9],l=e[2],u=e[6],c=e[10],h=n+o+c;if(h>0){var f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-s)*f,this._y=(r-l)*f,this._z=(a-i)*f}else if(n>o&&n>c){var d=2*Math.sqrt(1+n-o-c);this._w=(u-s)/d,this._x=.25*d,this._y=(i+a)/d,this._z=(r+l)/d}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(r-l)/p,this._x=(i+a)/p,this._y=.25*p,this._z=(s+u)/p}else{var v=2*Math.sqrt(1+c-n-o);this._w=(a-i)/v,this._x=(r+l)/v,this._y=(s+u)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(t,e){var n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(t){return 2*Math.acos(Math.abs(Vv(this.dot(t),-1,1)))}},{key:"rotateTowards",value:function(t,e){var n=this.angleTo(t);if(0===n)return this;var i=Math.min(1,e/n);return this.slerp(t,i),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}},{key:"multiply",value:function(t){return this.multiplyQuaternions(this,t)}},{key:"premultiply",value:function(t){return this.multiplyQuaternions(t,this)}},{key:"multiplyQuaternions",value:function(t,e){var n=t._x,i=t._y,r=t._z,a=t._w,o=e._x,s=e._y,l=e._z,u=e._w;return this._x=n*u+a*o+i*l-r*s,this._y=i*u+a*s+r*o-n*l,this._z=r*u+a*l+n*s-i*o,this._w=a*u-n*o-i*s-r*l,this._onChangeCallback(),this}},{key:"slerp",value:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,i=this._y,r=this._z,a=this._w,o=a*t._w+n*t._x+i*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=n,this._y=i,this._z=r,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-e;return this._w=l*a+e*this._w,this._x=l*n+e*this._x,this._y=l*i+e*this._y,this._z=l*r+e*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),h=Math.sin((1-e)*c)/u,f=Math.sin(e*c)/u;return this._w=a*h+this._w*f,this._x=n*h+this._x*f,this._y=i*h+this._y*f,this._z=r*h+this._z*f,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(t,e,n){return this.copy(t).slerp(e,n)}},{key:"random",value:function(){var t=Math.random(),e=Math.sqrt(1-t),n=Math.sqrt(t),i=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(e*Math.cos(i),n*Math.sin(r),n*Math.cos(r),e*Math.sin(i))}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}},{key:"fromBufferAttribute",value:function(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:mv().mark((function t(){return mv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._x;case 2:return t.next=4,this._y;case 4:return t.next=6,this._z;case 6:return t.next=8,this._w;case 8:case"end":return t.stop()}}),t,this)}))}],[{key:"slerpFlat",value:function(t,e,n,i,r,a,o){var s=n[i+0],l=n[i+1],u=n[i+2],c=n[i+3],h=r[a+0],f=r[a+1],d=r[a+2],p=r[a+3];if(0===o)return t[e+0]=s,t[e+1]=l,t[e+2]=u,void(t[e+3]=c);if(1===o)return t[e+0]=h,t[e+1]=f,t[e+2]=d,void(t[e+3]=p);if(c!==p||s!==h||l!==f||u!==d){var v=1-o,m=s*h+l*f+u*d+c*p,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var w=Math.sqrt(y),b=Math.atan2(w,m*g);v=Math.sin(v*b)/w,o=Math.sin(o*b)/w}var x=o*g;if(s=s*v+h*x,l=l*v+f*x,u=u*v+d*x,c=c*v+p*x,v===1-o){var A=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=A,l*=A,u*=A,c*=A}}t[e]=s,t[e+1]=l,t[e+2]=u,t[e+3]=c}},{key:"multiplyQuaternionsFlat",value:function(t,e,n,i,r,a){var o=n[i],s=n[i+1],l=n[i+2],u=n[i+3],c=r[a],h=r[a+1],f=r[a+2],d=r[a+3];return t[e]=o*d+u*c+s*f-l*h,t[e+1]=s*d+u*h+l*c-o*f,t[e+2]=l*d+u*f+o*h-s*c,t[e+3]=u*d-o*c-s*h-l*f,t}}]),e}(),xm=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;yv(this,e),e.prototype.isVector3=!0,this.x=t,this.y=n,this.z=i}return bv(e,[{key:"set",value:function(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}},{key:"applyEuler",value:function(t){return this.applyQuaternion(_m.setFromEuler(t))}},{key:"applyAxisAngle",value:function(t,e){return this.applyQuaternion(_m.setFromAxisAngle(t,e))}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this}},{key:"applyNormalMatrix",value:function(t){return this.applyMatrix3(t).normalize()}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements,a=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*a,this}},{key:"applyQuaternion",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.x,a=t.y,o=t.z,s=t.w,l=s*e+a*i-o*n,u=s*n+o*e-r*i,c=s*i+r*n-a*e,h=-r*e-a*n-o*i;return this.x=l*s+h*-r+u*-o-c*-a,this.y=u*s+h*-a+c*-r-l*-o,this.z=c*s+h*-o+l*-a-u*-r,this}},{key:"project",value:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}},{key:"unproject",value:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}},{key:"transformDirection",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}},{key:"cross",value:function(t){return this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,e){var n=t.x,i=t.y,r=t.z,a=e.x,o=e.y,s=e.z;return this.x=i*s-r*o,this.y=r*a-n*s,this.z=n*o-i*a,this}},{key:"projectOnVector",value:function(t){var e=t.lengthSq();if(0===e)return this.set(0,0,0);var n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}},{key:"projectOnPlane",value:function(t){return Am.copy(this).projectOnVector(t),this.sub(Am)}},{key:"reflect",value:function(t){return this.sub(Am.copy(t).multiplyScalar(2*this.dot(t)))}},{key:"angleTo",value:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;var n=this.dot(t)/e;return Math.acos(Vv(n,-1,1))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}},{key:"setFromSphericalCoords",value:function(t,e,n){var i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}},{key:"setFromMatrixPosition",value:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}},{key:"setFromMatrixScale",value:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}},{key:"setFromMatrixColumn",value:function(t,e){return this.fromArray(t.elements,4*e)}},{key:"setFromMatrix3Column",value:function(t,e){return this.fromArray(t.elements,3*e)}},{key:"setFromEuler",value:function(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}},{key:"fromBufferAttribute",value:function(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(t,2));return this.x=n*Math.cos(e),this.y=n*Math.sin(e),this.z=t,this}},{key:Symbol.iterator,value:mv().mark((function t(){return mv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x;case 2:return t.next=4,this.y;case 4:return t.next=6,this.z;case 6:case"end":return t.stop()}}),t,this)}))}]),e}(),Am=new xm,_m=new bm,km=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xm(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xm(-1/0,-1/0,-1/0);yv(this,t),this.isBox3=!0,this.min=e,this.max=n}return bv(t,[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromArray",value:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=t.length;s<l;s+=3){var u=t[s],c=t[s+1],h=t[s+2];u<e&&(e=u),c<n&&(n=c),h<i&&(i=h),u>r&&(r=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,a,o),this}},{key:"setFromBufferAttribute",value:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=t.count;s<l;s++){var u=t.getX(s),c=t.getY(s),h=t.getZ(s);u<e&&(e=u),c<n&&(n=c),h<i&&(i=h),u>r&&(r=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,a,o),this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){var n=Mm.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}},{key:"setFromObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(t,e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"expandByObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.updateWorldMatrix(!1,!1);var n=t.geometry;if(void 0!==n)if(e&&void 0!=n.attributes&&void 0!==n.attributes.position)for(var i=n.attributes.position,r=0,a=i.count;r<a;r++)Mm.fromBufferAttribute(i,r).applyMatrix4(t.matrixWorld),this.expandByPoint(Mm);else null===n.boundingBox&&n.computeBoundingBox(),Em.copy(n.boundingBox),Em.applyMatrix4(t.matrixWorld),this.union(Em);for(var o=t.children,s=0,l=o.length;s<l;s++)this.expandByObject(o[s],e);return this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}},{key:"getParameter",value:function(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}},{key:"intersectsSphere",value:function(t){return this.clampPoint(t.center,Mm),Mm.distanceToSquared(t.center)<=t.radius*t.radius}},{key:"intersectsPlane",value:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}},{key:"intersectsTriangle",value:function(t){if(this.isEmpty())return!1;this.getCenter(Rm),Dm.subVectors(this.max,Rm),Cm.subVectors(t.a,Rm),Pm.subVectors(t.b,Rm),Tm.subVectors(t.c,Rm),Lm.subVectors(Pm,Cm),Om.subVectors(Tm,Pm),zm.subVectors(Cm,Tm);var e=[0,-Lm.z,Lm.y,0,-Om.z,Om.y,0,-zm.z,zm.y,Lm.z,0,-Lm.x,Om.z,0,-Om.x,zm.z,0,-zm.x,-Lm.y,Lm.x,0,-Om.y,Om.x,0,-zm.y,zm.x,0];return!!Nm(e,Cm,Pm,Tm,Dm)&&(!!Nm(e=[1,0,0,0,1,0,0,0,1],Cm,Pm,Tm,Dm)&&(Im.crossVectors(Lm,Om),Nm(e=[Im.x,Im.y,Im.z],Cm,Pm,Tm,Dm)))}},{key:"clampPoint",value:function(t,e){return e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return Mm.copy(t).clamp(this.min,this.max).sub(t).length()}},{key:"getBoundingSphere",value:function(t){return this.getCenter(t.center),t.radius=.5*this.getSize(Mm).length(),t}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"applyMatrix4",value:function(t){return this.isEmpty()||(Sm[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Sm[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Sm[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Sm[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Sm[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Sm[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Sm[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Sm[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Sm)),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),t}(),Sm=[new xm,new xm,new xm,new xm,new xm,new xm,new xm,new xm],Mm=new xm,Em=new km,Cm=new xm,Pm=new xm,Tm=new xm,Lm=new xm,Om=new xm,zm=new xm,Rm=new xm,Dm=new xm,Im=new xm,Bm=new xm;function Nm(t,e,n,i,r){for(var a=0,o=t.length-3;a<=o;a+=3){Bm.fromArray(t,a);var s=r.x*Math.abs(Bm.x)+r.y*Math.abs(Bm.y)+r.z*Math.abs(Bm.z),l=e.dot(Bm),u=n.dot(Bm),c=i.dot(Bm);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var jm=new km,Fm=new xm,Um=new xm,Hm=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xm,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;yv(this,t),this.center=e,this.radius=n}return bv(t,[{key:"set",value:function(t,e){return this.center.copy(t),this.radius=e,this}},{key:"setFromPoints",value:function(t,e){var n=this.center;void 0!==e?n.copy(e):jm.setFromPoints(t).getCenter(n);for(var i=0,r=0,a=t.length;r<a;r++)i=Math.max(i,n.distanceToSquared(t[r]));return this.radius=Math.sqrt(i),this}},{key:"copy",value:function(t){return this.center.copy(t.center),this.radius=t.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(t){return t.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}},{key:"intersectsBox",value:function(t){return t.intersectsSphere(this)}},{key:"intersectsPlane",value:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(t,e){var n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}},{key:"getBoundingBox",value:function(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}},{key:"applyMatrix4",value:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}},{key:"translate",value:function(t){return this.center.add(t),this}},{key:"expandByPoint",value:function(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;Fm.subVectors(t,this.center);var e=Fm.lengthSq();if(e>this.radius*this.radius){var n=Math.sqrt(e),i=.5*(n-this.radius);this.center.addScaledVector(Fm,i/n),this.radius+=i}return this}},{key:"union",value:function(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(Um.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(Fm.copy(t.center).add(Um)),this.expandByPoint(Fm.copy(t.center).sub(Um))),this)}},{key:"equals",value:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),Vm=new xm,Gm=new xm,Wm=new xm,Qm=new xm,Xm=new xm,Ym=new xm,Jm=new xm,Zm=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xm,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xm(0,0,-1);yv(this,t),this.origin=e,this.direction=n}return bv(t,[{key:"set",value:function(t,e){return this.origin.copy(t),this.direction.copy(e),this}},{key:"copy",value:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}},{key:"at",value:function(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)}},{key:"lookAt",value:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this}},{key:"recast",value:function(t){return this.origin.copy(this.at(t,Vm)),this}},{key:"closestPointToPoint",value:function(t,e){e.subVectors(t,this.origin);var n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(t){return Math.sqrt(this.distanceSqToPoint(t))}},{key:"distanceSqToPoint",value:function(t){var e=Vm.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Vm.copy(this.direction).multiplyScalar(e).add(this.origin),Vm.distanceToSquared(t))}},{key:"distanceSqToSegment",value:function(t,e,n,i){Gm.copy(t).add(e).multiplyScalar(.5),Wm.copy(e).sub(t).normalize(),Qm.copy(this.origin).sub(Gm);var r,a,o,s,l=.5*t.distanceTo(e),u=-this.direction.dot(Wm),c=Qm.dot(this.direction),h=-Qm.dot(Wm),f=Qm.lengthSq(),d=Math.abs(1-u*u);if(d>0)if(a=u*c-h,s=l*d,(r=u*h-c)>=0)if(a>=-s)if(a<=s){var p=1/d;o=(r*=p)*(r+u*(a*=p)+2*c)+a*(u*r+a+2*h)+f}else a=l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+f;else a=-l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+f;else a<=-s?o=-(r=Math.max(0,-(-u*l+c)))*r+(a=r>0?-l:Math.min(Math.max(-l,-h),l))*(a+2*h)+f:a<=s?(r=0,o=(a=Math.min(Math.max(-l,-h),l))*(a+2*h)+f):o=-(r=Math.max(0,-(u*l+c)))*r+(a=r>0?l:Math.min(Math.max(-l,-h),l))*(a+2*h)+f;else a=u>0?-l:l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+f;return n&&n.copy(this.direction).multiplyScalar(r).add(this.origin),i&&i.copy(Wm).multiplyScalar(a).add(Gm),o}},{key:"intersectSphere",value:function(t,e){Vm.subVectors(t.center,this.origin);var n=Vm.dot(this.direction),i=Vm.dot(Vm)-n*n,r=t.radius*t.radius;if(i>r)return null;var a=Math.sqrt(r-i),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,e):this.at(o,e)}},{key:"intersectsSphere",value:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}},{key:"distanceToPlane",value:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}},{key:"intersectPlane",value:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}},{key:"intersectsPlane",value:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}},{key:"intersectBox",value:function(t,e){var n,i,r,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(n=(t.min.x-h.x)*l,i=(t.max.x-h.x)*l):(n=(t.max.x-h.x)*l,i=(t.min.x-h.x)*l),u>=0?(r=(t.min.y-h.y)*u,a=(t.max.y-h.y)*u):(r=(t.max.y-h.y)*u,a=(t.min.y-h.y)*u),n>a||r>i?null:((r>n||isNaN(n))&&(n=r),(a<i||isNaN(i))&&(i=a),c>=0?(o=(t.min.z-h.z)*c,s=(t.max.z-h.z)*c):(o=(t.max.z-h.z)*c,s=(t.min.z-h.z)*c),n>s||o>i?null:((o>n||n!==n)&&(n=o),(s<i||i!==i)&&(i=s),i<0?null:this.at(n>=0?n:i,e)))}},{key:"intersectsBox",value:function(t){return null!==this.intersectBox(t,Vm)}},{key:"intersectTriangle",value:function(t,e,n,i,r){Xm.subVectors(e,t),Ym.subVectors(n,t),Jm.crossVectors(Xm,Ym);var a,o=this.direction.dot(Jm);if(o>0){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Qm.subVectors(this.origin,t);var s=a*this.direction.dot(Ym.crossVectors(Qm,Ym));if(s<0)return null;var l=a*this.direction.dot(Xm.cross(Qm));if(l<0)return null;if(s+l>o)return null;var u=-a*Qm.dot(Jm);return u<0?null:this.at(u/o,r)}},{key:"applyMatrix4",value:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}},{key:"equals",value:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),qm=function(){function t(){yv(this,t),t.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return bv(t,[{key:"set",value:function(t,e,n,i,r,a,o,s,l,u,c,h,f,d,p,v){var m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=i,m[1]=r,m[5]=a,m[9]=o,m[13]=s,m[2]=l,m[6]=u,m[10]=c,m[14]=h,m[3]=f,m[7]=d,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new t).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}},{key:"copyPosition",value:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}},{key:"setFromMatrix3",value:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(t){var e=this.elements,n=t.elements,i=1/Km.setFromMatrixColumn(t,0).length(),r=1/Km.setFromMatrixColumn(t,1).length(),a=1/Km.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*a,e[9]=n[9]*a,e[10]=n[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromEuler",value:function(t){var e=this.elements,n=t.x,i=t.y,r=t.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(i),l=Math.sin(i),u=Math.cos(r),c=Math.sin(r);if("XYZ"===t.order){var h=a*u,f=a*c,d=o*u,p=o*c;e[0]=s*u,e[4]=-s*c,e[8]=l,e[1]=f+d*l,e[5]=h-p*l,e[9]=-o*s,e[2]=p-h*l,e[6]=d+f*l,e[10]=a*s}else if("YXZ"===t.order){var v=s*u,m=s*c,g=l*u,y=l*c;e[0]=v+y*o,e[4]=g*o-m,e[8]=a*l,e[1]=a*c,e[5]=a*u,e[9]=-o,e[2]=m*o-g,e[6]=y+v*o,e[10]=a*s}else if("ZXY"===t.order){var w=s*u,b=s*c,x=l*u,A=l*c;e[0]=w-A*o,e[4]=-a*c,e[8]=x+b*o,e[1]=b+x*o,e[5]=a*u,e[9]=A-w*o,e[2]=-a*l,e[6]=o,e[10]=a*s}else if("ZYX"===t.order){var _=a*u,k=a*c,S=o*u,M=o*c;e[0]=s*u,e[4]=S*l-k,e[8]=_*l+M,e[1]=s*c,e[5]=M*l+_,e[9]=k*l-S,e[2]=-l,e[6]=o*s,e[10]=a*s}else if("YZX"===t.order){var E=a*s,C=a*l,P=o*s,T=o*l;e[0]=s*u,e[4]=T-E*c,e[8]=P*c+C,e[1]=c,e[5]=a*u,e[9]=-o*u,e[2]=-l*u,e[6]=C*c+P,e[10]=E-T*c}else if("XZY"===t.order){var L=a*s,O=a*l,z=o*s,R=o*l;e[0]=s*u,e[4]=-c,e[8]=l*u,e[1]=L*c+R,e[5]=a*u,e[9]=O*c-z,e[2]=z*c-O,e[6]=o*u,e[10]=R*c+L}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(t){return this.compose(tg,t,eg)}},{key:"lookAt",value:function(t,e,n){var i=this.elements;return rg.subVectors(t,e),0===rg.lengthSq()&&(rg.z=1),rg.normalize(),ng.crossVectors(n,rg),0===ng.lengthSq()&&(1===Math.abs(n.z)?rg.x+=1e-4:rg.z+=1e-4,rg.normalize(),ng.crossVectors(n,rg)),ng.normalize(),ig.crossVectors(rg,ng),i[0]=ng.x,i[4]=ig.x,i[8]=rg.x,i[1]=ng.y,i[5]=ig.y,i[9]=rg.y,i[2]=ng.z,i[6]=ig.z,i[10]=rg.z,this}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,i=e.elements,r=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],f=n[13],d=n[2],p=n[6],v=n[10],m=n[14],g=n[3],y=n[7],w=n[11],b=n[15],x=i[0],A=i[4],_=i[8],k=i[12],S=i[1],M=i[5],E=i[9],C=i[13],P=i[2],T=i[6],L=i[10],O=i[14],z=i[3],R=i[7],D=i[11],I=i[15];return r[0]=a*x+o*S+s*P+l*z,r[4]=a*A+o*M+s*T+l*R,r[8]=a*_+o*E+s*L+l*D,r[12]=a*k+o*C+s*O+l*I,r[1]=u*x+c*S+h*P+f*z,r[5]=u*A+c*M+h*T+f*R,r[9]=u*_+c*E+h*L+f*D,r[13]=u*k+c*C+h*O+f*I,r[2]=d*x+p*S+v*P+m*z,r[6]=d*A+p*M+v*T+m*R,r[10]=d*_+p*E+v*L+m*D,r[14]=d*k+p*C+v*O+m*I,r[3]=g*x+y*S+w*P+b*z,r[7]=g*A+y*M+w*T+b*R,r[11]=g*_+y*E+w*L+b*D,r[15]=g*k+y*C+w*O+b*I,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],a=t[1],o=t[5],s=t[9],l=t[13],u=t[2],c=t[6],h=t[10],f=t[14];return t[3]*(+r*s*c-i*l*c-r*o*h+n*l*h+i*o*f-n*s*f)+t[7]*(+e*s*f-e*l*h+r*a*h-i*a*f+i*l*u-r*s*u)+t[11]*(+e*l*c-e*o*f-r*a*c+n*a*f+r*o*u-n*l*u)+t[15]*(-i*o*u-e*s*c+e*o*h+i*a*c-n*a*h+n*s*u)}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}},{key:"setPosition",value:function(t,e,n){var i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],h=t[10],f=t[11],d=t[12],p=t[13],v=t[14],m=t[15],g=c*v*l-p*h*l+p*s*f-o*v*f-c*s*m+o*h*m,y=d*h*l-u*v*l-d*s*f+a*v*f+u*s*m-a*h*m,w=u*p*l-d*c*l+d*o*f-a*p*f-u*o*m+a*c*m,b=d*c*s-u*p*s-d*o*h+a*p*h+u*o*v-a*c*v,x=e*g+n*y+i*w+r*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var A=1/x;return t[0]=g*A,t[1]=(p*h*r-c*v*r-p*i*f+n*v*f+c*i*m-n*h*m)*A,t[2]=(o*v*r-p*s*r+p*i*l-n*v*l-o*i*m+n*s*m)*A,t[3]=(c*s*r-o*h*r-c*i*l+n*h*l+o*i*f-n*s*f)*A,t[4]=y*A,t[5]=(u*v*r-d*h*r+d*i*f-e*v*f-u*i*m+e*h*m)*A,t[6]=(d*s*r-a*v*r-d*i*l+e*v*l+a*i*m-e*s*m)*A,t[7]=(a*h*r-u*s*r+u*i*l-e*h*l-a*i*f+e*s*f)*A,t[8]=w*A,t[9]=(d*c*r-u*p*r-d*n*f+e*p*f+u*n*m-e*c*m)*A,t[10]=(a*p*r-d*o*r+d*n*l-e*p*l-a*n*m+e*o*m)*A,t[11]=(u*o*r-a*c*r-u*n*l+e*c*l+a*n*f-e*o*f)*A,t[12]=b*A,t[13]=(u*p*i-d*c*i+d*n*h-e*p*h-u*n*v+e*c*v)*A,t[14]=(d*o*i-a*p*i-d*n*s+e*p*s+a*n*v-e*o*v)*A,t[15]=(a*c*i-u*o*i+u*n*s-e*c*s-a*n*h+e*o*h)*A,this}},{key:"scale",value:function(t){var e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this}},{key:"getMaxScaleOnAxis",value:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))}},{key:"makeTranslation",value:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}},{key:"makeRotationY",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=1-n,a=t.x,o=t.y,s=t.z,l=r*a,u=r*o;return this.set(l*a+n,l*o-i*s,l*s+i*o,0,l*o+i*s,u*o+n,u*s-i*a,0,l*s-i*o,u*s+i*a,r*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(t,e,n,i,r,a){return this.set(1,n,r,0,t,1,a,0,e,i,1,0,0,0,0,1),this}},{key:"compose",value:function(t,e,n){var i=this.elements,r=e._x,a=e._y,o=e._z,s=e._w,l=r+r,u=a+a,c=o+o,h=r*l,f=r*u,d=r*c,p=a*u,v=a*c,m=o*c,g=s*l,y=s*u,w=s*c,b=n.x,x=n.y,A=n.z;return i[0]=(1-(p+m))*b,i[1]=(f+w)*b,i[2]=(d-y)*b,i[3]=0,i[4]=(f-w)*x,i[5]=(1-(h+m))*x,i[6]=(v+g)*x,i[7]=0,i[8]=(d+y)*A,i[9]=(v-g)*A,i[10]=(1-(h+p))*A,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}},{key:"decompose",value:function(t,e,n){var i=this.elements,r=Km.set(i[0],i[1],i[2]).length(),a=Km.set(i[4],i[5],i[6]).length(),o=Km.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],$m.copy(this);var s=1/r,l=1/a,u=1/o;return $m.elements[0]*=s,$m.elements[1]*=s,$m.elements[2]*=s,$m.elements[4]*=l,$m.elements[5]*=l,$m.elements[6]*=l,$m.elements[8]*=u,$m.elements[9]*=u,$m.elements[10]*=u,e.setFromRotationMatrix($m),n.x=r,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(t,e,n,i,r,a){var o=this.elements,s=2*r/(e-t),l=2*r/(n-i),u=(e+t)/(e-t),c=(n+i)/(n-i),h=-(a+r)/(a-r),f=-2*a*r/(a-r);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=f,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(t,e,n,i,r,a){var o=this.elements,s=1/(e-t),l=1/(n-i),u=1/(a-r),c=(e+t)*s,h=(n+i)*l,f=(a+r)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-f,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}]),t}(),Km=new xm,$m=new qm,tg=new xm(0,0,0),eg=new xm(1,1,1),ng=new xm,ig=new xm,rg=new xm,ag=new qm,og=new bm,sg=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;yv(this,e),this.isEuler=!0,this._x=t,this._y=n,this._z=i,this._order=r}return bv(e,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}},{key:"set",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=t,this._y=e,this._z=n,this._order=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.elements,r=i[0],a=i[4],o=i[8],s=i[1],l=i[5],u=i[9],c=i[2],h=i[6],f=i[10];switch(e){case"XYZ":this._y=Math.asin(Vv(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Vv(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,r),this._z=0);break;case"ZXY":this._x=Math.asin(Vv(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,r));break;case"ZYX":this._y=Math.asin(-Vv(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(s,r)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(Vv(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,r)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-Vv(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(t,e,n){return ag.makeRotationFromQuaternion(t),this.setFromRotationMatrix(ag,e,n)}},{key:"setFromVector3",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(t.x,t.y,t.z,e)}},{key:"reorder",value:function(t){return og.setFromEuler(this),this.setFromQuaternion(og,t)}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}},{key:"fromArray",value:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:mv().mark((function t(){return mv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._x;case 2:return t.next=4,this._y;case 4:return t.next=6,this._z;case 6:return t.next=8,this._order;case 8:case"end":return t.stop()}}),t,this)}))},{key:"toVector3",value:function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}]),e}();sg.DefaultOrder="XYZ",sg.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var lg=function(){function t(){yv(this,t),this.mask=1}return bv(t,[{key:"set",value:function(t){this.mask=(1<<t|0)>>>0}},{key:"enable",value:function(t){this.mask|=1<<t|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(t){this.mask^=1<<t|0}},{key:"disable",value:function(t){this.mask&=~(1<<t|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(t){return 0!==(this.mask&t.mask)}},{key:"isEnabled",value:function(t){return 0!==(this.mask&(1<<t|0))}}]),t}(),ug=0,cg=new xm,hg=new bm,fg=new qm,dg=new xm,pg=new xm,vg=new xm,mg=new bm,gg=new xm(1,0,0),yg=new xm(0,1,0),wg=new xm(0,0,1),bg={type:"added"},xg={type:"removed"},Ag=function(t){uv(n,t);var e=hv(n);function n(){var t;yv(this,n),(t=e.call(this)).isObject3D=!0,Object.defineProperty(fv(t),"id",{value:ug++}),t.uuid=Hv(),t.name="",t.type="Object3D",t.parent=null,t.children=[],t.up=n.DefaultUp.clone();var i=new xm,r=new sg,a=new bm,o=new xm(1,1,1);return r._onChange((function(){a.setFromEuler(r,!1)})),a._onChange((function(){r.setFromQuaternion(a,void 0,!1)})),Object.defineProperties(fv(t),{position:{configurable:!0,enumerable:!0,value:i},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new qm},normalMatrix:{value:new qv}}),t.matrix=new qm,t.matrixWorld=new qm,t.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,t.matrixWorldNeedsUpdate=!1,t.matrixWorldAutoUpdate=n.DefaultMatrixWorldAutoUpdate,t.layers=new lg,t.visible=!0,t.castShadow=!1,t.receiveShadow=!1,t.frustumCulled=!0,t.renderOrder=0,t.animations=[],t.userData={},t}return bv(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(t){return this.quaternion.premultiply(t),this}},{key:"setRotationFromAxisAngle",value:function(t,e){this.quaternion.setFromAxisAngle(t,e)}},{key:"setRotationFromEuler",value:function(t){this.quaternion.setFromEuler(t,!0)}},{key:"setRotationFromMatrix",value:function(t){this.quaternion.setFromRotationMatrix(t)}},{key:"setRotationFromQuaternion",value:function(t){this.quaternion.copy(t)}},{key:"rotateOnAxis",value:function(t,e){return hg.setFromAxisAngle(t,e),this.quaternion.multiply(hg),this}},{key:"rotateOnWorldAxis",value:function(t,e){return hg.setFromAxisAngle(t,e),this.quaternion.premultiply(hg),this}},{key:"rotateX",value:function(t){return this.rotateOnAxis(gg,t)}},{key:"rotateY",value:function(t){return this.rotateOnAxis(yg,t)}},{key:"rotateZ",value:function(t){return this.rotateOnAxis(wg,t)}},{key:"translateOnAxis",value:function(t,e){return cg.copy(t).applyQuaternion(this.quaternion),this.position.add(cg.multiplyScalar(e)),this}},{key:"translateX",value:function(t){return this.translateOnAxis(gg,t)}},{key:"translateY",value:function(t){return this.translateOnAxis(yg,t)}},{key:"translateZ",value:function(t){return this.translateOnAxis(wg,t)}},{key:"localToWorld",value:function(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(fg.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(t,e,n){t.isVector3?dg.copy(t):dg.set(t,e,n);var i=this.parent;this.updateWorldMatrix(!0,!1),pg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fg.lookAt(pg,dg,this.up):fg.lookAt(dg,pg,this.up),this.quaternion.setFromRotationMatrix(fg),i&&(fg.extractRotation(i.matrixWorld),hg.setFromRotationMatrix(fg),this.quaternion.premultiply(hg.invert()))}},{key:"add",value:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(bg)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}},{key:"remove",value:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(xg)),this}},{key:"removeFromParent",value:function(){var t=this.parent;return null!==t&&t.remove(this),this}},{key:"clear",value:function(){for(var t=0;t<this.children.length;t++){var e=this.children[t];e.parent=null,e.dispatchEvent(xg)}return this.children.length=0,this}},{key:"attach",value:function(t){return this.updateWorldMatrix(!0,!1),fg.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),fg.multiply(t.parent.matrixWorld)),t.applyMatrix4(fg),this.add(t),t.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(t){return this.getObjectByProperty("id",t)}},{key:"getObjectByName",value:function(t){return this.getObjectByProperty("name",t)}},{key:"getObjectByProperty",value:function(t,e){if(this[t]===e)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(t,e);if(void 0!==r)return r}}},{key:"getObjectsByProperty",value:function(t,e){var n=[];this[t]===e&&n.push(this);for(var i=0,r=this.children.length;i<r;i++){var a=this.children[i].getObjectsByProperty(t,e);a.length>0&&(n=n.concat(a))}return n}},{key:"getWorldPosition",value:function(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pg,t,vg),t}},{key:"getWorldScale",value:function(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pg,mg,t),t}},{key:"getWorldDirection",value:function(t){this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(t){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverse(t)}},{key:"traverseVisible",value:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}}},{key:"traverseAncestors",value:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,i=e.length;n<i;n++){var r=e[n];!0!==r.matrixWorldAutoUpdate&&!0!==t||r.updateMatrixWorld(t)}}},{key:"updateWorldMatrix",value:function(t,e){var n=this.parent;if(!0===t&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var i=this.children,r=0,a=i.length;r<a;r++){var o=i[r];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(t){var e=void 0===t||"string"===typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];r(t.shapes,u)}else r(t.shapes,o)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],h=0,f=this.material.length;h<f;h++)c.push(r(t.materials,this.material[h]));i.material=c}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(var d=0;d<this.children.length;d++)i.children.push(this.children[d].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(var p=0;p<this.animations.length;p++){var v=this.animations[p];i.animations.push(r(t.animations,v))}}if(e){var m=k(t.geometries),g=k(t.materials),y=k(t.textures),w=k(t.images),b=k(t.shapes),x=k(t.skeletons),A=k(t.animations),_=k(t.nodes);m.length>0&&(n.geometries=m),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),w.length>0&&(n.images=w),b.length>0&&(n.shapes=b),x.length>0&&(n.skeletons=x),A.length>0&&(n.animations=A),_.length>0&&(n.nodes=_)}return n.object=i,n;function k(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}}},{key:"clone",value:function(t){return(new this.constructor).copy(this,t)}},{key:"copy",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var i=t.children[n];this.add(i.clone())}return this}}]),n}(Bv);Ag.DefaultUp=new xm(0,1,0),Ag.DefaultMatrixAutoUpdate=!0,Ag.DefaultMatrixWorldAutoUpdate=!0;var _g=new xm,kg=new xm,Sg=new xm,Mg=new xm,Eg=new xm,Cg=new xm,Pg=new xm,Tg=new xm,Lg=new xm,Og=new xm,zg=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xm,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xm,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new xm;yv(this,t),this.a=e,this.b=n,this.c=i}return bv(t,[{key:"set",value:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}},{key:"setFromAttributeAndIndices",value:function(t,e,n,i){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,i),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}},{key:"getArea",value:function(){return _g.subVectors(this.c,this.b),kg.subVectors(this.a,this.b),.5*_g.cross(kg).length()}},{key:"getMidpoint",value:function(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(e){return t.getNormal(this.a,this.b,this.c,e)}},{key:"getPlane",value:function(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(e,n){return t.getBarycoord(e,this.a,this.b,this.c,n)}},{key:"getUV",value:function(e,n,i,r,a){return t.getUV(e,this.a,this.b,this.c,n,i,r,a)}},{key:"containsPoint",value:function(e){return t.containsPoint(e,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(e){return t.isFrontFacing(this.a,this.b,this.c,e)}},{key:"intersectsBox",value:function(t){return t.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(t,e){var n,i,r=this.a,a=this.b,o=this.c;Eg.subVectors(a,r),Cg.subVectors(o,r),Tg.subVectors(t,r);var s=Eg.dot(Tg),l=Cg.dot(Tg);if(s<=0&&l<=0)return e.copy(r);Lg.subVectors(t,a);var u=Eg.dot(Lg),c=Cg.dot(Lg);if(u>=0&&c<=u)return e.copy(a);var h=s*c-u*l;if(h<=0&&s>=0&&u<=0)return n=s/(s-u),e.copy(r).addScaledVector(Eg,n);Og.subVectors(t,o);var f=Eg.dot(Og),d=Cg.dot(Og);if(d>=0&&f<=d)return e.copy(o);var p=f*l-s*d;if(p<=0&&l>=0&&d<=0)return i=l/(l-d),e.copy(r).addScaledVector(Cg,i);var v=u*d-f*c;if(v<=0&&c-u>=0&&f-d>=0)return Pg.subVectors(o,a),i=(c-u)/(c-u+(f-d)),e.copy(a).addScaledVector(Pg,i);var m=1/(v+p+h);return n=p*m,i=h*m,e.copy(r).addScaledVector(Eg,n).addScaledVector(Cg,i)}},{key:"equals",value:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}],[{key:"getNormal",value:function(t,e,n,i){i.subVectors(n,e),_g.subVectors(t,e),i.cross(_g);var r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}},{key:"getBarycoord",value:function(t,e,n,i,r){_g.subVectors(i,e),kg.subVectors(n,e),Sg.subVectors(t,e);var a=_g.dot(_g),o=_g.dot(kg),s=_g.dot(Sg),l=kg.dot(kg),u=kg.dot(Sg),c=a*l-o*o;if(0===c)return r.set(-2,-1,-1);var h=1/c,f=(l*s-o*u)*h,d=(a*u-o*s)*h;return r.set(1-f-d,d,f)}},{key:"containsPoint",value:function(t,e,n,i){return this.getBarycoord(t,e,n,i,Mg),Mg.x>=0&&Mg.y>=0&&Mg.x+Mg.y<=1}},{key:"getUV",value:function(t,e,n,i,r,a,o,s){return this.getBarycoord(t,e,n,i,Mg),s.set(0,0),s.addScaledVector(r,Mg.x),s.addScaledVector(a,Mg.y),s.addScaledVector(o,Mg.z),s}},{key:"isFrontFacing",value:function(t,e,n,i){return _g.subVectors(n,e),kg.subVectors(t,e),_g.cross(kg).dot(i)<0}}]),t}(),Rg=0,Dg=function(t){uv(n,t);var e=hv(n);function n(){var t;return yv(this,n),(t=e.call(this)).isMaterial=!0,Object.defineProperty(fv(t),"id",{value:Rg++}),t.uuid=Hv(),t.name="",t.type="Material",t.blending=1,t.side=Av,t.vertexColors=!1,t.opacity=1,t.transparent=!1,t.blendSrc=204,t.blendDst=205,t.blendEquation=100,t.blendSrcAlpha=null,t.blendDstAlpha=null,t.blendEquationAlpha=null,t.depthFunc=3,t.depthTest=!0,t.depthWrite=!0,t.stencilWriteMask=255,t.stencilFunc=519,t.stencilRef=0,t.stencilFuncMask=255,t.stencilFail=Dv,t.stencilZFail=Dv,t.stencilZPass=Dv,t.stencilWrite=!1,t.clippingPlanes=null,t.clipIntersection=!1,t.clipShadows=!1,t.shadowSide=null,t.colorWrite=!0,t.precision=null,t.polygonOffset=!1,t.polygonOffsetFactor=0,t.polygonOffsetUnits=0,t.dithering=!1,t.alphaToCoverage=!1,t.premultipliedAlpha=!1,t.visible=!0,t.toneMapped=!0,t.userData={},t.version=0,t._alphaTest=0,t}return bv(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(t){this._alphaTest>0!==t>0&&this.version++,this._alphaTest=t}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n){var i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}}},{key:"toJSON",value:function(t){var e=void 0===t||"string"===typeof t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),this.side!==Av&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),e){var r=i(t.textures),a=i(t.images);r.length>0&&(n.textures=r),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;var e=t.clippingPlanes,n=null;if(null!==e){var i=e.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}}]),n}(Bv),Ig=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this)).isMeshBasicMaterial=!0,i.type="MeshBasicMaterial",i.color=new dm(16777215),i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.specularMap=null,i.alphaMap=null,i.envMap=null,i.combine=0,i.reflectivity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.fog=!0,i.setValues(t),i}return bv(n,[{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}]),n}(Dg),Bg=new xm,Ng=new Zv,jg=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(yv(this,t),Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=void 0!==e?e.length/n:0,this.normalized=i,this.usage=Iv,this.updateRange={offset:0,count:-1},this.version=0}return bv(t,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}},{key:"setUsage",value:function(t){return this.usage=t,this}},{key:"copy",value:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}},{key:"copyAt",value:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this}},{key:"copyArray",value:function(t){return this.array.set(t),this}},{key:"applyMatrix3",value:function(t){if(2===this.itemSize)for(var e=0,n=this.count;e<n;e++)Ng.fromBufferAttribute(this,e),Ng.applyMatrix3(t),this.setXY(e,Ng.x,Ng.y);else if(3===this.itemSize)for(var i=0,r=this.count;i<r;i++)Bg.fromBufferAttribute(this,i),Bg.applyMatrix3(t),this.setXYZ(i,Bg.x,Bg.y,Bg.z);return this}},{key:"applyMatrix4",value:function(t){for(var e=0,n=this.count;e<n;e++)Bg.fromBufferAttribute(this,e),Bg.applyMatrix4(t),this.setXYZ(e,Bg.x,Bg.y,Bg.z);return this}},{key:"applyNormalMatrix",value:function(t){for(var e=0,n=this.count;e<n;e++)Bg.fromBufferAttribute(this,e),Bg.applyNormalMatrix(t),this.setXYZ(e,Bg.x,Bg.y,Bg.z);return this}},{key:"transformDirection",value:function(t){for(var e=0,n=this.count;e<n;e++)Bg.fromBufferAttribute(this,e),Bg.transformDirection(t),this.setXYZ(e,Bg.x,Bg.y,Bg.z);return this}},{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this}},{key:"getX",value:function(t){var e=this.array[t*this.itemSize];return this.normalized&&(e=Xv(e,this.array)),e}},{key:"setX",value:function(t,e){return this.normalized&&(e=Yv(e,this.array)),this.array[t*this.itemSize]=e,this}},{key:"getY",value:function(t){var e=this.array[t*this.itemSize+1];return this.normalized&&(e=Xv(e,this.array)),e}},{key:"setY",value:function(t,e){return this.normalized&&(e=Yv(e,this.array)),this.array[t*this.itemSize+1]=e,this}},{key:"getZ",value:function(t){var e=this.array[t*this.itemSize+2];return this.normalized&&(e=Xv(e,this.array)),e}},{key:"setZ",value:function(t,e){return this.normalized&&(e=Yv(e,this.array)),this.array[t*this.itemSize+2]=e,this}},{key:"getW",value:function(t){var e=this.array[t*this.itemSize+3];return this.normalized&&(e=Xv(e,this.array)),e}},{key:"setW",value:function(t,e){return this.normalized&&(e=Yv(e,this.array)),this.array[t*this.itemSize+3]=e,this}},{key:"setXY",value:function(t,e,n){return t*=this.itemSize,this.normalized&&(e=Yv(e,this.array),n=Yv(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}},{key:"setXYZ",value:function(t,e,n,i){return t*=this.itemSize,this.normalized&&(e=Yv(e,this.array),n=Yv(n,this.array),i=Yv(i,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this}},{key:"setXYZW",value:function(t,e,n,i,r){return t*=this.itemSize,this.normalized&&(e=Yv(e,this.array),n=Yv(n,this.array),i=Yv(i,this.array),r=Yv(r,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this}},{key:"onUpload",value:function(t){return this.onUploadCallback=t,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==Iv&&(t.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(t.updateRange=this.updateRange),t}},{key:"copyColorsArray",value:function(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}},{key:"copyVector2sArray",value:function(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}},{key:"copyVector3sArray",value:function(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}},{key:"copyVector4sArray",value:function(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}]),t}(),Fg=function(t){uv(n,t);var e=hv(n);function n(t,i,r){return yv(this,n),e.call(this,new Uint16Array(t),i,r)}return bv(n)}(jg),Ug=function(t){uv(n,t);var e=hv(n);function n(t,i,r){return yv(this,n),e.call(this,new Uint32Array(t),i,r)}return bv(n)}(jg),Hg=function(t){uv(n,t);var e=hv(n);function n(t,i,r){return yv(this,n),e.call(this,new Float32Array(t),i,r)}return bv(n)}(jg),Vg=0,Gg=new qm,Wg=new Ag,Qg=new xm,Xg=new km,Yg=new km,Jg=new xm,Zg=function(t){uv(n,t);var e=hv(n);function n(){var t;return yv(this,n),(t=e.call(this)).isBufferGeometry=!0,Object.defineProperty(fv(t),"id",{value:Vg++}),t.uuid=Hv(),t.name="",t.type="BufferGeometry",t.index=null,t.attributes={},t.morphAttributes={},t.morphTargetsRelative=!1,t.groups=[],t.boundingBox=null,t.boundingSphere=null,t.drawRange={start:0,count:1/0},t.userData={},t}return bv(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(t){return Array.isArray(t)?this.index=new(function(t){for(var e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}(t)?Ug:Fg)(t,1):this.index=t,this}},{key:"getAttribute",value:function(t){return this.attributes[t]}},{key:"setAttribute",value:function(t,e){return this.attributes[t]=e,this}},{key:"deleteAttribute",value:function(t){return delete this.attributes[t],this}},{key:"hasAttribute",value:function(t){return void 0!==this.attributes[t]}},{key:"addGroup",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:t,count:e,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(t,e){this.drawRange.start=t,this.drawRange.count=e}},{key:"applyMatrix4",value:function(t){var e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var i=(new qv).getNormalMatrix(t);n.applyNormalMatrix(i),n.needsUpdate=!0}var r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(t){return Gg.makeRotationFromQuaternion(t),this.applyMatrix4(Gg),this}},{key:"rotateX",value:function(t){return Gg.makeRotationX(t),this.applyMatrix4(Gg),this}},{key:"rotateY",value:function(t){return Gg.makeRotationY(t),this.applyMatrix4(Gg),this}},{key:"rotateZ",value:function(t){return Gg.makeRotationZ(t),this.applyMatrix4(Gg),this}},{key:"translate",value:function(t,e,n){return Gg.makeTranslation(t,e,n),this.applyMatrix4(Gg),this}},{key:"scale",value:function(t,e,n){return Gg.makeScale(t,e,n),this.applyMatrix4(Gg),this}},{key:"lookAt",value:function(t){return Wg.lookAt(t),Wg.updateMatrix(),this.applyMatrix4(Wg.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Qg).negate(),this.translate(Qg.x,Qg.y,Qg.z),this}},{key:"setFromPoints",value:function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Hg(e,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new km);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new xm(-1/0,-1/0,-1/0),new xm(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(var n=0,i=e.length;n<i;n++){var r=e[n];Xg.setFromBufferAttribute(r),this.morphTargetsRelative?(Jg.addVectors(this.boundingBox.min,Xg.min),this.boundingBox.expandByPoint(Jg),Jg.addVectors(this.boundingBox.max,Xg.max),this.boundingBox.expandByPoint(Jg)):(this.boundingBox.expandByPoint(Xg.min),this.boundingBox.expandByPoint(Xg.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Hm);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new xm,1/0);if(t){var n=this.boundingSphere.center;if(Xg.setFromBufferAttribute(t),e)for(var i=0,r=e.length;i<r;i++){var a=e[i];Yg.setFromBufferAttribute(a),this.morphTargetsRelative?(Jg.addVectors(Xg.min,Yg.min),Xg.expandByPoint(Jg),Jg.addVectors(Xg.max,Yg.max),Xg.expandByPoint(Jg)):(Xg.expandByPoint(Yg.min),Xg.expandByPoint(Yg.max))}Xg.getCenter(n);for(var o=0,s=0,l=t.count;s<l;s++)Jg.fromBufferAttribute(t,s),o=Math.max(o,n.distanceToSquared(Jg));if(e)for(var u=0,c=e.length;u<c;u++)for(var h=e[u],f=this.morphTargetsRelative,d=0,p=h.count;d<p;d++)Jg.fromBufferAttribute(h,d),f&&(Qg.fromBufferAttribute(t,d),Jg.add(Qg)),o=Math.max(o,n.distanceToSquared(Jg));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var t=this.index,e=this.attributes;if(null!==t&&void 0!==e.position&&void 0!==e.normal&&void 0!==e.uv){var n=t.array,i=e.position.array,r=e.normal.array,a=e.uv.array,o=i.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new jg(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,l=[],u=[],c=0;c<o;c++)l[c]=new xm,u[c]=new xm;var h=new xm,f=new xm,d=new xm,p=new Zv,v=new Zv,m=new Zv,g=new xm,y=new xm,w=this.groups;0===w.length&&(w=[{start:0,count:n.length}]);for(var b=0,x=w.length;b<x;++b)for(var A=w[b],_=A.start,k=_,S=_+A.count;k<S;k+=3)I(n[k+0],n[k+1],n[k+2]);for(var M=new xm,E=new xm,C=new xm,P=new xm,T=0,L=w.length;T<L;++T)for(var O=w[T],z=O.start,R=z,D=z+O.count;R<D;R+=3)B(n[R+0]),B(n[R+1]),B(n[R+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function I(t,e,n){h.fromArray(i,3*t),f.fromArray(i,3*e),d.fromArray(i,3*n),p.fromArray(a,2*t),v.fromArray(a,2*e),m.fromArray(a,2*n),f.sub(h),d.sub(h),v.sub(p),m.sub(p);var r=1/(v.x*m.y-m.x*v.y);isFinite(r)&&(g.copy(f).multiplyScalar(m.y).addScaledVector(d,-v.y).multiplyScalar(r),y.copy(d).multiplyScalar(v.x).addScaledVector(f,-m.x).multiplyScalar(r),l[t].add(g),l[e].add(g),l[n].add(g),u[t].add(y),u[e].add(y),u[n].add(y))}function B(t){C.fromArray(r,3*t),P.copy(C);var e=l[t];M.copy(e),M.sub(C.multiplyScalar(C.dot(e))).normalize(),E.crossVectors(P,e);var n=E.dot(u[t])<0?-1:1;s[4*t]=M.x,s[4*t+1]=M.y,s[4*t+2]=M.z,s[4*t+3]=n}}},{key:"computeVertexNormals",value:function(){var t=this.index,e=this.getAttribute("position");if(void 0!==e){var n=this.getAttribute("normal");if(void 0===n)n=new jg(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(var i=0,r=n.count;i<r;i++)n.setXYZ(i,0,0,0);var a=new xm,o=new xm,s=new xm,l=new xm,u=new xm,c=new xm,h=new xm,f=new xm;if(t)for(var d=0,p=t.count;d<p;d+=3){var v=t.getX(d+0),m=t.getX(d+1),g=t.getX(d+2);a.fromBufferAttribute(e,v),o.fromBufferAttribute(e,m),s.fromBufferAttribute(e,g),h.subVectors(s,o),f.subVectors(a,o),h.cross(f),l.fromBufferAttribute(n,v),u.fromBufferAttribute(n,m),c.fromBufferAttribute(n,g),l.add(h),u.add(h),c.add(h),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(m,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,w=e.count;y<w;y+=3)a.fromBufferAttribute(e,y+0),o.fromBufferAttribute(e,y+1),s.fromBufferAttribute(e,y+2),h.subVectors(s,o),f.subVectors(a,o),h.cross(f),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}},{key:"normalizeNormals",value:function(){for(var t=this.attributes.normal,e=0,n=t.count;e<n;e++)Jg.fromBufferAttribute(t,e),Jg.normalize(),t.setXYZ(e,Jg.x,Jg.y,Jg.z)}},{key:"toNonIndexed",value:function(){function t(t,e){for(var n=t.array,i=t.itemSize,r=t.normalized,a=new n.constructor(e.length*i),o=0,s=0,l=0,u=e.length;l<u;l++){o=t.isInterleavedBufferAttribute?e[l]*t.data.stride+t.offset:e[l]*i;for(var c=0;c<i;c++)a[s++]=n[o++]}return new jg(a,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var e=new n,i=this.index.array,r=this.attributes;for(var a in r){var o=t(r[a],i);e.setAttribute(a,o)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],h=0,f=c.length;h<f;h++){var d=t(c[h],i);u.push(d)}e.morphAttributes[l]=u}e.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,v=0,m=p.length;v<m;v++){var g=p[v];e.addGroup(g.start,g.count,g.materialIndex)}return e}},{key:"toJSON",value:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var i=this.index;null!==i&&(t.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});var r=this.attributes;for(var a in r){var o=r[a];t.data.attributes[a]=o.toJSON(t.data)}var s={},l=!1;for(var u in this.morphAttributes){for(var c=this.morphAttributes[u],h=[],f=0,d=c.length;f<d;f++){var p=c[f];h.push(p.toJSON(t.data))}h.length>0&&(s[u]=h,l=!0)}l&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(t.data.groups=JSON.parse(JSON.stringify(v)));var m=this.boundingSphere;return null!==m&&(t.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),t}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var e={};this.name=t.name;var n=t.index;null!==n&&this.setIndex(n.clone(e));var i=t.attributes;for(var r in i){var a=i[r];this.setAttribute(r,a.clone(e))}var o=t.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,h=u.length;c<h;c++)l.push(u[c].clone(e));this.morphAttributes[s]=l}this.morphTargetsRelative=t.morphTargetsRelative;for(var f=t.groups,d=0,p=f.length;d<p;d++){var v=f[d];this.addGroup(v.start,v.count,v.materialIndex)}var m=t.boundingBox;null!==m&&(this.boundingBox=m.clone());var g=t.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,void 0!==t.parameters&&(this.parameters=Object.assign({},t.parameters)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Bv),qg=new qm,Kg=new Zm,$g=new Hm,ty=new xm,ey=new xm,ny=new xm,iy=new xm,ry=new xm,ay=new Zv,oy=new Zv,sy=new Zv,ly=new xm,uy=new xm,cy=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zg,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ig;return yv(this,n),(t=e.call(this)).isMesh=!0,t.type="Mesh",t.geometry=i,t.material=r,t.updateMorphTargets(),t}return bv(n,[{key:"copy",value:function(t,e){return lv(pv(n.prototype),"copy",this).call(this,t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}},{key:"updateMorphTargets",value:function(){var t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){var n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,r=n.length;i<r;i++){var a=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}},{key:"getVertexPosition",value:function(t,e){var n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,a=n.morphTargetsRelative;e.fromBufferAttribute(i,t);var o=this.morphTargetInfluences;if(r&&o){ry.set(0,0,0);for(var s=0,l=r.length;s<l;s++){var u=o[s],c=r[s];0!==u&&(iy.fromBufferAttribute(c,t),a?ry.addScaledVector(iy,u):ry.addScaledVector(iy.sub(e),u))}e.add(ry)}return this.isSkinnedMesh&&this.boneTransform(t,e),e}},{key:"raycast",value:function(t,e){var n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0!==i&&(null===n.boundingSphere&&n.computeBoundingSphere(),$g.copy(n.boundingSphere),$g.applyMatrix4(r),!1!==t.ray.intersectsSphere($g)&&(qg.copy(r).invert(),Kg.copy(t.ray).applyMatrix4(qg),null===n.boundingBox||!1!==Kg.intersectsBox(n.boundingBox)))){var a,o=n.index,s=n.attributes.position,l=n.attributes.uv,u=n.attributes.uv2,c=n.groups,h=n.drawRange;if(null!==o)if(Array.isArray(i))for(var f=0,d=c.length;f<d;f++)for(var p=c[f],v=i[p.materialIndex],m=Math.max(p.start,h.start),g=Math.min(o.count,Math.min(p.start+p.count,h.start+h.count));m<g;m+=3){var y=o.getX(m),w=o.getX(m+1),b=o.getX(m+2);(a=hy(this,v,t,Kg,l,u,y,w,b))&&(a.faceIndex=Math.floor(m/3),a.face.materialIndex=p.materialIndex,e.push(a))}else for(var x=Math.max(0,h.start),A=Math.min(o.count,h.start+h.count);x<A;x+=3){var _=o.getX(x),k=o.getX(x+1),S=o.getX(x+2);(a=hy(this,i,t,Kg,l,u,_,k,S))&&(a.faceIndex=Math.floor(x/3),e.push(a))}else if(void 0!==s)if(Array.isArray(i))for(var M=0,E=c.length;M<E;M++)for(var C=c[M],P=i[C.materialIndex],T=Math.max(C.start,h.start),L=Math.min(s.count,Math.min(C.start+C.count,h.start+h.count));T<L;T+=3){(a=hy(this,P,t,Kg,l,u,T,T+1,T+2))&&(a.faceIndex=Math.floor(T/3),a.face.materialIndex=C.materialIndex,e.push(a))}else for(var O=Math.max(0,h.start),z=Math.min(s.count,h.start+h.count);O<z;O+=3){(a=hy(this,i,t,Kg,l,u,O,O+1,O+2))&&(a.faceIndex=Math.floor(O/3),e.push(a))}}}}]),n}(Ag);function hy(t,e,n,i,r,a,o,s,l){t.getVertexPosition(o,ty),t.getVertexPosition(s,ey),t.getVertexPosition(l,ny);var u=function(t,e,n,i,r,a,o,s){if(null===(e.side===_v?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,e.side===Av,s)))return null;uy.copy(s),uy.applyMatrix4(t.matrixWorld);var l=n.ray.origin.distanceTo(uy);return l<n.near||l>n.far?null:{distance:l,point:uy.clone(),object:t}}(t,e,n,i,ty,ey,ny,ly);if(u){r&&(ay.fromBufferAttribute(r,o),oy.fromBufferAttribute(r,s),sy.fromBufferAttribute(r,l),u.uv=zg.getUV(ly,ty,ey,ny,ay,oy,sy,new Zv)),a&&(ay.fromBufferAttribute(a,o),oy.fromBufferAttribute(a,s),sy.fromBufferAttribute(a,l),u.uv2=zg.getUV(ly,ty,ey,ny,ay,oy,sy,new Zv));var c={a:o,b:s,c:l,normal:new xm,materialIndex:0};zg.getNormal(ty,ey,ny,c.normal),u.face=c}return u}var fy=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;yv(this,n),(t=e.call(this)).type="BoxGeometry",t.parameters={width:i,height:r,depth:a,widthSegments:o,heightSegments:s,depthSegments:l};var u=fv(t);o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);var c=[],h=[],f=[],d=[],p=0,v=0;function m(t,e,n,i,r,a,o,s,l,m,g){for(var y=a/l,w=o/m,b=a/2,x=o/2,A=s/2,_=l+1,k=m+1,S=0,M=0,E=new xm,C=0;C<k;C++)for(var P=C*w-x,T=0;T<_;T++){var L=T*y-b;E[t]=L*i,E[e]=P*r,E[n]=A,h.push(E.x,E.y,E.z),E[t]=0,E[e]=0,E[n]=s>0?1:-1,f.push(E.x,E.y,E.z),d.push(T/l),d.push(1-C/m),S+=1}for(var O=0;O<m;O++)for(var z=0;z<l;z++){var R=p+z+_*O,D=p+z+_*(O+1),I=p+(z+1)+_*(O+1),B=p+(z+1)+_*O;c.push(R,D,B),c.push(D,I,B),M+=6}u.addGroup(v,M,g),v+=M,p+=S}return m("z","y","x",-1,-1,a,r,i,l,s,0),m("z","y","x",1,-1,a,r,-i,l,s,1),m("x","z","y",1,1,i,a,r,o,l,2),m("x","z","y",1,-1,i,a,-r,o,l,3),m("x","y","z",1,-1,i,r,a,o,s,4),m("x","y","z",-1,-1,i,r,-a,o,s,5),t.setIndex(c),t.setAttribute("position",new Hg(h,3)),t.setAttribute("normal",new Hg(f,3)),t.setAttribute("uv",new Hg(d,2)),t}return bv(n,null,[{key:"fromJSON",value:function(t){return new n(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}]),n}(Zg);var dy,py=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this)).isShaderMaterial=!0,i.type="ShaderMaterial",i.defines={},i.uniforms={},i.uniformsGroups=[],i.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",i.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",i.linewidth=1,i.wireframe=!1,i.wireframeLinewidth=1,i.fog=!1,i.lights=!1,i.clipping=!1,i.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},i.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},i.index0AttributeName=void 0,i.uniformsNeedUpdate=!1,i.glslVersion=null,void 0!==t&&i.setValues(t),i}return bv(n,[{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=function(t){var e={};for(var n in t)for(var i in e[n]={},t[n]){var r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}return e}(t.uniforms),this.uniformsGroups=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].clone());return e}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}},{key:"toJSON",value:function(t){var e=lv(pv(n.prototype),"toJSON",this).call(this,t);for(var i in e.glslVersion=this.glslVersion,e.uniforms={},this.uniforms){var r=this.uniforms[i].value;r&&r.isTexture?e.uniforms[i]={type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?e.uniforms[i]={type:"c",value:r.getHex()}:r&&r.isVector2?e.uniforms[i]={type:"v2",value:r.toArray()}:r&&r.isVector3?e.uniforms[i]={type:"v3",value:r.toArray()}:r&&r.isVector4?e.uniforms[i]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?e.uniforms[i]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?e.uniforms[i]={type:"m4",value:r.toArray()}:e.uniforms[i]={value:r}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(e.extensions=a),e}}]),n}(Dg),vy=function(t){uv(n,t);var e=hv(n);function n(){var t;return yv(this,n),(t=e.call(this)).isCamera=!0,t.type="Camera",t.matrixWorldInverse=new qm,t.projectionMatrix=new qm,t.projectionMatrixInverse=new qm,t}return bv(n,[{key:"copy",value:function(t,e){return lv(pv(n.prototype),"copy",this).call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(t){this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}},{key:"updateMatrixWorld",value:function(t){lv(pv(n.prototype),"updateMatrixWorld",this).call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(t,e){lv(pv(n.prototype),"updateWorldMatrix",this).call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Ag),my=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return yv(this,n),(t=e.call(this)).isPerspectiveCamera=!0,t.type="PerspectiveCamera",t.fov=i,t.zoom=1,t.near=a,t.far=o,t.focus=10,t.aspect=r,t.view=null,t.filmGauge=35,t.filmOffset=0,t.updateProjectionMatrix(),t}return bv(n,[{key:"copy",value:function(t,e){return lv(pv(n.prototype),"copy",this).call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}},{key:"setFocalLength",value:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Uv*Math.atan(e),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var t=Math.tan(.5*Fv*this.fov);return.5*this.getFilmHeight()/t}},{key:"getEffectiveFOV",value:function(){return 2*Uv*Math.atan(Math.tan(.5*Fv*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(t,e,n,i,r,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var t=this.near,e=t*Math.tan(.5*Fv*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*i/o,e-=a.offsetY*n/s,i*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(r+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(t){var e=lv(pv(n.prototype),"toJSON",this).call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}]),n}(vy),gy=function(t){uv(n,t);var e=hv(n);function n(t,i,r,a,o,s,l,u,c,h){var f;return yv(this,n),t=void 0!==t?t:[],i=void 0!==i?i:301,(f=e.call(this,t,i,r,a,o,s,l,u,c,h)).isCubeTexture=!0,f.flipY=!1,f}return bv(n,[{key:"images",get:function(){return this.image},set:function(t){this.image=t}}]),n}(ym),yy=new xm,wy=new xm,by=new qv,xy=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xm(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;yv(this,t),this.isPlane=!0,this.normal=e,this.constant=n}return bv(t,[{key:"set",value:function(t,e){return this.normal.copy(t),this.constant=e,this}},{key:"setComponents",value:function(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}},{key:"setFromNormalAndCoplanarPoint",value:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(t,e,n){var i=yy.subVectors(n,e).cross(wy.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}},{key:"copy",value:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this}},{key:"normalize",value:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(t){return this.normal.dot(t)+this.constant}},{key:"distanceToSphere",value:function(t){return this.distanceToPoint(t.center)-t.radius}},{key:"projectPoint",value:function(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}},{key:"intersectLine",value:function(t,e){var n=t.delta(yy),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;var r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:e.copy(n).multiplyScalar(r).add(t.start)}},{key:"intersectsLine",value:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}},{key:"intersectsBox",value:function(t){return t.intersectsPlane(this)}},{key:"intersectsSphere",value:function(t){return t.intersectsPlane(this)}},{key:"coplanarPoint",value:function(t){return t.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(t,e){var n=e||by.getNormalMatrix(t),i=this.coplanarPoint(yy).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}},{key:"translate",value:function(t){return this.constant-=t.dot(this.normal),this}},{key:"equals",value:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),Ay=new Hm,_y=new xm,ky=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xy,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xy,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new xy,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new xy,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new xy,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new xy;yv(this,t),this.planes=[e,n,i,r,a,o]}return bv(t,[{key:"set",value:function(t,e,n,i,r,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this}},{key:"copy",value:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(t){var e=this.planes,n=t.elements,i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],h=n[8],f=n[9],d=n[10],p=n[11],v=n[12],m=n[13],g=n[14],y=n[15];return e[0].setComponents(o-i,c-s,p-h,y-v).normalize(),e[1].setComponents(o+i,c+s,p+h,y+v).normalize(),e[2].setComponents(o+r,c+l,p+f,y+m).normalize(),e[3].setComponents(o-r,c-l,p-f,y-m).normalize(),e[4].setComponents(o-a,c-u,p-d,y-g).normalize(),e[5].setComponents(o+a,c+u,p+d,y+g).normalize(),this}},{key:"intersectsObject",value:function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Ay.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Ay)}},{key:"intersectsSprite",value:function(t){return Ay.center.set(0,0,0),Ay.radius=.7071067811865476,Ay.applyMatrix4(t.matrixWorld),this.intersectsSphere(Ay)}},{key:"intersectsSphere",value:function(t){for(var e=this.planes,n=t.center,i=-t.radius,r=0;r<6;r++){if(e[r].distanceToPoint(n)<i)return!1}return!0}},{key:"intersectsBox",value:function(t){for(var e=this.planes,n=0;n<6;n++){var i=e[n];if(_y.x=i.normal.x>0?t.max.x:t.min.x,_y.y=i.normal.y>0?t.max.y:t.min.y,_y.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(_y)<0)return!1}return!0}},{key:"containsPoint",value:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),Sy=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;yv(this,n),(t=e.call(this)).type="PlaneGeometry",t.parameters={width:i,height:r,widthSegments:a,heightSegments:o};for(var s=i/2,l=r/2,u=Math.floor(a),c=Math.floor(o),h=u+1,f=c+1,d=i/u,p=r/c,v=[],m=[],g=[],y=[],w=0;w<f;w++)for(var b=w*p-l,x=0;x<h;x++){var A=x*d-s;m.push(A,-b,0),g.push(0,0,1),y.push(x/u),y.push(1-w/c)}for(var _=0;_<c;_++)for(var k=0;k<u;k++){var S=k+h*_,M=k+h*(_+1),E=k+1+h*(_+1),C=k+1+h*_;v.push(S,M,C),v.push(M,E,C)}return t.setIndex(v),t.setAttribute("position",new Hg(m,3)),t.setAttribute("normal",new Hg(g,3)),t.setAttribute("uv",new Hg(y,2)),t}return bv(n,null,[{key:"fromJSON",value:function(t){return new n(t.width,t.height,t.widthSegments,t.heightSegments)}}]),n}(Zg),My=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return yv(this,n),(t=e.call(this)).isOrthographicCamera=!0,t.type="OrthographicCamera",t.zoom=1,t.view=null,t.left=i,t.right=r,t.top=a,t.bottom=o,t.near=s,t.far=l,t.updateProjectionMatrix(),t}return bv(n,[{key:"copy",value:function(t,e){return lv(pv(n.prototype),"copy",this).call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}},{key:"setViewOffset",value:function(t,e,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-t,a=n+t,o=i+e,s=i-e;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(r+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(t){var e=lv(pv(n.prototype),"toJSON",this).call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}]),n}(vy),Ey=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this)).isMeshDepthMaterial=!0,i.type="MeshDepthMaterial",i.depthPacking=3200,i.map=null,i.alphaMap=null,i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.wireframe=!1,i.wireframeLinewidth=1,i.setValues(t),i}return bv(n,[{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}]),n}(Dg),Cy=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this)).isMeshDistanceMaterial=!0,i.type="MeshDistanceMaterial",i.referencePosition=new xm,i.nearDistance=1,i.farDistance=1e3,i.map=null,i.alphaMap=null,i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.setValues(t),i}return bv(n,[{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}]),n}(Dg),Py=function(t){uv(n,t);var e=hv(n);function n(){var t;return yv(this,n),(t=e.call(this)).isGroup=!0,t.type="Group",t}return bv(n)}(Ag),Ty=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;yv(this,t),this.isFogExp2=!0,this.name="",this.color=new dm(e),this.density=n}return bv(t,[{key:"clone",value:function(){return new t(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),t}(),Ly=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;yv(this,t),this.isFog=!0,this.name="",this.color=new dm(e),this.near=n,this.far=i}return bv(t,[{key:"clone",value:function(){return new t(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),t}(),Oy=function(t){uv(n,t);var e=hv(n);function n(){var t;return yv(this,n),(t=e.call(this)).isScene=!0,t.type="Scene",t.background=null,t.environment=null,t.fog=null,t.backgroundBlurriness=0,t.backgroundIntensity=1,t.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:fv(t)})),t}return bv(n,[{key:"copy",value:function(t,e){return lv(pv(n.prototype),"copy",this).call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}},{key:"toJSON",value:function(t){var e=lv(pv(n.prototype),"toJSON",this).call(this,t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.backgroundIntensity=this.backgroundIntensity),e}},{key:"autoUpdate",get:function(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate},set:function(t){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=t}}]),n}(Ag),zy=function(){function t(e,n){yv(this,t),this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=void 0!==e?e.length/n:0,this.usage=Iv,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Hv()}return bv(t,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}},{key:"setUsage",value:function(t){return this.usage=t,this}},{key:"copy",value:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}},{key:"copyAt",value:function(t,e,n){t*=this.stride,n*=e.stride;for(var i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this}},{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this}},{key:"clone",value:function(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Hv()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(t){return this.onUploadCallback=t,this}},{key:"toJSON",value:function(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Hv()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),t}(),Ry=new xm,Dy=function(){function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];yv(this,t),this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}return bv(t,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(t){this.data.needsUpdate=t}},{key:"applyMatrix4",value:function(t){for(var e=0,n=this.data.count;e<n;e++)Ry.fromBufferAttribute(this,e),Ry.applyMatrix4(t),this.setXYZ(e,Ry.x,Ry.y,Ry.z);return this}},{key:"applyNormalMatrix",value:function(t){for(var e=0,n=this.count;e<n;e++)Ry.fromBufferAttribute(this,e),Ry.applyNormalMatrix(t),this.setXYZ(e,Ry.x,Ry.y,Ry.z);return this}},{key:"transformDirection",value:function(t){for(var e=0,n=this.count;e<n;e++)Ry.fromBufferAttribute(this,e),Ry.transformDirection(t),this.setXYZ(e,Ry.x,Ry.y,Ry.z);return this}},{key:"setX",value:function(t,e){return this.normalized&&(e=Yv(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}},{key:"setY",value:function(t,e){return this.normalized&&(e=Yv(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}},{key:"setZ",value:function(t,e){return this.normalized&&(e=Yv(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}},{key:"setW",value:function(t,e){return this.normalized&&(e=Yv(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}},{key:"getX",value:function(t){var e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=Xv(e,this.array)),e}},{key:"getY",value:function(t){var e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=Xv(e,this.array)),e}},{key:"getZ",value:function(t){var e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=Xv(e,this.array)),e}},{key:"getW",value:function(t){var e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=Xv(e,this.array)),e}},{key:"setXY",value:function(t,e,n){return t=t*this.data.stride+this.offset,this.normalized&&(e=Yv(e,this.array),n=Yv(n,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this}},{key:"setXYZ",value:function(t,e,n,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=Yv(e,this.array),n=Yv(n,this.array),i=Yv(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this}},{key:"setXYZW",value:function(t,e,n,i,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=Yv(e,this.array),n=Yv(n,this.array),i=Yv(i,this.array),r=Yv(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this}},{key:"clone",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");for(var n=[],i=0;i<this.count;i++)for(var r=i*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[r+a]);return new jg(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new t(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");for(var e=[],n=0;n<this.count;n++)for(var i=n*this.data.stride+this.offset,r=0;r<this.itemSize;r++)e.push(this.data.array[i+r]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),t}(),Iy=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this)).isSpriteMaterial=!0,i.type="SpriteMaterial",i.color=new dm(16777215),i.map=null,i.alphaMap=null,i.rotation=0,i.sizeAttenuation=!0,i.transparent=!0,i.fog=!0,i.setValues(t),i}return bv(n,[{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}]),n}(Dg),By=new xm,Ny=new xm,jy=new xm,Fy=new Zv,Uy=new Zv,Hy=new qm,Vy=new xm,Gy=new xm,Wy=new xm,Qy=new Zv,Xy=new Zv,Yy=new Zv,Jy=function(t){uv(n,t);var e=hv(n);function n(t){var i;if(yv(this,n),(i=e.call(this)).isSprite=!0,i.type="Sprite",void 0===dy){dy=new Zg;var r=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new zy(r,5);dy.setIndex([0,1,2,0,2,3]),dy.setAttribute("position",new Dy(a,3,0,!1)),dy.setAttribute("uv",new Dy(a,2,3,!1))}return i.geometry=dy,i.material=void 0!==t?t:new Iy,i.center=new Zv(.5,.5),i}return bv(n,[{key:"raycast",value:function(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ny.setFromMatrixScale(this.matrixWorld),Hy.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),jy.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Ny.multiplyScalar(-jy.z);var n,i,r=this.material.rotation;0!==r&&(i=Math.cos(r),n=Math.sin(r));var a=this.center;Zy(Vy.set(-.5,-.5,0),jy,a,Ny,n,i),Zy(Gy.set(.5,-.5,0),jy,a,Ny,n,i),Zy(Wy.set(.5,.5,0),jy,a,Ny,n,i),Qy.set(0,0),Xy.set(1,0),Yy.set(1,1);var o=t.ray.intersectTriangle(Vy,Gy,Wy,!1,By);if(null!==o||(Zy(Gy.set(-.5,.5,0),jy,a,Ny,n,i),Xy.set(0,1),null!==(o=t.ray.intersectTriangle(Vy,Wy,Gy,!1,By)))){var s=t.ray.origin.distanceTo(By);s<t.near||s>t.far||e.push({distance:s,point:By.clone(),uv:zg.getUV(By,Vy,Gy,Wy,Qy,Xy,Yy,new Zv),face:null,object:this})}}},{key:"copy",value:function(t,e){return lv(pv(n.prototype),"copy",this).call(this,t,e),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}]),n}(Ag);function Zy(t,e,n,i,r,a){Fy.subVectors(t,n).addScalar(.5).multiply(i),void 0!==r?(Uy.x=a*Fy.x-r*Fy.y,Uy.y=r*Fy.x+a*Fy.y):Uy.copy(Fy),t.copy(e),t.x+=Uy.x,t.y+=Uy.y,t.applyMatrix4(Hy)}var qy=new xm,Ky=new xm,$y=function(t){uv(n,t);var e=hv(n);function n(){var t;return yv(this,n),(t=e.call(this))._currentLevel=0,t.type="LOD",Object.defineProperties(fv(t),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),t.autoUpdate=!0,t}return bv(n,[{key:"copy",value:function(t){lv(pv(n.prototype),"copy",this).call(this,t,!1);for(var e=t.levels,i=0,r=e.length;i<r;i++){var a=e[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=t.autoUpdate,this}},{key:"addLevel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e=Math.abs(e);var i,r=this.levels;for(i=0;i<r.length&&!(e<r[i].distance);i++);return r.splice(i,0,{distance:e,hysteresis:n,object:t}),this.add(t),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(t){var e=this.levels;if(e.length>0){var n,i;for(n=1,i=e.length;n<i;n++){var r=e[n].distance;if(e[n].object.visible&&(r-=r*e[n].hysteresis),t<r)break}return e[n-1].object}return null}},{key:"raycast",value:function(t,e){if(this.levels.length>0){qy.setFromMatrixPosition(this.matrixWorld);var n=t.ray.origin.distanceTo(qy);this.getObjectForDistance(n).raycast(t,e)}}},{key:"update",value:function(t){var e=this.levels;if(e.length>1){qy.setFromMatrixPosition(t.matrixWorld),Ky.setFromMatrixPosition(this.matrixWorld);var n,i,r=qy.distanceTo(Ky)/t.zoom;for(e[0].object.visible=!0,n=1,i=e.length;n<i;n++){var a=e[n].distance;if(e[n].object.visible&&(a-=a*e[n].hysteresis),!(r>=a))break;e[n-1].object.visible=!1,e[n].object.visible=!0}for(this._currentLevel=n-1;n<i;n++)e[n].object.visible=!1}}},{key:"toJSON",value:function(t){var e=lv(pv(n.prototype),"toJSON",this).call(this,t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];for(var i=this.levels,r=0,a=i.length;r<a;r++){var o=i[r];e.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return e}}]),n}(Ag),tw=new xm,ew=new wm,nw=new wm,iw=new xm,rw=new qm,aw=function(t){uv(n,t);var e=hv(n);function n(t,i){var r;return yv(this,n),(r=e.call(this,t,i)).isSkinnedMesh=!0,r.type="SkinnedMesh",r.bindMode="attached",r.bindMatrix=new qm,r.bindMatrixInverse=new qm,r}return bv(n,[{key:"copy",value:function(t,e){return lv(pv(n.prototype),"copy",this).call(this,t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}},{key:"bind",value:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var t=new wm,e=this.geometry.attributes.skinWeight,n=0,i=e.count;n<i;n++){t.fromBufferAttribute(e,n);var r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}}},{key:"updateMatrixWorld",value:function(t){lv(pv(n.prototype),"updateMatrixWorld",this).call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(t,e){var n=this.skeleton,i=this.geometry;ew.fromBufferAttribute(i.attributes.skinIndex,t),nw.fromBufferAttribute(i.attributes.skinWeight,t),tw.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(var r=0;r<4;r++){var a=nw.getComponent(r);if(0!==a){var o=ew.getComponent(r);rw.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),e.addScaledVector(iw.copy(tw).applyMatrix4(rw),a)}}return e.applyMatrix4(this.bindMatrixInverse)}}]),n}(cy),ow=function(t){uv(n,t);var e=hv(n);function n(){var t;return yv(this,n),(t=e.call(this)).isBone=!0,t.type="Bone",t}return bv(n)}(Ag),sw=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Ev,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Ev,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return yv(this,n),(t=e.call(this,null,l,u,c,h,f,o,s,d,p)).isDataTexture=!0,t.image={data:i,width:r,height:a},t.generateMipmaps=!1,t.flipY=!1,t.unpackAlignment=1,t}return bv(n)}(ym),lw=new qm,uw=new qm,cw=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];yv(this,t),this.uuid=Hv(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return bv(t,[{key:"init",value:function(){var t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new qm)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var t=0,e=this.bones.length;t<e;t++){var n=new qm;this.bones[t]&&n.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var t=0,e=this.bones.length;t<e;t++){var n=this.bones[t];n&&n.matrixWorld.copy(this.boneInverses[t]).invert()}for(var i=0,r=this.bones.length;i<r;i++){var a=this.bones[i];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture,r=0,a=t.length;r<a;r++){var o=t[r]?t[r].matrixWorld:uw;lw.multiplyMatrices(o,e[r]),lw.toArray(n,16*r)}null!==i&&(i.needsUpdate=!0)}},{key:"clone",value:function(){return new t(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var t=Math.sqrt(4*this.bones.length);t=Qv(t),t=Math.max(t,4);var e=new Float32Array(t*t*4);e.set(this.boneMatrices);var n=new sw(e,t,t,Pv,1015);return n.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=n,this.boneTextureSize=t,this}},{key:"getBoneByName",value:function(t){for(var e=0,n=this.bones.length;e<n;e++){var i=this.bones[e];if(i.name===t)return i}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(t,e){this.uuid=t.uuid;for(var n=0,i=t.bones.length;n<i;n++){var r=t.bones[n],a=e[r];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),a=new ow),this.bones.push(a),this.boneInverses.push((new qm).fromArray(t.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;for(var e=this.bones,n=this.boneInverses,i=0,r=e.length;i<r;i++){var a=e[i];t.bones.push(a.uuid);var o=n[i];t.boneInverses.push(o.toArray())}return t}}]),t}(),hw=function(t){uv(n,t);var e=hv(n);function n(t,i,r){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return yv(this,n),(a=e.call(this,t,i,r)).isInstancedBufferAttribute=!0,a.meshPerAttribute=o,a}return bv(n,[{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}},{key:"toJSON",value:function(){var t=lv(pv(n.prototype),"toJSON",this).call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}]),n}(jg),fw=new qm,dw=new qm,pw=[],vw=new qm,mw=new cy,gw=function(t){uv(n,t);var e=hv(n);function n(t,i,r){var a;yv(this,n),(a=e.call(this,t,i)).isInstancedMesh=!0,a.instanceMatrix=new hw(new Float32Array(16*r),16),a.instanceColor=null,a.count=r,a.frustumCulled=!1;for(var o=0;o<r;o++)a.setMatrixAt(o,vw);return a}return bv(n,[{key:"copy",value:function(t,e){return lv(pv(n.prototype),"copy",this).call(this,t,e),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this}},{key:"getColorAt",value:function(t,e){e.fromArray(this.instanceColor.array,3*t)}},{key:"getMatrixAt",value:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)}},{key:"raycast",value:function(t,e){var n=this.matrixWorld,i=this.count;if(mw.geometry=this.geometry,mw.material=this.material,void 0!==mw.material)for(var r=0;r<i;r++){this.getMatrixAt(r,fw),dw.multiplyMatrices(n,fw),mw.matrixWorld=dw,mw.raycast(t,pw);for(var a=0,o=pw.length;a<o;a++){var s=pw[a];s.instanceId=r,s.object=this,e.push(s)}pw.length=0}}},{key:"setColorAt",value:function(t,e){null===this.instanceColor&&(this.instanceColor=new hw(new Float32Array(3*this.instanceMatrix.count),3)),e.toArray(this.instanceColor.array,3*t)}},{key:"setMatrixAt",value:function(t,e){e.toArray(this.instanceMatrix.array,16*t)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(cy),yw=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this)).isLineBasicMaterial=!0,i.type="LineBasicMaterial",i.color=new dm(16777215),i.linewidth=1,i.linecap="round",i.linejoin="round",i.fog=!0,i.setValues(t),i}return bv(n,[{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}]),n}(Dg),ww=new xm,bw=new xm,xw=new qm,Aw=new Zm,_w=new Hm,kw=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zg,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new yw;return yv(this,n),(t=e.call(this)).isLine=!0,t.type="Line",t.geometry=i,t.material=r,t.updateMorphTargets(),t}return bv(n,[{key:"copy",value:function(t,e){return lv(pv(n.prototype),"copy",this).call(this,t,e),this.material=t.material,this.geometry=t.geometry,this}},{key:"computeLineDistances",value:function(){var t=this.geometry;if(null===t.index){for(var e=t.attributes.position,n=[0],i=1,r=e.count;i<r;i++)ww.fromBufferAttribute(e,i-1),bw.fromBufferAttribute(e,i),n[i]=n[i-1],n[i]+=ww.distanceTo(bw);t.setAttribute("lineDistance",new Hg(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(t,e){var n=this.geometry,i=this.matrixWorld,r=t.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),_w.copy(n.boundingSphere),_w.applyMatrix4(i),_w.radius+=r,!1!==t.ray.intersectsSphere(_w)){xw.copy(i).invert(),Aw.copy(t.ray).applyMatrix4(xw);var o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new xm,u=new xm,c=new xm,h=new xm,f=this.isLineSegments?2:1,d=n.index,p=n.attributes.position;if(null!==d)for(var v=Math.max(0,a.start),m=Math.min(d.count,a.start+a.count)-1;v<m;v+=f){var g=d.getX(v),y=d.getX(v+1);if(l.fromBufferAttribute(p,g),u.fromBufferAttribute(p,y),!(Aw.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var w=t.ray.origin.distanceTo(h);w<t.near||w>t.far||e.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(var b=Math.max(0,a.start),x=Math.min(p.count,a.start+a.count)-1;b<x;b+=f){if(l.fromBufferAttribute(p,b),u.fromBufferAttribute(p,b+1),!(Aw.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var A=t.ray.origin.distanceTo(h);A<t.near||A>t.far||e.push({distance:A,point:c.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}}},{key:"updateMorphTargets",value:function(){var t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){var n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,r=n.length;i<r;i++){var a=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}}]),n}(Ag),Sw=new xm,Mw=new xm,Ew=function(t){uv(n,t);var e=hv(n);function n(t,i){var r;return yv(this,n),(r=e.call(this,t,i)).isLineSegments=!0,r.type="LineSegments",r}return bv(n,[{key:"computeLineDistances",value:function(){var t=this.geometry;if(null===t.index){for(var e=t.attributes.position,n=[],i=0,r=e.count;i<r;i+=2)Sw.fromBufferAttribute(e,i),Mw.fromBufferAttribute(e,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+Sw.distanceTo(Mw);t.setAttribute("lineDistance",new Hg(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}]),n}(kw),Cw=function(t){uv(n,t);var e=hv(n);function n(t,i){var r;return yv(this,n),(r=e.call(this,t,i)).isLineLoop=!0,r.type="LineLoop",r}return bv(n)}(kw),Pw=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this)).isPointsMaterial=!0,i.type="PointsMaterial",i.color=new dm(16777215),i.map=null,i.alphaMap=null,i.size=1,i.sizeAttenuation=!0,i.fog=!0,i.setValues(t),i}return bv(n,[{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}]),n}(Dg),Tw=new qm,Lw=new Zm,Ow=new Hm,zw=new xm,Rw=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zg,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Pw;return yv(this,n),(t=e.call(this)).isPoints=!0,t.type="Points",t.geometry=i,t.material=r,t.updateMorphTargets(),t}return bv(n,[{key:"copy",value:function(t,e){return lv(pv(n.prototype),"copy",this).call(this,t,e),this.material=t.material,this.geometry=t.geometry,this}},{key:"raycast",value:function(t,e){var n=this.geometry,i=this.matrixWorld,r=t.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Ow.copy(n.boundingSphere),Ow.applyMatrix4(i),Ow.radius+=r,!1!==t.ray.intersectsSphere(Ow)){Tw.copy(i).invert(),Lw.copy(t.ray).applyMatrix4(Tw);var o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,u=n.attributes.position;if(null!==l)for(var c=Math.max(0,a.start),h=Math.min(l.count,a.start+a.count);c<h;c++){var f=l.getX(c);zw.fromBufferAttribute(u,f),Dw(zw,f,s,i,t,e,this)}else for(var d=Math.max(0,a.start),p=Math.min(u.count,a.start+a.count);d<p;d++)zw.fromBufferAttribute(u,d),Dw(zw,d,s,i,t,e,this)}}},{key:"updateMorphTargets",value:function(){var t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){var n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,r=n.length;i<r;i++){var a=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}}]),n}(Ag);function Dw(t,e,n,i,r,a,o){var s=Lw.distanceSqToPoint(t);if(s<n){var l=new xm;Lw.closestPointToPoint(t,l),l.applyMatrix4(i);var u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:o})}}var Iw=function(t){uv(n,t);var e=hv(n);function n(t,i,r,a,o,s,l,u,c){var h;yv(this,n),(h=e.call(this,t,i,r,a,o,s,l,u,c)).isVideoTexture=!0,h.minFilter=void 0!==s?s:Cv,h.magFilter=void 0!==o?o:Cv,h.generateMipmaps=!1;var f=fv(h);return"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback((function e(){f.needsUpdate=!0,t.requestVideoFrameCallback(e)})),h}return bv(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var t=this.image;!1==="requestVideoFrameCallback"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(ym),Bw=function(t){uv(n,t);var e=hv(n);function n(t,i,r){var a;return yv(this,n),(a=e.call(this,{width:t,height:i})).isFramebufferTexture=!0,a.format=r,a.magFilter=Ev,a.minFilter=Ev,a.generateMipmaps=!1,a.needsUpdate=!0,a}return bv(n)}(ym),Nw=function(t){uv(n,t);var e=hv(n);function n(t,i,r,a,o,s,l,u,c){var h;return yv(this,n),(h=e.call(this,t,i,r,a,o,s,l,u,c)).isCanvasTexture=!0,h.needsUpdate=!0,h}return bv(n)}(ym),jw=function(){function t(){yv(this,t),this.type="Curve",this.arcLengthDivisions=200}return bv(t,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)}},{key:"getPoints",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}},{key:"getSpacedPoints",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}},{key:"getLength",value:function(){var t=this.getLengths();return t[t.length-1]}},{key:"getLengths",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n=[],i=this.getPoint(0),r=0;n.push(0);for(var a=1;a<=t;a++)r+=(e=this.getPoint(a/t)).distanceTo(i),n.push(r),i=e;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(t,e){var n,i=this.getLengths(),r=0,a=i.length;n=e||t*i[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=i[r=Math.floor(s+(l-s)/2)]-n)<0)s=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(i[r=l]===n)return r/(a-1);var u=i[r];return(r+(n-u)/(i[r+1]-u))/(a-1)}},{key:"getTangent",value:function(t,e){var n=1e-4,i=t-n,r=t+n;i<0&&(i=0),r>1&&(r=1);var a=this.getPoint(i),o=this.getPoint(r),s=e||(a.isVector2?new Zv:new xm);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(t,e){var n=this.getUtoTmapping(t);return this.getTangent(n,e)}},{key:"computeFrenetFrames",value:function(t,e){for(var n=new xm,i=[],r=[],a=[],o=new xm,s=new qm,l=0;l<=t;l++){var u=l/t;i[l]=this.getTangentAt(u,new xm)}r[0]=new xm,a[0]=new xm;var c=Number.MAX_VALUE,h=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);h<=c&&(c=h,n.set(1,0,0)),f<=c&&(c=f,n.set(0,1,0)),d<=c&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],o),a[0].crossVectors(i[0],r[0]);for(var p=1;p<=t;p++){if(r[p]=r[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(i[p-1],i[p]),o.length()>Number.EPSILON){o.normalize();var v=Math.acos(Vv(i[p-1].dot(i[p]),-1,1));r[p].applyMatrix4(s.makeRotationAxis(o,v))}a[p].crossVectors(i[p],r[p])}if(!0===e){var m=Math.acos(Vv(r[0].dot(r[t]),-1,1));m/=t,i[0].dot(o.crossVectors(r[0],r[t]))>0&&(m=-m);for(var g=1;g<=t;g++)r[g].applyMatrix4(s.makeRotationAxis(i[g],m*g)),a[g].crossVectors(i[g],r[g])}return{tangents:i,normals:r,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}},{key:"toJSON",value:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}},{key:"fromJSON",value:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}]),t}(),Fw=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return yv(this,n),(t=e.call(this)).isEllipseCurve=!0,t.type="EllipseCurve",t.aX=i,t.aY=r,t.xRadius=a,t.yRadius=o,t.aStartAngle=s,t.aEndAngle=l,t.aClockwise=u,t.aRotation=c,t}return bv(n,[{key:"getPoint",value:function(t,e){for(var n=e||new Zv,i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,a=Math.abs(r)<Number.EPSILON;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=a?0:i),!0!==this.aClockwise||a||(r===i?r=-i:r-=i);var o=this.aStartAngle+t*r,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=s-this.aX,f=l-this.aY;s=h*u-f*c+this.aX,l=h*c+f*u+this.aY}return n.set(s,l)}},{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}},{key:"toJSON",value:function(){var t=lv(pv(n.prototype),"toJSON",this).call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}},{key:"fromJSON",value:function(t){return lv(pv(n.prototype),"fromJSON",this).call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}]),n}(jw),Uw=function(t){uv(n,t);var e=hv(n);function n(t,i,r,a,o,s){var l;return yv(this,n),(l=e.call(this,t,i,r,r,a,o,s)).isArcCurve=!0,l.type="ArcCurve",l}return bv(n)}(Fw);function Hw(){var t=0,e=0,n=0,i=0;function r(r,a,o,s){t=r,e=o,n=-3*r+3*a-2*o-s,i=2*r-2*a+o+s}return{initCatmullRom:function(t,e,n,i,a){r(e,n,a*(n-t),a*(i-e))},initNonuniformCatmullRom:function(t,e,n,i,a,o,s){var l=(e-t)/a-(n-t)/(a+o)+(n-e)/o,u=(n-e)/o-(i-e)/(o+s)+(i-n)/s;r(e,n,l*=o,u*=o)},calc:function(r){var a=r*r;return t+e*r+n*a+i*(a*r)}}}var Vw=new xm,Gw=new Hw,Ww=new Hw,Qw=new Hw,Xw=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return yv(this,n),(t=e.call(this)).isCatmullRomCurve3=!0,t.type="CatmullRomCurve3",t.points=i,t.closed=r,t.curveType=a,t.tension=o,t}return bv(n,[{key:"getPoint",value:function(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xm,r=this.points,a=r.length,o=(a-(this.closed?0:1))*t,s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:0===l&&s===a-1&&(s=a-2,l=1),this.closed||s>0?e=r[(s-1)%a]:(Vw.subVectors(r[0],r[1]).add(r[0]),e=Vw);var u=r[s%a],c=r[(s+1)%a];if(this.closed||s+2<a?n=r[(s+2)%a]:(Vw.subVectors(r[a-1],r[a-2]).add(r[a-1]),n=Vw),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,f=Math.pow(e.distanceToSquared(u),h),d=Math.pow(u.distanceToSquared(c),h),p=Math.pow(c.distanceToSquared(n),h);d<1e-4&&(d=1),f<1e-4&&(f=d),p<1e-4&&(p=d),Gw.initNonuniformCatmullRom(e.x,u.x,c.x,n.x,f,d,p),Ww.initNonuniformCatmullRom(e.y,u.y,c.y,n.y,f,d,p),Qw.initNonuniformCatmullRom(e.z,u.z,c.z,n.z,f,d,p)}else"catmullrom"===this.curveType&&(Gw.initCatmullRom(e.x,u.x,c.x,n.x,this.tension),Ww.initCatmullRom(e.y,u.y,c.y,n.y,this.tension),Qw.initCatmullRom(e.z,u.z,c.z,n.z,this.tension));return i.set(Gw.calc(l),Ww.calc(l),Qw.calc(l)),i}},{key:"copy",value:function(t){lv(pv(n.prototype),"copy",this).call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}},{key:"toJSON",value:function(){var t=lv(pv(n.prototype),"toJSON",this).call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}},{key:"fromJSON",value:function(t){lv(pv(n.prototype),"fromJSON",this).call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new xm).fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}]),n}(jw);function Yw(t,e,n,i,r){var a=.5*(i-e),o=.5*(r-n),s=t*t;return(2*n-2*i+a+o)*(t*s)+(-3*n+3*i-2*a-o)*s+a*t+n}function Jw(t,e,n,i){return function(t,e){var n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,i)}function Zw(t,e,n,i,r){return function(t,e){var n=1-t;return n*n*n*e}(t,e)+function(t,e){var n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,i)+function(t,e){return t*t*t*e}(t,r)}var qw=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zv,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zv,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Zv,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Zv;return yv(this,n),(t=e.call(this)).isCubicBezierCurve=!0,t.type="CubicBezierCurve",t.v0=i,t.v1=r,t.v2=a,t.v3=o,t}return bv(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zv,n=this.v0,i=this.v1,r=this.v2,a=this.v3;return e.set(Zw(t,n.x,i.x,r.x,a.x),Zw(t,n.y,i.y,r.y,a.y)),e}},{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}},{key:"toJSON",value:function(){var t=lv(pv(n.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}},{key:"fromJSON",value:function(t){return lv(pv(n.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}]),n}(jw),Kw=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xm,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xm,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new xm,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new xm;return yv(this,n),(t=e.call(this)).isCubicBezierCurve3=!0,t.type="CubicBezierCurve3",t.v0=i,t.v1=r,t.v2=a,t.v3=o,t}return bv(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xm,n=this.v0,i=this.v1,r=this.v2,a=this.v3;return e.set(Zw(t,n.x,i.x,r.x,a.x),Zw(t,n.y,i.y,r.y,a.y),Zw(t,n.z,i.z,r.z,a.z)),e}},{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}},{key:"toJSON",value:function(){var t=lv(pv(n.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}},{key:"fromJSON",value:function(t){return lv(pv(n.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}]),n}(jw),$w=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zv,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zv;return yv(this,n),(t=e.call(this)).isLineCurve=!0,t.type="LineCurve",t.v1=i,t.v2=r,t}return bv(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zv;return 1===t?e.copy(this.v2):(e.copy(this.v2).sub(this.v1),e.multiplyScalar(t).add(this.v1)),e}},{key:"getPointAt",value:function(t,e){return this.getPoint(t,e)}},{key:"getTangent",value:function(t,e){var n=e||new Zv;return n.copy(this.v2).sub(this.v1).normalize(),n}},{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=lv(pv(n.prototype),"toJSON",this).call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return lv(pv(n.prototype),"fromJSON",this).call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),n}(jw),tb=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xm,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xm;return yv(this,n),(t=e.call(this)).isLineCurve3=!0,t.type="LineCurve3",t.v1=i,t.v2=r,t}return bv(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xm;return 1===t?e.copy(this.v2):(e.copy(this.v2).sub(this.v1),e.multiplyScalar(t).add(this.v1)),e}},{key:"getPointAt",value:function(t,e){return this.getPoint(t,e)}},{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=lv(pv(n.prototype),"toJSON",this).call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return lv(pv(n.prototype),"fromJSON",this).call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),n}(jw),eb=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zv,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zv,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Zv;return yv(this,n),(t=e.call(this)).isQuadraticBezierCurve=!0,t.type="QuadraticBezierCurve",t.v0=i,t.v1=r,t.v2=a,t}return bv(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zv,n=this.v0,i=this.v1,r=this.v2;return e.set(Jw(t,n.x,i.x,r.x),Jw(t,n.y,i.y,r.y)),e}},{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=lv(pv(n.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return lv(pv(n.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),n}(jw),nb=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xm,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xm,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new xm;return yv(this,n),(t=e.call(this)).isQuadraticBezierCurve3=!0,t.type="QuadraticBezierCurve3",t.v0=i,t.v1=r,t.v2=a,t}return bv(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xm,n=this.v0,i=this.v1,r=this.v2;return e.set(Jw(t,n.x,i.x,r.x),Jw(t,n.y,i.y,r.y),Jw(t,n.z,i.z,r.z)),e}},{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=lv(pv(n.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return lv(pv(n.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),n}(jw),ib=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return yv(this,n),(t=e.call(this)).isSplineCurve=!0,t.type="SplineCurve",t.points=i,t}return bv(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zv,n=this.points,i=(n.length-1)*t,r=Math.floor(i),a=i-r,o=n[0===r?r:r-1],s=n[r],l=n[r>n.length-2?n.length-1:r+1],u=n[r>n.length-3?n.length-1:r+2];return e.set(Yw(a,o.x,s.x,l.x,u.x),Yw(a,o.y,s.y,l.y,u.y)),e}},{key:"copy",value:function(t){lv(pv(n.prototype),"copy",this).call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push(r.clone())}return this}},{key:"toJSON",value:function(){var t=lv(pv(n.prototype),"toJSON",this).call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var r=this.points[e];t.points.push(r.toArray())}return t}},{key:"fromJSON",value:function(t){lv(pv(n.prototype),"fromJSON",this).call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new Zv).fromArray(r))}return this}}]),n}(jw),rb=Object.freeze({__proto__:null,ArcCurve:Uw,CatmullRomCurve3:Xw,CubicBezierCurve:qw,CubicBezierCurve3:Kw,EllipseCurve:Fw,LineCurve:$w,LineCurve3:tb,QuadraticBezierCurve:eb,QuadraticBezierCurve3:nb,SplineCurve:ib}),ab=function(t){uv(n,t);var e=hv(n);function n(){var t;return yv(this,n),(t=e.call(this)).type="CurvePath",t.curves=[],t.autoClose=!1,t}return bv(n,[{key:"add",value:function(t){this.curves.push(t)}},{key:"closePath",value:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new $w(e,t))}},{key:"getPoint",value:function(t,e){for(var n=t*this.getLength(),i=this.getCurveLengths(),r=0;r<i.length;){if(i[r]>=n){var a=i[r]-n,o=this.curves[r],s=o.getLength(),l=0===s?0:1-a/s;return o.getPointAt(l,e)}r++}return null}},{key:"getLength",value:function(){var t=this.getCurveLengths();return t[t.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t}},{key:"getSpacedPoints",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e}},{key:"getPoints",value:function(){for(var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],i=0,r=this.curves;i<r.length;i++)for(var a=r[i],o=a.isEllipseCurve?2*e:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o),l=0;l<s.length;l++){var u=s[l];t&&t.equals(u)||(n.push(u),t=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(t){lv(pv(n.prototype),"copy",this).call(this,t),this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var r=t.curves[e];this.curves.push(r.clone())}return this.autoClose=t.autoClose,this}},{key:"toJSON",value:function(){var t=lv(pv(n.prototype),"toJSON",this).call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,i=this.curves.length;e<i;e++){var r=this.curves[e];t.curves.push(r.toJSON())}return t}},{key:"fromJSON",value:function(t){lv(pv(n.prototype),"fromJSON",this).call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var r=t.curves[e];this.curves.push((new rb[r.type]).fromJSON(r))}return this}}]),n}(jw),ob=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this)).type="Path",i.currentPoint=new Zv,t&&i.setFromPoints(t),i}return bv(n,[{key:"setFromPoints",value:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this}},{key:"moveTo",value:function(t,e){return this.currentPoint.set(t,e),this}},{key:"lineTo",value:function(t,e){var n=new $w(this.currentPoint.clone(),new Zv(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this}},{key:"quadraticCurveTo",value:function(t,e,n,i){var r=new eb(this.currentPoint.clone(),new Zv(t,e),new Zv(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}},{key:"bezierCurveTo",value:function(t,e,n,i,r,a){var o=new qw(this.currentPoint.clone(),new Zv(t,e),new Zv(n,i),new Zv(r,a));return this.curves.push(o),this.currentPoint.set(r,a),this}},{key:"splineThru",value:function(t){var e=[this.currentPoint.clone()].concat(t),n=new ib(e);return this.curves.push(n),this.currentPoint.copy(t[t.length-1]),this}},{key:"arc",value:function(t,e,n,i,r,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(t+o,e+s,n,i,r,a),this}},{key:"absarc",value:function(t,e,n,i,r,a){return this.absellipse(t,e,n,n,i,r,a),this}},{key:"ellipse",value:function(t,e,n,i,r,a,o,s){var l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(t+l,e+u,n,i,r,a,o,s),this}},{key:"absellipse",value:function(t,e,n,i,r,a,o,s){var l=new Fw(t,e,n,i,r,a,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.currentPoint.copy(t.currentPoint),this}},{key:"toJSON",value:function(){var t=lv(pv(n.prototype),"toJSON",this).call(this);return t.currentPoint=this.currentPoint.toArray(),t}},{key:"fromJSON",value:function(t){return lv(pv(n.prototype),"fromJSON",this).call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}]),n}(ab),sb=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new Zv(0,-.5),new Zv(.5,0),new Zv(0,.5)],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;yv(this,n),(t=e.call(this)).type="LatheGeometry",t.parameters={points:i,segments:r,phiStart:a,phiLength:o},r=Math.floor(r),o=Vv(o,0,2*Math.PI);for(var s=[],l=[],u=[],c=[],h=[],f=1/r,d=new xm,p=new Zv,v=new xm,m=new xm,g=new xm,y=0,w=0,b=0;b<=i.length-1;b++)switch(b){case 0:y=i[b+1].x-i[b].x,w=i[b+1].y-i[b].y,v.x=1*w,v.y=-y,v.z=0*w,g.copy(v),v.normalize(),c.push(v.x,v.y,v.z);break;case i.length-1:c.push(g.x,g.y,g.z);break;default:y=i[b+1].x-i[b].x,w=i[b+1].y-i[b].y,v.x=1*w,v.y=-y,v.z=0*w,m.copy(v),v.x+=g.x,v.y+=g.y,v.z+=g.z,v.normalize(),c.push(v.x,v.y,v.z),g.copy(m)}for(var x=0;x<=r;x++)for(var A=a+x*f*o,_=Math.sin(A),k=Math.cos(A),S=0;S<=i.length-1;S++){d.x=i[S].x*_,d.y=i[S].y,d.z=i[S].x*k,l.push(d.x,d.y,d.z),p.x=x/r,p.y=S/(i.length-1),u.push(p.x,p.y);var M=c[3*S+0]*_,E=c[3*S+1],C=c[3*S+0]*k;h.push(M,E,C)}for(var P=0;P<r;P++)for(var T=0;T<i.length-1;T++){var L=T+P*i.length,O=L,z=L+i.length,R=L+i.length+1,D=L+1;s.push(O,z,D),s.push(R,D,z)}return t.setIndex(s),t.setAttribute("position",new Hg(l,3)),t.setAttribute("uv",new Hg(u,2)),t.setAttribute("normal",new Hg(h,3)),t}return bv(n,null,[{key:"fromJSON",value:function(t){return new n(t.points,t.segments,t.phiStart,t.phiLength)}}]),n}(Zg),lb=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;yv(this,n);var s=new ob;return s.absarc(0,-r/2,i,1.5*Math.PI,0),s.absarc(0,r/2,i,0,.5*Math.PI),(t=e.call(this,s.getPoints(a),o)).type="CapsuleGeometry",t.parameters={radius:i,height:r,capSegments:a,radialSegments:o},t}return bv(n,null,[{key:"fromJSON",value:function(t){return new n(t.radius,t.length,t.capSegments,t.radialSegments)}}]),n}(sb),ub=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;yv(this,n),(t=e.call(this)).type="CircleGeometry",t.parameters={radius:i,segments:r,thetaStart:a,thetaLength:o},r=Math.max(3,r);var s=[],l=[],u=[],c=[],h=new xm,f=new Zv;l.push(0,0,0),u.push(0,0,1),c.push(.5,.5);for(var d=0,p=3;d<=r;d++,p+=3){var v=a+d/r*o;h.x=i*Math.cos(v),h.y=i*Math.sin(v),l.push(h.x,h.y,h.z),u.push(0,0,1),f.x=(l[p]/i+1)/2,f.y=(l[p+1]/i+1)/2,c.push(f.x,f.y)}for(var m=1;m<=r;m++)s.push(m,m+1,0);return t.setIndex(s),t.setAttribute("position",new Hg(l,3)),t.setAttribute("normal",new Hg(u,3)),t.setAttribute("uv",new Hg(c,2)),t}return bv(n,null,[{key:"fromJSON",value:function(t){return new n(t.radius,t.segments,t.thetaStart,t.thetaLength)}}]),n}(Zg),cb=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;yv(this,n),(t=e.call(this)).type="CylinderGeometry",t.parameters={radiusTop:i,radiusBottom:r,height:a,radialSegments:o,heightSegments:s,openEnded:l,thetaStart:u,thetaLength:c};var h=fv(t);o=Math.floor(o),s=Math.floor(s);var f=[],d=[],p=[],v=[],m=0,g=[],y=a/2,w=0;function b(t){for(var e=m,n=new Zv,a=new xm,s=0,l=!0===t?i:r,g=!0===t?1:-1,b=1;b<=o;b++)d.push(0,y*g,0),p.push(0,g,0),v.push(.5,.5),m++;for(var x=m,A=0;A<=o;A++){var _=A/o*c+u,k=Math.cos(_),S=Math.sin(_);a.x=l*S,a.y=y*g,a.z=l*k,d.push(a.x,a.y,a.z),p.push(0,g,0),n.x=.5*k+.5,n.y=.5*S*g+.5,v.push(n.x,n.y),m++}for(var M=0;M<o;M++){var E=e+M,C=x+M;!0===t?f.push(C,C+1,E):f.push(C+1,C,E),s+=3}h.addGroup(w,s,!0===t?1:2),w+=s}return function(){for(var t=new xm,e=new xm,n=0,l=(r-i)/a,b=0;b<=s;b++){for(var x=[],A=b/s,_=A*(r-i)+i,k=0;k<=o;k++){var S=k/o,M=S*c+u,E=Math.sin(M),C=Math.cos(M);e.x=_*E,e.y=-A*a+y,e.z=_*C,d.push(e.x,e.y,e.z),t.set(E,l,C).normalize(),p.push(t.x,t.y,t.z),v.push(S,1-A),x.push(m++)}g.push(x)}for(var P=0;P<o;P++)for(var T=0;T<s;T++){var L=g[T][P],O=g[T+1][P],z=g[T+1][P+1],R=g[T][P+1];f.push(L,O,R),f.push(O,z,R),n+=6}h.addGroup(w,n,0),w+=n}(),!1===l&&(i>0&&b(!0),r>0&&b(!1)),t.setIndex(f),t.setAttribute("position",new Hg(d,3)),t.setAttribute("normal",new Hg(p,3)),t.setAttribute("uv",new Hg(v,2)),t}return bv(n,null,[{key:"fromJSON",value:function(t){return new n(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}]),n}(Zg),hb=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return yv(this,n),(t=e.call(this,0,i,r,a,o,s,l,u)).type="ConeGeometry",t.parameters={radius:i,height:r,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:u},t}return bv(n,null,[{key:"fromJSON",value:function(t){return new n(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}]),n}(cb),fb=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;yv(this,n),(t=e.call(this)).type="PolyhedronGeometry",t.parameters={vertices:i,indices:r,radius:a,detail:o};var s=[],l=[];function u(t,e,n,i){for(var r=i+1,a=[],o=0;o<=r;o++){a[o]=[];for(var s=t.clone().lerp(n,o/r),l=e.clone().lerp(n,o/r),u=r-o,h=0;h<=u;h++)a[o][h]=0===h&&o===r?s:s.clone().lerp(l,h/u)}for(var f=0;f<r;f++)for(var d=0;d<2*(r-f)-1;d++){var p=Math.floor(d/2);d%2===0?(c(a[f][p+1]),c(a[f+1][p]),c(a[f][p])):(c(a[f][p+1]),c(a[f+1][p+1]),c(a[f+1][p]))}}function c(t){s.push(t.x,t.y,t.z)}function h(t,e){var n=3*t;e.x=i[n+0],e.y=i[n+1],e.z=i[n+2]}function f(t,e,n,i){i<0&&1===t.x&&(l[e]=t.x-1),0===n.x&&0===n.z&&(l[e]=i/2/Math.PI+.5)}function d(t){return Math.atan2(t.z,-t.x)}return function(t){for(var e=new xm,n=new xm,i=new xm,a=0;a<r.length;a+=3)h(r[a+0],e),h(r[a+1],n),h(r[a+2],i),u(e,n,i,t)}(o),function(t){for(var e=new xm,n=0;n<s.length;n+=3)e.x=s[n+0],e.y=s[n+1],e.z=s[n+2],e.normalize().multiplyScalar(t),s[n+0]=e.x,s[n+1]=e.y,s[n+2]=e.z}(a),function(){for(var t=new xm,e=0;e<s.length;e+=3){t.x=s[e+0],t.y=s[e+1],t.z=s[e+2];var n=d(t)/2/Math.PI+.5,i=(r=t,Math.atan2(-r.y,Math.sqrt(r.x*r.x+r.z*r.z))/Math.PI+.5);l.push(n,1-i)}var r;(function(){for(var t=new xm,e=new xm,n=new xm,i=new xm,r=new Zv,a=new Zv,o=new Zv,u=0,c=0;u<s.length;u+=9,c+=6){t.set(s[u+0],s[u+1],s[u+2]),e.set(s[u+3],s[u+4],s[u+5]),n.set(s[u+6],s[u+7],s[u+8]),r.set(l[c+0],l[c+1]),a.set(l[c+2],l[c+3]),o.set(l[c+4],l[c+5]),i.copy(t).add(e).add(n).divideScalar(3);var h=d(i);f(r,c+0,t,h),f(a,c+2,e,h),f(o,c+4,n,h)}})(),function(){for(var t=0;t<l.length;t+=6){var e=l[t+0],n=l[t+2],i=l[t+4],r=Math.max(e,n,i),a=Math.min(e,n,i);r>.9&&a<.1&&(e<.2&&(l[t+0]+=1),n<.2&&(l[t+2]+=1),i<.2&&(l[t+4]+=1))}}()}(),t.setAttribute("position",new Hg(s,3)),t.setAttribute("normal",new Hg(s.slice(),3)),t.setAttribute("uv",new Hg(l,2)),0===o?t.computeVertexNormals():t.normalizeNormals(),t}return bv(n,null,[{key:"fromJSON",value:function(t){return new n(t.vertices,t.indices,t.radius,t.details)}}]),n}(Zg),db=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;yv(this,n);var a=(1+Math.sqrt(5))/2,o=1/a,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o];return(t=e.call(this,s,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],i,r)).type="DodecahedronGeometry",t.parameters={radius:i,detail:r},t}return bv(n,null,[{key:"fromJSON",value:function(t){return new n(t.radius,t.detail)}}]),n}(fb),pb=new xm,vb=new xm,mb=new xm,gb=new zg,yb=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(yv(this,n),(t=e.call(this)).type="EdgesGeometry",t.parameters={geometry:i,thresholdAngle:r},null!==i){for(var a=Math.pow(10,4),o=Math.cos(Fv*r),s=i.getIndex(),l=i.getAttribute("position"),u=s?s.count:l.count,c=[0,0,0],h=["a","b","c"],f=new Array(3),d={},p=[],v=0;v<u;v+=3){s?(c[0]=s.getX(v),c[1]=s.getX(v+1),c[2]=s.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);var m=gb.a,g=gb.b,y=gb.c;if(m.fromBufferAttribute(l,c[0]),g.fromBufferAttribute(l,c[1]),y.fromBufferAttribute(l,c[2]),gb.getNormal(mb),f[0]="".concat(Math.round(m.x*a),",").concat(Math.round(m.y*a),",").concat(Math.round(m.z*a)),f[1]="".concat(Math.round(g.x*a),",").concat(Math.round(g.y*a),",").concat(Math.round(g.z*a)),f[2]="".concat(Math.round(y.x*a),",").concat(Math.round(y.y*a),",").concat(Math.round(y.z*a)),f[0]!==f[1]&&f[1]!==f[2]&&f[2]!==f[0])for(var w=0;w<3;w++){var b=(w+1)%3,x=f[w],A=f[b],_=gb[h[w]],k=gb[h[b]],S="".concat(x,"_").concat(A),M="".concat(A,"_").concat(x);M in d&&d[M]?(mb.dot(d[M].normal)<=o&&(p.push(_.x,_.y,_.z),p.push(k.x,k.y,k.z)),d[M]=null):S in d||(d[S]={index0:c[w],index1:c[b],normal:mb.clone()})}}for(var E in d)if(d[E]){var C=d[E],P=C.index0,T=C.index1;pb.fromBufferAttribute(l,P),vb.fromBufferAttribute(l,T),p.push(pb.x,pb.y,pb.z),p.push(vb.x,vb.y,vb.z)}t.setAttribute("position",new Hg(p,3))}return t}return bv(n)}(Zg),wb=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this,t)).uuid=Hv(),i.type="Shape",i.holes=[],i}return bv(n,[{key:"getPointsHoles",value:function(t){for(var e=[],n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e}},{key:"extractPoints",value:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}},{key:"copy",value:function(t){lv(pv(n.prototype),"copy",this).call(this,t),this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var r=t.holes[e];this.holes.push(r.clone())}return this}},{key:"toJSON",value:function(){var t=lv(pv(n.prototype),"toJSON",this).call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,i=this.holes.length;e<i;e++){var r=this.holes[e];t.holes.push(r.toJSON())}return t}},{key:"fromJSON",value:function(t){lv(pv(n.prototype),"fromJSON",this).call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var r=t.holes[e];this.holes.push((new ob).fromJSON(r))}return this}}]),n}(ob),bb=function(t,e){var n,i,r,a,o,s,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=e&&e.length,h=c?e[0]*u:t.length,f=xb(t,0,h,u,!0),d=[];if(!f||f.next===f.prev)return d;if(c&&(f=function(t,e,n,i){var r,a,o,s=[];for(r=0,a=e.length;r<a;r++)(o=xb(t,e[r]*i,r<a-1?e[r+1]*i:t.length,i,!1))===o.next&&(o.steiner=!0),s.push(Ob(o));for(s.sort(Cb),r=0;r<s.length;r++)n=Pb(s[r],n);return n}(t,e,f,u)),t.length>80*u){n=r=t[0],i=a=t[1];for(var p=u;p<h;p+=u)(o=t[p])<n&&(n=o),(s=t[p+1])<i&&(i=s),o>r&&(r=o),s>a&&(a=s);l=0!==(l=Math.max(r-n,a-i))?32767/l:0}return _b(f,d,u,n,i,l,0),d};function xb(t,e,n,i,r){var a,o;if(r===function(t,e,n,i){for(var r=0,a=e,o=n-i;a<n;a+=i)r+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return r}(t,e,n,i)>0)for(a=e;a<n;a+=i)o=Hb(a,t[a],t[a+1],o);else for(a=n-i;a>=e;a-=i)o=Hb(a,t[a],t[a+1],o);return o&&Ib(o,o.next)&&(Vb(o),o=o.next),o}function Ab(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!Ib(i,i.next)&&0!==Db(i.prev,i,i.next))i=i.next;else{if(Vb(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function _b(t,e,n,i,r,a,o){if(t){!o&&a&&function(t,e,n,i){var r=t;do{0===r.z&&(r.z=Lb(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,a,o,s,l,u=1;do{for(n=t,t=null,a=null,o=0;n;){for(o++,i=n,s=0,e=0;e<u&&(s++,i=i.nextZ);e++);for(l=u;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;n=i}a.nextZ=null,u*=2}while(o>1)}(r)}(t,i,r,a);for(var s,l,u=t;t.prev!==t.next;)if(s=t.prev,l=t.next,a?Sb(t,i,r,a):kb(t))e.push(s.i/n|0),e.push(t.i/n|0),e.push(l.i/n|0),Vb(t),t=l.next,u=l.next;else if((t=l)===u){o?1===o?_b(t=Mb(Ab(t),e,n),e,n,i,r,a,2):2===o&&Eb(t,e,n,i,r,a):_b(Ab(t),e,n,i,r,a,1);break}}}function kb(t){var e=t.prev,n=t,i=t.next;if(Db(e,n,i)>=0)return!1;for(var r=e.x,a=n.x,o=i.x,s=e.y,l=n.y,u=i.y,c=r<a?r<o?r:o:a<o?a:o,h=s<l?s<u?s:u:l<u?l:u,f=r>a?r>o?r:o:a>o?a:o,d=s>l?s>u?s:u:l>u?l:u,p=i.next;p!==e;){if(p.x>=c&&p.x<=f&&p.y>=h&&p.y<=d&&zb(r,s,a,l,o,u,p.x,p.y)&&Db(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Sb(t,e,n,i){var r=t.prev,a=t,o=t.next;if(Db(r,a,o)>=0)return!1;for(var s=r.x,l=a.x,u=o.x,c=r.y,h=a.y,f=o.y,d=s<l?s<u?s:u:l<u?l:u,p=c<h?c<f?c:f:h<f?h:f,v=s>l?s>u?s:u:l>u?l:u,m=c>h?c>f?c:f:h>f?h:f,g=Lb(d,p,e,n,i),y=Lb(v,m,e,n,i),w=t.prevZ,b=t.nextZ;w&&w.z>=g&&b&&b.z<=y;){if(w.x>=d&&w.x<=v&&w.y>=p&&w.y<=m&&w!==r&&w!==o&&zb(s,c,l,h,u,f,w.x,w.y)&&Db(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,b.x>=d&&b.x<=v&&b.y>=p&&b.y<=m&&b!==r&&b!==o&&zb(s,c,l,h,u,f,b.x,b.y)&&Db(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;w&&w.z>=g;){if(w.x>=d&&w.x<=v&&w.y>=p&&w.y<=m&&w!==r&&w!==o&&zb(s,c,l,h,u,f,w.x,w.y)&&Db(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;b&&b.z<=y;){if(b.x>=d&&b.x<=v&&b.y>=p&&b.y<=m&&b!==r&&b!==o&&zb(s,c,l,h,u,f,b.x,b.y)&&Db(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Mb(t,e,n){var i=t;do{var r=i.prev,a=i.next.next;!Ib(r,a)&&Bb(r,i,i.next,a)&&Fb(r,a)&&Fb(a,r)&&(e.push(r.i/n|0),e.push(i.i/n|0),e.push(a.i/n|0),Vb(i),Vb(i.next),i=t=a),i=i.next}while(i!==t);return Ab(i)}function Eb(t,e,n,i,r,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Rb(o,s)){var l=Ub(o,s);return o=Ab(o,o.next),l=Ab(l,l.next),_b(o,e,n,i,r,a,0),void _b(l,e,n,i,r,a,0)}s=s.next}o=o.next}while(o!==t)}function Cb(t,e){return t.x-e.x}function Pb(t,e){var n=function(t,e){var n,i=e,r=-1/0,a=t.x,o=t.y;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=a&&s>r&&(r=s,n=i.x<i.next.x?i:i.next,s===a))return n}i=i.next}while(i!==e);if(!n)return null;var l,u=n,c=n.x,h=n.y,f=1/0;i=n;do{a>=i.x&&i.x>=c&&a!==i.x&&zb(o<h?a:r,o,c,h,o<h?r:a,o,i.x,i.y)&&(l=Math.abs(o-i.y)/(a-i.x),Fb(i,t)&&(l<f||l===f&&(i.x>n.x||i.x===n.x&&Tb(n,i)))&&(n=i,f=l)),i=i.next}while(i!==u);return n}(t,e);if(!n)return e;var i=Ub(n,t);return Ab(i,i.next),Ab(n,n.next)}function Tb(t,e){return Db(t.prev,t,e.prev)<0&&Db(e.next,t,t.next)<0}function Lb(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-i)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Ob(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function zb(t,e,n,i,r,a,o,s){return(r-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(i-s)>=(n-o)*(e-s)&&(n-o)*(a-s)>=(r-o)*(i-s)}function Rb(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Bb(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(Fb(t,e)&&Fb(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,a=(t.y+e.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(Db(t.prev,t,e.prev)||Db(t,e.prev,e))||Ib(t,e)&&Db(t.prev,t,t.next)>0&&Db(e.prev,e,e.next)>0)}function Db(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ib(t,e){return t.x===e.x&&t.y===e.y}function Bb(t,e,n,i){var r=jb(Db(t,e,n)),a=jb(Db(t,e,i)),o=jb(Db(n,i,t)),s=jb(Db(n,i,e));return r!==a&&o!==s||(!(0!==r||!Nb(t,n,e))||(!(0!==a||!Nb(t,i,e))||(!(0!==o||!Nb(n,t,i))||!(0!==s||!Nb(n,e,i)))))}function Nb(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function jb(t){return t>0?1:t<0?-1:0}function Fb(t,e){return Db(t.prev,t,t.next)<0?Db(t,e,t.next)>=0&&Db(t,t.prev,e)>=0:Db(t,e,t.prev)<0||Db(t,t.next,e)<0}function Ub(t,e){var n=new Gb(t.i,t.x,t.y),i=new Gb(e.i,e.x,e.y),r=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function Hb(t,e,n,i){var r=new Gb(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Vb(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Gb(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Wb=function(){function t(){yv(this,t)}return bv(t,null,[{key:"area",value:function(t){for(var e=t.length,n=0,i=e-1,r=0;r<e;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n}},{key:"isClockWise",value:function(e){return t.area(e)<0}},{key:"triangulateShape",value:function(t,e){var n=[],i=[],r=[];Qb(t),Xb(n,t);var a=t.length;e.forEach(Qb);for(var o=0;o<e.length;o++)i.push(a),a+=e[o].length,Xb(n,e[o]);for(var s=bb(n,i),l=0;l<s.length;l+=3)r.push(s.slice(l,l+3));return r}}]),t}();function Qb(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Xb(t,e){for(var n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}var Yb=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wb([new Zv(.5,.5),new Zv(-.5,.5),new Zv(-.5,-.5),new Zv(.5,-.5)]),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yv(this,n),(t=e.call(this)).type="ExtrudeGeometry",t.parameters={shapes:i,options:r},i=Array.isArray(i)?i:[i];for(var a=fv(t),o=[],s=[],l=0,u=i.length;l<u;l++){c(i[l])}function c(t){var e,n,i,l,u,c=[],h=void 0!==r.curveSegments?r.curveSegments:12,f=void 0!==r.steps?r.steps:1,d=void 0!==r.depth?r.depth:1,p=void 0===r.bevelEnabled||r.bevelEnabled,v=void 0!==r.bevelThickness?r.bevelThickness:.2,m=void 0!==r.bevelSize?r.bevelSize:v-.1,g=void 0!==r.bevelOffset?r.bevelOffset:0,y=void 0!==r.bevelSegments?r.bevelSegments:3,w=r.extrudePath,b=void 0!==r.UVGenerator?r.UVGenerator:Jb,x=!1;w&&(e=w.getSpacedPoints(f),x=!0,p=!1,n=w.computeFrenetFrames(f,!1),i=new xm,l=new xm,u=new xm),p||(y=0,v=0,m=0,g=0);var A=t.extractPoints(h),_=A.shape,k=A.holes;if(!Wb.isClockWise(_)){_=_.reverse();for(var S=0,M=k.length;S<M;S++){var E=k[S];Wb.isClockWise(E)&&(k[S]=E.reverse())}}for(var C=Wb.triangulateShape(_,k),P=_,T=0,L=k.length;T<L;T++){var O=k[T];_=_.concat(O)}function z(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}var R=_.length,D=C.length;function I(t,e,n){var i,r,a,o=t.x-e.x,s=t.y-e.y,l=n.x-t.x,u=n.y-t.y,c=o*o+s*s,h=o*u-s*l;if(Math.abs(h)>Number.EPSILON){var f=Math.sqrt(c),d=Math.sqrt(l*l+u*u),p=e.x-s/f,v=e.y+o/f,m=((n.x-u/d-p)*u-(n.y+l/d-v)*l)/(o*u-s*l),g=(i=p+o*m-t.x)*i+(r=v+s*m-t.y)*r;if(g<=2)return new Zv(i,r);a=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?l>Number.EPSILON&&(y=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(u)&&(y=!0),y?(i=-s,r=o,a=Math.sqrt(c)):(i=o,r=s,a=Math.sqrt(c/2))}return new Zv(i/a,r/a)}for(var B=[],N=0,j=P.length,F=j-1,U=N+1;N<j;N++,F++,U++)F===j&&(F=0),U===j&&(U=0),B[N]=I(P[N],P[F],P[U]);for(var H,V=[],G=B.concat(),W=0,Q=k.length;W<Q;W++){var X=k[W];H=[];for(var Y=0,J=X.length,Z=J-1,q=Y+1;Y<J;Y++,Z++,q++)Z===J&&(Z=0),q===J&&(q=0),H[Y]=I(X[Y],X[Z],X[q]);V.push(H),G=G.concat(H)}for(var K=0;K<y;K++){for(var $=K/y,tt=v*Math.cos($*Math.PI/2),et=m*Math.sin($*Math.PI/2)+g,nt=0,it=P.length;nt<it;nt++){var rt=z(P[nt],B[nt],et);Lt(rt.x,rt.y,-tt)}for(var at=0,ot=k.length;at<ot;at++){var st=k[at];H=V[at];for(var lt=0,ut=st.length;lt<ut;lt++){var ct=z(st[lt],H[lt],et);Lt(ct.x,ct.y,-tt)}}}for(var ht=m+g,ft=0;ft<R;ft++){var dt=p?z(_[ft],G[ft],ht):_[ft];x?(l.copy(n.normals[0]).multiplyScalar(dt.x),i.copy(n.binormals[0]).multiplyScalar(dt.y),u.copy(e[0]).add(l).add(i),Lt(u.x,u.y,u.z)):Lt(dt.x,dt.y,0)}for(var pt=1;pt<=f;pt++)for(var vt=0;vt<R;vt++){var mt=p?z(_[vt],G[vt],ht):_[vt];x?(l.copy(n.normals[pt]).multiplyScalar(mt.x),i.copy(n.binormals[pt]).multiplyScalar(mt.y),u.copy(e[pt]).add(l).add(i),Lt(u.x,u.y,u.z)):Lt(mt.x,mt.y,d/f*pt)}for(var gt=y-1;gt>=0;gt--){for(var yt=gt/y,wt=v*Math.cos(yt*Math.PI/2),bt=m*Math.sin(yt*Math.PI/2)+g,xt=0,At=P.length;xt<At;xt++){var _t=z(P[xt],B[xt],bt);Lt(_t.x,_t.y,d+wt)}for(var kt=0,St=k.length;kt<St;kt++){var Mt=k[kt];H=V[kt];for(var Et=0,Ct=Mt.length;Et<Ct;Et++){var Pt=z(Mt[Et],H[Et],bt);x?Lt(Pt.x,Pt.y+e[f-1].y,e[f-1].x+wt):Lt(Pt.x,Pt.y,d+wt)}}}function Tt(t,e){for(var n=t.length;--n>=0;){var i=n,r=n-1;r<0&&(r=t.length-1);for(var a=0,o=f+2*y;a<o;a++){var s=R*a,l=R*(a+1);zt(e+i+s,e+r+s,e+r+l,e+i+l)}}}function Lt(t,e,n){c.push(t),c.push(e),c.push(n)}function Ot(t,e,n){Rt(t),Rt(e),Rt(n);var i=o.length/3,r=b.generateTopUV(a,o,i-3,i-2,i-1);Dt(r[0]),Dt(r[1]),Dt(r[2])}function zt(t,e,n,i){Rt(t),Rt(e),Rt(i),Rt(e),Rt(n),Rt(i);var r=o.length/3,s=b.generateSideWallUV(a,o,r-6,r-3,r-2,r-1);Dt(s[0]),Dt(s[1]),Dt(s[3]),Dt(s[1]),Dt(s[2]),Dt(s[3])}function Rt(t){o.push(c[3*t+0]),o.push(c[3*t+1]),o.push(c[3*t+2])}function Dt(t){s.push(t.x),s.push(t.y)}!function(){var t=o.length/3;if(p){for(var e=0,n=R*e,i=0;i<D;i++){var r=C[i];Ot(r[2]+n,r[1]+n,r[0]+n)}n=R*(e=f+2*y);for(var s=0;s<D;s++){var l=C[s];Ot(l[0]+n,l[1]+n,l[2]+n)}}else{for(var u=0;u<D;u++){var c=C[u];Ot(c[2],c[1],c[0])}for(var h=0;h<D;h++){var d=C[h];Ot(d[0]+R*f,d[1]+R*f,d[2]+R*f)}}a.addGroup(t,o.length/3-t,0)}(),function(){var t=o.length/3,e=0;Tt(P,e),e+=P.length;for(var n=0,i=k.length;n<i;n++){var r=k[n];Tt(r,e),e+=r.length}a.addGroup(t,o.length/3-t,1)}()}return t.setAttribute("position",new Hg(o,3)),t.setAttribute("uv",new Hg(s,2)),t.computeVertexNormals(),t}return bv(n,[{key:"toJSON",value:function(){var t=lv(pv(n.prototype),"toJSON",this).call(this);return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var a=t[i];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);n.options=Object.assign({},e),void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,t)}}],[{key:"fromJSON",value:function(t,e){for(var i=[],r=0,a=t.shapes.length;r<a;r++){var o=e[t.shapes[r]];i.push(o)}var s=t.options.extrudePath;return void 0!==s&&(t.options.extrudePath=(new rb[s.type]).fromJSON(s)),new n(i,t.options)}}]),n}(Zg),Jb={generateTopUV:function(t,e,n,i,r){var a=e[3*n],o=e[3*n+1],s=e[3*i],l=e[3*i+1],u=e[3*r],c=e[3*r+1];return[new Zv(a,o),new Zv(s,l),new Zv(u,c)]},generateSideWallUV:function(t,e,n,i,r,a){var o=e[3*n],s=e[3*n+1],l=e[3*n+2],u=e[3*i],c=e[3*i+1],h=e[3*i+2],f=e[3*r],d=e[3*r+1],p=e[3*r+2],v=e[3*a],m=e[3*a+1],g=e[3*a+2];return Math.abs(s-c)<Math.abs(o-u)?[new Zv(o,1-l),new Zv(u,1-h),new Zv(f,1-p),new Zv(v,1-g)]:[new Zv(s,1-l),new Zv(c,1-h),new Zv(d,1-p),new Zv(m,1-g)]}};var Zb=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;yv(this,n);var a=(1+Math.sqrt(5))/2,o=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1];return(t=e.call(this,o,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],i,r)).type="IcosahedronGeometry",t.parameters={radius:i,detail:r},t}return bv(n,null,[{key:"fromJSON",value:function(t){return new n(t.radius,t.detail)}}]),n}(fb),qb=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;yv(this,n);return(t=e.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],i,r)).type="OctahedronGeometry",t.parameters={radius:i,detail:r},t}return bv(n,null,[{key:"fromJSON",value:function(t){return new n(t.radius,t.detail)}}]),n}(fb),Kb=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;yv(this,n),(t=e.call(this)).type="RingGeometry",t.parameters={innerRadius:i,outerRadius:r,thetaSegments:a,phiSegments:o,thetaStart:s,thetaLength:l},a=Math.max(3,a);for(var u=[],c=[],h=[],f=[],d=i,p=(r-i)/(o=Math.max(1,o)),v=new xm,m=new Zv,g=0;g<=o;g++){for(var y=0;y<=a;y++){var w=s+y/a*l;v.x=d*Math.cos(w),v.y=d*Math.sin(w),c.push(v.x,v.y,v.z),h.push(0,0,1),m.x=(v.x/r+1)/2,m.y=(v.y/r+1)/2,f.push(m.x,m.y)}d+=p}for(var b=0;b<o;b++)for(var x=b*(a+1),A=0;A<a;A++){var _=A+x,k=_,S=_+a+1,M=_+a+2,E=_+1;u.push(k,S,E),u.push(S,M,E)}return t.setIndex(u),t.setAttribute("position",new Hg(c,3)),t.setAttribute("normal",new Hg(h,3)),t.setAttribute("uv",new Hg(f,2)),t}return bv(n,null,[{key:"fromJSON",value:function(t){return new n(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}]),n}(Zg),$b=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wb([new Zv(0,.5),new Zv(-.5,-.5),new Zv(.5,-.5)]),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;yv(this,n),(t=e.call(this)).type="ShapeGeometry",t.parameters={shapes:i,curveSegments:r};var a=[],o=[],s=[],l=[],u=0,c=0;if(!1===Array.isArray(i))f(i);else for(var h=0;h<i.length;h++)f(i[h]),t.addGroup(u,c,h),u+=c,c=0;function f(t){var e=o.length/3,n=t.extractPoints(r),i=n.shape,u=n.holes;!1===Wb.isClockWise(i)&&(i=i.reverse());for(var h=0,f=u.length;h<f;h++){var d=u[h];!0===Wb.isClockWise(d)&&(u[h]=d.reverse())}for(var p=Wb.triangulateShape(i,u),v=0,m=u.length;v<m;v++){var g=u[v];i=i.concat(g)}for(var y=0,w=i.length;y<w;y++){var b=i[y];o.push(b.x,b.y,0),s.push(0,0,1),l.push(b.x,b.y)}for(var x=0,A=p.length;x<A;x++){var _=p[x],k=_[0]+e,S=_[1]+e,M=_[2]+e;a.push(k,S,M),c+=3}}return t.setIndex(a),t.setAttribute("position",new Hg(o,3)),t.setAttribute("normal",new Hg(s,3)),t.setAttribute("uv",new Hg(l,2)),t}return bv(n,[{key:"toJSON",value:function(){var t=lv(pv(n.prototype),"toJSON",this).call(this);return function(t,e){if(e.shapes=[],Array.isArray(t))for(var n=0,i=t.length;n<i;n++){var r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}}],[{key:"fromJSON",value:function(t,e){for(var i=[],r=0,a=t.shapes.length;r<a;r++){var o=e[t.shapes[r]];i.push(o)}return new n(i,t.curveSegments)}}]),n}(Zg);var tx=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;yv(this,n),(t=e.call(this)).type="SphereGeometry",t.parameters={radius:i,widthSegments:r,heightSegments:a,phiStart:o,phiLength:s,thetaStart:l,thetaLength:u},r=Math.max(3,Math.floor(r)),a=Math.max(2,Math.floor(a));for(var c=Math.min(l+u,Math.PI),h=0,f=[],d=new xm,p=new xm,v=[],m=[],g=[],y=[],w=0;w<=a;w++){var b=[],x=w/a,A=0;0==w&&0==l?A=.5/r:w==a&&c==Math.PI&&(A=-.5/r);for(var _=0;_<=r;_++){var k=_/r;d.x=-i*Math.cos(o+k*s)*Math.sin(l+x*u),d.y=i*Math.cos(l+x*u),d.z=i*Math.sin(o+k*s)*Math.sin(l+x*u),m.push(d.x,d.y,d.z),p.copy(d).normalize(),g.push(p.x,p.y,p.z),y.push(k+A,1-x),b.push(h++)}f.push(b)}for(var S=0;S<a;S++)for(var M=0;M<r;M++){var E=f[S][M+1],C=f[S][M],P=f[S+1][M],T=f[S+1][M+1];(0!==S||l>0)&&v.push(E,C,T),(S!==a-1||c<Math.PI)&&v.push(C,P,T)}return t.setIndex(v),t.setAttribute("position",new Hg(m,3)),t.setAttribute("normal",new Hg(g,3)),t.setAttribute("uv",new Hg(y,2)),t}return bv(n,null,[{key:"fromJSON",value:function(t){return new n(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}]),n}(Zg),ex=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;yv(this,n);return(t=e.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],i,r)).type="TetrahedronGeometry",t.parameters={radius:i,detail:r},t}return bv(n,null,[{key:"fromJSON",value:function(t){return new n(t.radius,t.detail)}}]),n}(fb),nx=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;yv(this,n),(t=e.call(this)).type="TorusGeometry",t.parameters={radius:i,tube:r,radialSegments:a,tubularSegments:o,arc:s},a=Math.floor(a),o=Math.floor(o);for(var l=[],u=[],c=[],h=[],f=new xm,d=new xm,p=new xm,v=0;v<=a;v++)for(var m=0;m<=o;m++){var g=m/o*s,y=v/a*Math.PI*2;d.x=(i+r*Math.cos(y))*Math.cos(g),d.y=(i+r*Math.cos(y))*Math.sin(g),d.z=r*Math.sin(y),u.push(d.x,d.y,d.z),f.x=i*Math.cos(g),f.y=i*Math.sin(g),p.subVectors(d,f).normalize(),c.push(p.x,p.y,p.z),h.push(m/o),h.push(v/a)}for(var w=1;w<=a;w++)for(var b=1;b<=o;b++){var x=(o+1)*w+b-1,A=(o+1)*(w-1)+b-1,_=(o+1)*(w-1)+b,k=(o+1)*w+b;l.push(x,A,k),l.push(A,_,k)}return t.setIndex(l),t.setAttribute("position",new Hg(u,3)),t.setAttribute("normal",new Hg(c,3)),t.setAttribute("uv",new Hg(h,2)),t}return bv(n,null,[{key:"fromJSON",value:function(t){return new n(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}]),n}(Zg),ix=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;yv(this,n),(t=e.call(this)).type="TorusKnotGeometry",t.parameters={radius:i,tube:r,tubularSegments:a,radialSegments:o,p:s,q:l},a=Math.floor(a),o=Math.floor(o);for(var u=[],c=[],h=[],f=[],d=new xm,p=new xm,v=new xm,m=new xm,g=new xm,y=new xm,w=new xm,b=0;b<=a;++b){var x=b/a*s*Math.PI*2;O(x,s,l,i,v),O(x+.01,s,l,i,m),y.subVectors(m,v),w.addVectors(m,v),g.crossVectors(y,w),w.crossVectors(g,y),g.normalize(),w.normalize();for(var A=0;A<=o;++A){var _=A/o*Math.PI*2,k=-r*Math.cos(_),S=r*Math.sin(_);d.x=v.x+(k*w.x+S*g.x),d.y=v.y+(k*w.y+S*g.y),d.z=v.z+(k*w.z+S*g.z),c.push(d.x,d.y,d.z),p.subVectors(d,v).normalize(),h.push(p.x,p.y,p.z),f.push(b/a),f.push(A/o)}}for(var M=1;M<=a;M++)for(var E=1;E<=o;E++){var C=(o+1)*(M-1)+(E-1),P=(o+1)*M+(E-1),T=(o+1)*M+E,L=(o+1)*(M-1)+E;u.push(C,P,L),u.push(P,T,L)}function O(t,e,n,i,r){var a=Math.cos(t),o=Math.sin(t),s=n/e*t,l=Math.cos(s);r.x=i*(2+l)*.5*a,r.y=i*(2+l)*o*.5,r.z=i*Math.sin(s)*.5}return t.setIndex(u),t.setAttribute("position",new Hg(c,3)),t.setAttribute("normal",new Hg(h,3)),t.setAttribute("uv",new Hg(f,2)),t}return bv(n,null,[{key:"fromJSON",value:function(t){return new n(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}]),n}(Zg),rx=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new nb(new xm(-1,-1,0),new xm(-1,1,0),new xm(1,1,0)),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];yv(this,n),(t=e.call(this)).type="TubeGeometry",t.parameters={path:i,tubularSegments:r,radius:a,radialSegments:o,closed:s};var l=i.computeFrenetFrames(r,s);t.tangents=l.tangents,t.normals=l.normals,t.binormals=l.binormals;var u=new xm,c=new xm,h=new Zv,f=new xm,d=[],p=[],v=[],m=[];function g(t){f=i.getPointAt(t/r,f);for(var e=l.normals[t],n=l.binormals[t],s=0;s<=o;s++){var h=s/o*Math.PI*2,v=Math.sin(h),m=-Math.cos(h);c.x=m*e.x+v*n.x,c.y=m*e.y+v*n.y,c.z=m*e.z+v*n.z,c.normalize(),p.push(c.x,c.y,c.z),u.x=f.x+a*c.x,u.y=f.y+a*c.y,u.z=f.z+a*c.z,d.push(u.x,u.y,u.z)}}return function(){for(var t=0;t<r;t++)g(t);g(!1===s?r:0),function(){for(var t=0;t<=r;t++)for(var e=0;e<=o;e++)h.x=t/r,h.y=e/o,v.push(h.x,h.y)}(),function(){for(var t=1;t<=r;t++)for(var e=1;e<=o;e++){var n=(o+1)*(t-1)+(e-1),i=(o+1)*t+(e-1),a=(o+1)*t+e,s=(o+1)*(t-1)+e;m.push(n,i,s),m.push(i,a,s)}}()}(),t.setIndex(m),t.setAttribute("position",new Hg(d,3)),t.setAttribute("normal",new Hg(p,3)),t.setAttribute("uv",new Hg(v,2)),t}return bv(n,[{key:"toJSON",value:function(){var t=lv(pv(n.prototype),"toJSON",this).call(this);return t.path=this.parameters.path.toJSON(),t}}],[{key:"fromJSON",value:function(t){return new n((new rb[t.path.type]).fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}]),n}(Zg),ax=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(yv(this,n),(t=e.call(this)).type="WireframeGeometry",t.parameters={geometry:i},null!==i){var r=[],a=new Set,o=new xm,s=new xm;if(null!==i.index){var l=i.attributes.position,u=i.index,c=i.groups;0===c.length&&(c=[{start:0,count:u.count,materialIndex:0}]);for(var h=0,f=c.length;h<f;++h)for(var d=c[h],p=d.start,v=p,m=p+d.count;v<m;v+=3)for(var g=0;g<3;g++){var y=u.getX(v+g),w=u.getX(v+(g+1)%3);o.fromBufferAttribute(l,y),s.fromBufferAttribute(l,w),!0===ox(o,s,a)&&(r.push(o.x,o.y,o.z),r.push(s.x,s.y,s.z))}}else for(var b=i.attributes.position,x=0,A=b.count/3;x<A;x++)for(var _=0;_<3;_++){var k=3*x+_,S=3*x+(_+1)%3;o.fromBufferAttribute(b,k),s.fromBufferAttribute(b,S),!0===ox(o,s,a)&&(r.push(o.x,o.y,o.z),r.push(s.x,s.y,s.z))}t.setAttribute("position",new Hg(r,3))}return t}return bv(n)}(Zg);function ox(t,e,n){var i="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z),r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z);return!0!==n.has(i)&&!0!==n.has(r)&&(n.add(i),n.add(r),!0)}var sx=Object.freeze({__proto__:null,BoxGeometry:fy,CapsuleGeometry:lb,CircleGeometry:ub,ConeGeometry:hb,CylinderGeometry:cb,DodecahedronGeometry:db,EdgesGeometry:yb,ExtrudeGeometry:Yb,IcosahedronGeometry:Zb,LatheGeometry:sb,OctahedronGeometry:qb,PlaneGeometry:Sy,PolyhedronGeometry:fb,RingGeometry:Kb,ShapeGeometry:$b,SphereGeometry:tx,TetrahedronGeometry:ex,TorusGeometry:nx,TorusKnotGeometry:ix,TubeGeometry:rx,WireframeGeometry:ax}),lx=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this)).isShadowMaterial=!0,i.type="ShadowMaterial",i.color=new dm(0),i.transparent=!0,i.fog=!0,i.setValues(t),i}return bv(n,[{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.fog=t.fog,this}}]),n}(Dg),ux=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this,t)).isRawShaderMaterial=!0,i.type="RawShaderMaterial",i}return bv(n)}(py),cx=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this)).isMeshStandardMaterial=!0,i.defines={STANDARD:""},i.type="MeshStandardMaterial",i.color=new dm(16777215),i.roughness=1,i.metalness=0,i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new dm(0),i.emissiveIntensity=1,i.emissiveMap=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=0,i.normalScale=new Zv(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.roughnessMap=null,i.metalnessMap=null,i.alphaMap=null,i.envMap=null,i.envMapIntensity=1,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.flatShading=!1,i.fog=!0,i.setValues(t),i}return bv(n,[{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}]),n}(Dg),hx=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this)).isMeshPhysicalMaterial=!0,i.defines={STANDARD:"",PHYSICAL:""},i.type="MeshPhysicalMaterial",i.clearcoatMap=null,i.clearcoatRoughness=0,i.clearcoatRoughnessMap=null,i.clearcoatNormalScale=new Zv(1,1),i.clearcoatNormalMap=null,i.ior=1.5,Object.defineProperty(fv(i),"reflectivity",{get:function(){return Vv(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),i.iridescenceMap=null,i.iridescenceIOR=1.3,i.iridescenceThicknessRange=[100,400],i.iridescenceThicknessMap=null,i.sheenColor=new dm(0),i.sheenColorMap=null,i.sheenRoughness=1,i.sheenRoughnessMap=null,i.transmissionMap=null,i.thickness=0,i.thicknessMap=null,i.attenuationDistance=1/0,i.attenuationColor=new dm(1,1,1),i.specularIntensity=1,i.specularIntensityMap=null,i.specularColor=new dm(1,1,1),i.specularColorMap=null,i._sheen=0,i._clearcoat=0,i._iridescence=0,i._transmission=0,i.setValues(t),i}return bv(n,[{key:"sheen",get:function(){return this._sheen},set:function(t){this._sheen>0!==t>0&&this.version++,this._sheen=t}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(t){this._clearcoat>0!==t>0&&this.version++,this._clearcoat=t}},{key:"iridescence",get:function(){return this._iridescence},set:function(t){this._iridescence>0!==t>0&&this.version++,this._iridescence=t}},{key:"transmission",get:function(){return this._transmission},set:function(t){this._transmission>0!==t>0&&this.version++,this._transmission=t}},{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=ov(t.iridescenceThicknessRange),this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}]),n}(cx),fx=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this)).isMeshPhongMaterial=!0,i.type="MeshPhongMaterial",i.color=new dm(16777215),i.specular=new dm(1118481),i.shininess=30,i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new dm(0),i.emissiveIntensity=1,i.emissiveMap=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=0,i.normalScale=new Zv(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.specularMap=null,i.alphaMap=null,i.envMap=null,i.combine=0,i.reflectivity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.flatShading=!1,i.fog=!0,i.setValues(t),i}return bv(n,[{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}]),n}(Dg),dx=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this)).isMeshToonMaterial=!0,i.defines={TOON:""},i.type="MeshToonMaterial",i.color=new dm(16777215),i.map=null,i.gradientMap=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new dm(0),i.emissiveIntensity=1,i.emissiveMap=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=0,i.normalScale=new Zv(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.alphaMap=null,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.fog=!0,i.setValues(t),i}return bv(n,[{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}]),n}(Dg),px=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this)).isMeshNormalMaterial=!0,i.type="MeshNormalMaterial",i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=0,i.normalScale=new Zv(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.wireframe=!1,i.wireframeLinewidth=1,i.flatShading=!1,i.setValues(t),i}return bv(n,[{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}]),n}(Dg),vx=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this)).isMeshLambertMaterial=!0,i.type="MeshLambertMaterial",i.color=new dm(16777215),i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new dm(0),i.emissiveIntensity=1,i.emissiveMap=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=0,i.normalScale=new Zv(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.specularMap=null,i.alphaMap=null,i.envMap=null,i.combine=0,i.reflectivity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.flatShading=!1,i.fog=!0,i.setValues(t),i}return bv(n,[{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}]),n}(Dg),mx=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this)).isMeshMatcapMaterial=!0,i.defines={MATCAP:""},i.type="MeshMatcapMaterial",i.color=new dm(16777215),i.matcap=null,i.map=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=0,i.normalScale=new Zv(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.alphaMap=null,i.flatShading=!1,i.fog=!0,i.setValues(t),i}return bv(n,[{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}]),n}(Dg),gx=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this)).isLineDashedMaterial=!0,i.type="LineDashedMaterial",i.scale=1,i.dashSize=3,i.gapSize=1,i.setValues(t),i}return bv(n,[{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}]),n}(yw);function yx(t,e,n){return bx(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)}function wx(t,e,n){return!t||!n&&t.constructor===e?t:"number"===typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)}function bx(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function xx(t){for(var e=t.length,n=new Array(e),i=0;i!==e;++i)n[i]=i;return n.sort((function(e,n){return t[e]-t[n]})),n}function Ax(t,e,n){for(var i=t.length,r=new t.constructor(i),a=0,o=0;o!==i;++a)for(var s=n[a]*e,l=0;l!==e;++l)r[o++]=t[s+l];return r}function _x(t,e,n,i){for(var r=1,a=t[0];void 0!==a&&void 0===a[i];)a=t[r++];if(void 0!==a){var o=a[i];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[i])&&(e.push(a.time),n.push.apply(n,o)),a=t[r++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[i])&&(e.push(a.time),o.toArray(n,n.length)),a=t[r++]}while(void 0!==a);else do{void 0!==(o=a[i])&&(e.push(a.time),n.push(o)),a=t[r++]}while(void 0!==a)}}var kx=function(){function t(e,n,i,r){yv(this,t),this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}return bv(t,[{key:"evaluate",value:function(t){var e=this.parameterPositions,n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{var a;n:{i:if(!(t<i)){for(var o=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(r=i,t<(i=e[++n]))break e}a=e.length;break n}if(t>=r)break t;var s=e[1];t<s&&(n=2,r=s);for(var l=n-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(i=r,t>=(r=e[--n-1]))break e}a=n,n=0}for(;n<a;){var u=n+a>>>1;t<e[u]?a=u:n=u+1}if(i=e[n],void 0===(r=e[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(t){for(var e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i,a=0;a!==i;++a)e[a]=n[r+a];return e}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),t}(),Sx=function(t){uv(n,t);var e=hv(n);function n(t,i,r,a){var o;return yv(this,n),(o=e.call(this,t,i,r,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:2400,endingEnd:2400},o}return bv(n,[{key:"intervalChanged_",value:function(t,e,n){var i=this.parameterPositions,r=t-2,a=t+1,o=i[r],s=i[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:r=t,o=2*e-n;break;case 2402:o=e+i[r=i.length-2]-i[r+1];break;default:r=t,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=t,s=2*n-e;break;case 2402:a=1,s=n+i[1]-i[0];break;default:a=t-1,s=e}var l=.5*(n-e),u=this.valueSize;this._weightPrev=l/(e-o),this._weightNext=l/(s-n),this._offsetPrev=r*u,this._offsetNext=a*u}},{key:"interpolate_",value:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(n-e)/(i-e),p=d*d,v=p*d,m=-h*v+2*h*p-h*d,g=(1+h)*v+(-1.5-2*h)*p+(-.5+h)*d+1,y=(-1-f)*v+(1.5+f)*p+.5*d,w=f*v-f*p,b=0;b!==o;++b)r[b]=m*a[u+b]+g*a[l+b]+y*a[s+b]+w*a[c+b];return r}}]),n}(kx),Mx=function(t){uv(n,t);var e=hv(n);function n(t,i,r,a){return yv(this,n),e.call(this,t,i,r,a)}return bv(n,[{key:"interpolate_",value:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,u=(n-e)/(i-e),c=1-u,h=0;h!==o;++h)r[h]=a[l+h]*c+a[s+h]*u;return r}}]),n}(kx),Ex=function(t){uv(n,t);var e=hv(n);function n(t,i,r,a){return yv(this,n),e.call(this,t,i,r,a)}return bv(n,[{key:"interpolate_",value:function(t){return this.copySampleValue_(t-1)}}]),n}(kx),Cx=function(){function t(e,n,i,r){if(yv(this,t),void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=wx(n,this.TimeBufferType),this.values=wx(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}return bv(t,[{key:"InterpolantFactoryMethodDiscrete",value:function(t){return new Ex(this.times,this.values,this.getValueSize(),t)}},{key:"InterpolantFactoryMethodLinear",value:function(t){return new Mx(this.times,this.values,this.getValueSize(),t)}},{key:"InterpolantFactoryMethodSmooth",value:function(t){return new Sx(this.times,this.values,this.getValueSize(),t)}},{key:"setInterpolation",value:function(t){var e;switch(t){case Tv:e=this.InterpolantFactoryMethodDiscrete;break;case Lv:e=this.InterpolantFactoryMethodLinear;break;case Ov:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Tv;case this.InterpolantFactoryMethodLinear:return Lv;case this.InterpolantFactoryMethodSmooth:return Ov}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(t){if(0!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]+=t;return this}},{key:"scale",value:function(t){if(1!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]*=t;return this}},{key:"trim",value:function(t,e){for(var n=this.times,i=n.length,r=0,a=i-1;r!==i&&n[r]<t;)++r;for(;-1!==a&&n[a]>e;)--a;if(++a,0!==r||a!==i){r>=a&&(r=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=yx(n,r,a),this.values=yx(this.values,r*o,a*o)}return this}},{key:"validate",value:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var a=null,o=0;o!==r;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),t=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),t=!1;break}a=s}if(void 0!==i&&bx(i))for(var l=0,u=i.length;l!==u;++l){var c=i[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),t=!1;break}}return t}},{key:"optimize",value:function(){for(var t=yx(this.times),e=yx(this.values),n=this.getValueSize(),i=this.getInterpolation()===Ov,r=t.length-1,a=1,o=1;o<r;++o){var s=!1,l=t[o];if(l!==t[o+1]&&(1!==o||l!==t[0]))if(i)s=!0;else for(var u=o*n,c=u-n,h=u+n,f=0;f!==n;++f){var d=e[u+f];if(d!==e[c+f]||d!==e[h+f]){s=!0;break}}if(s){if(o!==a){t[a]=t[o];for(var p=o*n,v=a*n,m=0;m!==n;++m)e[v+m]=e[p+m]}++a}}if(r>0){t[a]=t[r];for(var g=r*n,y=a*n,w=0;w!==n;++w)e[y+w]=e[g+w];++a}return a!==t.length?(this.times=yx(t,0,a),this.values=yx(e,0,a*n)):(this.times=t,this.values=e),this}},{key:"clone",value:function(){var t=yx(this.times,0),e=yx(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(t){var e,n=t.constructor;if(n.toJSON!==this.toJSON)e=n.toJSON(t);else{e={name:t.name,times:wx(t.times,Array),values:wx(t.values,Array)};var i=t.getInterpolation();i!==t.DefaultInterpolation&&(e.interpolation=i)}return e.type=t.ValueTypeName,e}}]),t}();Cx.prototype.TimeBufferType=Float32Array,Cx.prototype.ValueBufferType=Float32Array,Cx.prototype.DefaultInterpolation=Lv;var Px=function(t){uv(n,t);var e=hv(n);function n(){return yv(this,n),e.apply(this,arguments)}return bv(n)}(Cx);Px.prototype.ValueTypeName="bool",Px.prototype.ValueBufferType=Array,Px.prototype.DefaultInterpolation=Tv,Px.prototype.InterpolantFactoryMethodLinear=void 0,Px.prototype.InterpolantFactoryMethodSmooth=void 0;var Tx=function(t){uv(n,t);var e=hv(n);function n(){return yv(this,n),e.apply(this,arguments)}return bv(n)}(Cx);Tx.prototype.ValueTypeName="color";var Lx=function(t){uv(n,t);var e=hv(n);function n(){return yv(this,n),e.apply(this,arguments)}return bv(n)}(Cx);Lx.prototype.ValueTypeName="number";var Ox=function(t){uv(n,t);var e=hv(n);function n(t,i,r,a){return yv(this,n),e.call(this,t,i,r,a)}return bv(n,[{key:"interpolate_",value:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-e)/(i-e),l=t*o,u=l+o;l!==u;l+=4)bm.slerpFlat(r,0,a,l-o,a,l,s);return r}}]),n}(kx),zx=function(t){uv(n,t);var e=hv(n);function n(){return yv(this,n),e.apply(this,arguments)}return bv(n,[{key:"InterpolantFactoryMethodLinear",value:function(t){return new Ox(this.times,this.values,this.getValueSize(),t)}}]),n}(Cx);zx.prototype.ValueTypeName="quaternion",zx.prototype.DefaultInterpolation=Lv,zx.prototype.InterpolantFactoryMethodSmooth=void 0;var Rx=function(t){uv(n,t);var e=hv(n);function n(){return yv(this,n),e.apply(this,arguments)}return bv(n)}(Cx);Rx.prototype.ValueTypeName="string",Rx.prototype.ValueBufferType=Array,Rx.prototype.DefaultInterpolation=Tv,Rx.prototype.InterpolantFactoryMethodLinear=void 0,Rx.prototype.InterpolantFactoryMethodSmooth=void 0;var Dx=function(t){uv(n,t);var e=hv(n);function n(){return yv(this,n),e.apply(this,arguments)}return bv(n)}(Cx);Dx.prototype.ValueTypeName="vector";var Ix=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2500;yv(this,t),this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=Hv(),this.duration<0&&this.resetDuration()}return bv(t,[{key:"resetDuration",value:function(){for(var t=0,e=0,n=this.tracks.length;e!==n;++e){var i=this.tracks[e];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this}},{key:"trim",value:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}},{key:"optimize",value:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},{key:"clone",value:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(t){for(var e=[],n=t.tracks,i=1/(t.fps||1),r=0,a=n.length;r!==a;++r)e.push(Bx(n[r]).scale(i));var o=new this(t.name,t.duration,e,t.blendMode);return o.uuid=t.uuid,o}},{key:"toJSON",value:function(t){for(var e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode},r=0,a=n.length;r!==a;++r)e.push(Cx.toJSON(n[r]));return i}},{key:"CreateFromMorphTargetSequence",value:function(t,e,n,i){for(var r=e.length,a=[],o=0;o<r;o++){var s=[],l=[];s.push((o+r-1)%r,o,(o+1)%r),l.push(0,1,0);var u=xx(s);s=Ax(s,1,u),l=Ax(l,1,u),i||0!==s[0]||(s.push(r),l.push(l[0])),a.push(new Lx(".morphTargetInfluences["+e[o].name+"]",s,l).scale(1/n))}return new this(t,-1,a)}},{key:"findByName",value:function(t,e){var n=t;if(!Array.isArray(t)){var i=t;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===e)return n[r];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(t,e,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],l=s.name.match(r);if(l&&l.length>1){var u=l[1],c=i[u];c||(i[u]=c=[]),c.push(s)}}var h=[];for(var f in i)h.push(this.CreateFromMorphTargetSequence(f,i[f],e,n));return h}},{key:"parseAnimation",value:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(t,e,n,i,r){if(0!==n.length){var a=[],o=[];_x(n,a,o,i),0!==a.length&&r.push(new t(e,a,o))}},i=[],r=t.name||"default",a=t.fps||30,o=t.blendMode,s=t.length||-1,l=t.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var h={},f=void 0;for(f=0;f<c.length;f++)if(c[f].morphTargets)for(var d=0;d<c[f].morphTargets.length;d++)h[c[f].morphTargets[d]]=-1;for(var p in h){for(var v=[],m=[],g=0;g!==c[f].morphTargets.length;++g){var y=c[f];v.push(y.time),m.push(y.morphTarget===p?1:0)}i.push(new Lx(".morphTargetInfluence["+p+"]",v,m))}s=h.length*a}else{var w=".bones["+e[u].name+"]";n(Dx,w+".position",c,"pos",i),n(zx,w+".quaternion",c,"rot",i),n(Dx,w+".scale",c,"scl",i)}}return 0===i.length?null:new this(r,s,i,o)}}]),t}();function Bx(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Lx;case"vector":case"vector2":case"vector3":case"vector4":return Dx;case"color":return Tx;case"quaternion":return zx;case"bool":case"boolean":return Px;case"string":return Rx}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var n=[],i=[];_x(t.keys,n,i,"value"),t.times=n,t.values=i}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}var Nx={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},jx=bv((function t(e,n,i){yv(this,t);var r=this,a=!1,o=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(t){s++,!1===a&&void 0!==r.onStart&&r.onStart(t,o,s),a=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,s),o===s&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return l?l(t):t},this.setURLModifier=function(t){return l=t,this},this.addHandler=function(t,e){return u.push(t,e),this},this.removeHandler=function(t){var e=u.indexOf(t);return-1!==e&&u.splice(e,2),this},this.getHandler=function(t){for(var e=0,n=u.length;e<n;e+=2){var i=u[e],r=u[e+1];if(i.global&&(i.lastIndex=0),i.test(t))return r}return null}})),Fx=new jx,Ux=function(){function t(e){yv(this,t),this.manager=void 0!==e?e:Fx,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return bv(t,[{key:"load",value:function(){}},{key:"loadAsync",value:function(t,e){var n=this;return new Promise((function(i,r){n.load(t,i,e,r)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(t){return this.crossOrigin=t,this}},{key:"setWithCredentials",value:function(t){return this.withCredentials=t,this}},{key:"setPath",value:function(t){return this.path=t,this}},{key:"setResourcePath",value:function(t){return this.resourcePath=t,this}},{key:"setRequestHeader",value:function(t){return this.requestHeader=t,this}}]),t}(),Hx={},Vx=function(t){uv(n,t);var e=hv(n);function n(t,i){var r;return yv(this,n),(r=e.call(this,t)).response=i,r}return bv(n)}(rv(Error)),Gx=function(t){uv(n,t);var e=hv(n);function n(t){return yv(this,n),e.call(this,t)}return bv(n,[{key:"load",value:function(t,e,n,i){var r=this;void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var a=Nx.get(t);if(void 0!==a)return this.manager.itemStart(t),setTimeout((function(){e&&e(a),r.manager.itemEnd(t)}),0),a;if(void 0===Hx[t]){Hx[t]=[],Hx[t].push({onLoad:e,onProgress:n,onError:i});var o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(o).then((function(e){if(200===e.status||0===e.status){if(0===e.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===e.body||void 0===e.body.getReader)return e;var n=Hx[t],i=e.body.getReader(),r=e.headers.get("Content-Length")||e.headers.get("X-File-Size"),a=r?parseInt(r):0,o=0!==a,s=0,l=new ReadableStream({start:function(t){!function e(){i.read().then((function(i){var r=i.done,l=i.value;if(r)t.close();else{s+=l.byteLength;for(var u=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a}),c=0,h=n.length;c<h;c++){var f=n[c];f.onProgress&&f.onProgress(u)}t.enqueue(l),e()}}))}()}});return new Response(l)}throw new Vx('fetch for "'.concat(e.url,'" responded with ').concat(e.status,": ").concat(e.statusText),e)})).then((function(t){switch(l){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"document":return t.text().then((function(t){return(new DOMParser).parseFromString(t,s)}));case"json":return t.json();default:if(void 0===s)return t.text();var e=/charset="?([^;"\s]*)"?/i.exec(s),n=e&&e[1]?e[1].toLowerCase():void 0,i=new TextDecoder(n);return t.arrayBuffer().then((function(t){return i.decode(t)}))}})).then((function(e){Nx.add(t,e);var n=Hx[t];delete Hx[t];for(var i=0,r=n.length;i<r;i++){var a=n[i];a.onLoad&&a.onLoad(e)}})).catch((function(e){var n=Hx[t];if(void 0===n)throw r.manager.itemError(t),e;delete Hx[t];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(e)}r.manager.itemError(t)})).finally((function(){r.manager.itemEnd(t)})),this.manager.itemStart(t)}else Hx[t].push({onLoad:e,onProgress:n,onError:i})}},{key:"setResponseType",value:function(t){return this.responseType=t,this}},{key:"setMimeType",value:function(t){return this.mimeType=t,this}}]),n}(Ux),Wx=function(t){uv(n,t);var e=hv(n);function n(t){return yv(this,n),e.call(this,t)}return bv(n,[{key:"load",value:function(t,e,n,i){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=Nx.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout((function(){e&&e(a),r.manager.itemEnd(t)}),0),a;var o=em("img");function s(){u(),Nx.add(t,this),e&&e(this),r.manager.itemEnd(t)}function l(e){u(),i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}function u(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(t),o.src=t,o}}]),n}(Ux),Qx=function(t){uv(n,t);var e=hv(n);function n(t){return yv(this,n),e.call(this,t)}return bv(n,[{key:"load",value:function(t,e,n,i){var r=new ym,a=new Wx(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(t){r.image=t,r.needsUpdate=!0,void 0!==e&&e(r)}),n,i),r}}]),n}(Ux),Xx=function(t){uv(n,t);var e=hv(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return yv(this,n),(i=e.call(this)).isLight=!0,i.type="Light",i.color=new dm(t),i.intensity=r,i}return bv(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(t,e){return lv(pv(n.prototype),"copy",this).call(this,t,e),this.color.copy(t.color),this.intensity=t.intensity,this}},{key:"toJSON",value:function(t){var e=lv(pv(n.prototype),"toJSON",this).call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}]),n}(Ag),Yx=function(t){uv(n,t);var e=hv(n);function n(t,i,r){var a;return yv(this,n),(a=e.call(this,t,r)).isHemisphereLight=!0,a.type="HemisphereLight",a.position.copy(Ag.DefaultUp),a.updateMatrix(),a.groundColor=new dm(i),a}return bv(n,[{key:"copy",value:function(t,e){return lv(pv(n.prototype),"copy",this).call(this,t,e),this.groundColor.copy(t.groundColor),this}}]),n}(Xx),Jx=new qm,Zx=new xm,qx=new xm,Kx=function(){function t(e){yv(this,t),this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Zv(512,512),this.map=null,this.mapPass=null,this.matrix=new qm,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ky,this._frameExtents=new Zv(1,1),this._viewportCount=1,this._viewports=[new wm(0,0,1,1)]}return bv(t,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(t){var e=this.camera,n=this.matrix;Zx.setFromMatrixPosition(t.matrixWorld),e.position.copy(Zx),qx.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(qx),e.updateMatrixWorld(),Jx.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Jx),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Jx)}},{key:"getViewport",value:function(t){return this._viewports[t]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}]),t}(),$x=function(t){uv(n,t);var e=hv(n);function n(){var t;return yv(this,n),(t=e.call(this,new my(50,1,.5,500))).isSpotLightShadow=!0,t.focus=1,t}return bv(n,[{key:"updateMatrices",value:function(t){var e=this.camera,i=2*Uv*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height,a=t.distance||e.far;i===e.fov&&r===e.aspect&&a===e.far||(e.fov=i,e.aspect=r,e.far=a,e.updateProjectionMatrix()),lv(pv(n.prototype),"updateMatrices",this).call(this,t)}},{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.focus=t.focus,this}}]),n}(Kx),tA=function(t){uv(n,t);var e=hv(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;return yv(this,n),(r=e.call(this,t,i)).isSpotLight=!0,r.type="SpotLight",r.position.copy(Ag.DefaultUp),r.updateMatrix(),r.target=new Ag,r.distance=a,r.angle=o,r.penumbra=s,r.decay=l,r.map=null,r.shadow=new $x,r}return bv(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(t,e){return lv(pv(n.prototype),"copy",this).call(this,t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}]),n}(Xx),eA=new qm,nA=new xm,iA=new xm,rA=function(t){uv(n,t);var e=hv(n);function n(){var t;return yv(this,n),(t=e.call(this,new my(90,1,.5,500))).isPointLightShadow=!0,t._frameExtents=new Zv(4,2),t._viewportCount=6,t._viewports=[new wm(2,1,1,1),new wm(0,1,1,1),new wm(3,1,1,1),new wm(1,1,1,1),new wm(3,0,1,1),new wm(1,0,1,1)],t._cubeDirections=[new xm(1,0,0),new xm(-1,0,0),new xm(0,0,1),new xm(0,0,-1),new xm(0,1,0),new xm(0,-1,0)],t._cubeUps=[new xm(0,1,0),new xm(0,1,0),new xm(0,1,0),new xm(0,1,0),new xm(0,0,1),new xm(0,0,-1)],t}return bv(n,[{key:"updateMatrices",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,i=this.matrix,r=t.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),nA.setFromMatrixPosition(t.matrixWorld),n.position.copy(nA),iA.copy(n.position),iA.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(iA),n.updateMatrixWorld(),i.makeTranslation(-nA.x,-nA.y,-nA.z),eA.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(eA)}}]),n}(Kx),aA=function(t){uv(n,t);var e=hv(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return yv(this,n),(r=e.call(this,t,i)).isPointLight=!0,r.type="PointLight",r.distance=a,r.decay=o,r.shadow=new rA,r}return bv(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(t,e){return lv(pv(n.prototype),"copy",this).call(this,t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}]),n}(Xx),oA=function(t){uv(n,t);var e=hv(n);function n(){var t;return yv(this,n),(t=e.call(this,new My(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,t}return bv(n)}(Kx),sA=function(t){uv(n,t);var e=hv(n);function n(t,i){var r;return yv(this,n),(r=e.call(this,t,i)).isDirectionalLight=!0,r.type="DirectionalLight",r.position.copy(Ag.DefaultUp),r.updateMatrix(),r.target=new Ag,r.shadow=new oA,r}return bv(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}]),n}(Xx),lA=function(t){uv(n,t);var e=hv(n);function n(t,i){var r;return yv(this,n),(r=e.call(this,t,i)).isAmbientLight=!0,r.type="AmbientLight",r}return bv(n)}(Xx),uA=function(t){uv(n,t);var e=hv(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return yv(this,n),(r=e.call(this,t,i)).isRectAreaLight=!0,r.type="RectAreaLight",r.width=a,r.height=o,r}return bv(n,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(t){this.intensity=t/(this.width*this.height*Math.PI)}},{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.width=t.width,this.height=t.height,this}},{key:"toJSON",value:function(t){var e=lv(pv(n.prototype),"toJSON",this).call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}]),n}(Xx),cA=function(){function t(){yv(this,t),this.isSphericalHarmonics3=!0,this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new xm)}return bv(t,[{key:"set",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}},{key:"zero",value:function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}},{key:"getAt",value:function(t,e){var n=t.x,i=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.282095),e.addScaledVector(a[1],.488603*i),e.addScaledVector(a[2],.488603*r),e.addScaledVector(a[3],.488603*n),e.addScaledVector(a[4],n*i*1.092548),e.addScaledVector(a[5],i*r*1.092548),e.addScaledVector(a[6],.315392*(3*r*r-1)),e.addScaledVector(a[7],n*r*1.092548),e.addScaledVector(a[8],.546274*(n*n-i*i)),e}},{key:"getIrradianceAt",value:function(t,e){var n=t.x,i=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.886227),e.addScaledVector(a[1],1.023328*i),e.addScaledVector(a[2],1.023328*r),e.addScaledVector(a[3],1.023328*n),e.addScaledVector(a[4],.858086*n*i),e.addScaledVector(a[5],.858086*i*r),e.addScaledVector(a[6],.743125*r*r-.247708),e.addScaledVector(a[7],.858086*n*r),e.addScaledVector(a[8],.429043*(n*n-i*i)),e}},{key:"add",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}},{key:"addScaledSH",value:function(t,e){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}},{key:"scale",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}},{key:"lerp",value:function(t,e){for(var n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}},{key:"equals",value:function(t){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}},{key:"copy",value:function(t){return this.set(t.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,i=0;i<9;i++)n[i].fromArray(t,e+3*i);return this}},{key:"toArray",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,i=0;i<9;i++)n[i].toArray(t,e+3*i);return t}}],[{key:"getBasisAt",value:function(t,e){var n=t.x,i=t.y,r=t.z;e[0]=.282095,e[1]=.488603*i,e[2]=.488603*r,e[3]=.488603*n,e[4]=1.092548*n*i,e[5]=1.092548*i*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*n*r,e[8]=.546274*(n*n-i*i)}}]),t}(),hA=function(t){uv(n,t);var e=hv(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new cA,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return yv(this,n),(t=e.call(this,void 0,r)).isLightProbe=!0,t.sh=i,t}return bv(n,[{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.sh.copy(t.sh),this}},{key:"fromJSON",value:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}},{key:"toJSON",value:function(t){var e=lv(pv(n.prototype),"toJSON",this).call(this,t);return e.object.sh=this.sh.toArray(),e}}]),n}(Xx),fA=function(t){uv(n,t);var e=hv(n);function n(t){var i;return yv(this,n),(i=e.call(this,t)).textures={},i}return bv(n,[{key:"load",value:function(t,e,n,i){var r=this,a=new Gx(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(a){i?i(a):console.error(a),r.manager.itemError(t)}}),n,i)}},{key:"parse",value:function(t){var e=this.textures;function i(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var r=n.createMaterialFromType(t.type);if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&void 0!==r.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.sheen&&(r.sheen=t.sheen),void 0!==t.sheenColor&&(r.sheenColor=(new dm).setHex(t.sheenColor)),void 0!==t.sheenRoughness&&(r.sheenRoughness=t.sheenRoughness),void 0!==t.emissive&&void 0!==r.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==r.specular&&r.specular.setHex(t.specular),void 0!==t.specularIntensity&&(r.specularIntensity=t.specularIntensity),void 0!==t.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(t.specularColor),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearcoat&&(r.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(r.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.iridescence&&(r.iridescence=t.iridescence),void 0!==t.iridescenceIOR&&(r.iridescenceIOR=t.iridescenceIOR),void 0!==t.iridescenceThicknessRange&&(r.iridescenceThicknessRange=t.iridescenceThicknessRange),void 0!==t.transmission&&(r.transmission=t.transmission),void 0!==t.thickness&&(r.thickness=t.thickness),void 0!==t.attenuationDistance&&(r.attenuationDistance=t.attenuationDistance),void 0!==t.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(t.attenuationColor),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.shadowSide&&(r.shadowSide=t.shadowSide),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(r.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(r.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(r.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(r.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(r.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(r.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(r.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(r.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.alphaToCoverage&&(r.alphaToCoverage=t.alphaToCoverage),void 0!==t.premultipliedAlpha&&(r.premultipliedAlpha=t.premultipliedAlpha),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.toneMapped&&(r.toneMapped=t.toneMapped),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.vertexColors&&("number"===typeof t.vertexColors?r.vertexColors=t.vertexColors>0:r.vertexColors=t.vertexColors),void 0!==t.uniforms)for(var a in t.uniforms){var o=t.uniforms[a];switch(r.uniforms[a]={},o.type){case"t":r.uniforms[a].value=i(o.value);break;case"c":r.uniforms[a].value=(new dm).setHex(o.value);break;case"v2":r.uniforms[a].value=(new Zv).fromArray(o.value);break;case"v3":r.uniforms[a].value=(new xm).fromArray(o.value);break;case"v4":r.uniforms[a].value=(new wm).fromArray(o.value);break;case"m3":r.uniforms[a].value=(new qv).fromArray(o.value);break;case"m4":r.uniforms[a].value=(new qm).fromArray(o.value);break;default:r.uniforms[a].value=o.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.glslVersion&&(r.glslVersion=t.glslVersion),void 0!==t.extensions)for(var s in t.extensions)r.extensions[s]=t.extensions[s];if(void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=i(t.map)),void 0!==t.matcap&&(r.matcap=i(t.matcap)),void 0!==t.alphaMap&&(r.alphaMap=i(t.alphaMap)),void 0!==t.bumpMap&&(r.bumpMap=i(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=i(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){var l=t.normalScale;!1===Array.isArray(l)&&(l=[l,l]),r.normalScale=(new Zv).fromArray(l)}return void 0!==t.displacementMap&&(r.displacementMap=i(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=i(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=i(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=i(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=i(t.specularMap)),void 0!==t.specularIntensityMap&&(r.specularIntensityMap=i(t.specularIntensityMap)),void 0!==t.specularColorMap&&(r.specularColorMap=i(t.specularColorMap)),void 0!==t.envMap&&(r.envMap=i(t.envMap)),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(r.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(r.lightMap=i(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=i(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=i(t.gradientMap)),void 0!==t.clearcoatMap&&(r.clearcoatMap=i(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(r.clearcoatNormalMap=i(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(r.clearcoatNormalScale=(new Zv).fromArray(t.clearcoatNormalScale)),void 0!==t.iridescenceMap&&(r.iridescenceMap=i(t.iridescenceMap)),void 0!==t.iridescenceThicknessMap&&(r.iridescenceThicknessMap=i(t.iridescenceThicknessMap)),void 0!==t.transmissionMap&&(r.transmissionMap=i(t.transmissionMap)),void 0!==t.thicknessMap&&(r.thicknessMap=i(t.thicknessMap)),void 0!==t.sheenColorMap&&(r.sheenColorMap=i(t.sheenColorMap)),void 0!==t.sheenRoughnessMap&&(r.sheenRoughnessMap=i(t.sheenRoughnessMap)),r}},{key:"setTextures",value:function(t){return this.textures=t,this}}],[{key:"createMaterialFromType",value:function(t){return new{ShadowMaterial:lx,SpriteMaterial:Iy,RawShaderMaterial:ux,ShaderMaterial:py,PointsMaterial:Pw,MeshPhysicalMaterial:hx,MeshStandardMaterial:cx,MeshPhongMaterial:fx,MeshToonMaterial:dx,MeshNormalMaterial:px,MeshLambertMaterial:vx,MeshDepthMaterial:Ey,MeshDistanceMaterial:Cy,MeshBasicMaterial:Ig,MeshMatcapMaterial:mx,LineDashedMaterial:gx,LineBasicMaterial:yw,Material:Dg}[t]}}]),n}(Ux),dA=function(){function t(){yv(this,t)}return bv(t,null,[{key:"decodeText",value:function(t){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",n=0,i=t.length;n<i;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(r){return e}}},{key:"extractUrlBase",value:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.slice(0,e+1)}},{key:"resolveURL",value:function(t,e){return"string"!==typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}]),t}(),pA=function(t){uv(n,t);var e=hv(n);function n(){var t;return yv(this,n),(t=e.call(this)).isInstancedBufferGeometry=!0,t.type="InstancedBufferGeometry",t.instanceCount=1/0,t}return bv(n,[{key:"copy",value:function(t){return lv(pv(n.prototype),"copy",this).call(this,t),this.instanceCount=t.instanceCount,this}},{key:"toJSON",value:function(){var t=lv(pv(n.prototype),"toJSON",this).call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}]),n}(Zg),vA=function(t){uv(n,t);var e=hv(n);function n(t){return yv(this,n),e.call(this,t)}return bv(n,[{key:"load",value:function(t,e,n,i){var r=this,a=new Gx(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(a){i?i(a):console.error(a),r.manager.itemError(t)}}),n,i)}},{key:"parse",value:function(t){var e={},n={};function i(t,i){if(void 0!==e[i])return e[i];var r=t.interleavedBuffers[i],a=function(t,e){if(void 0!==n[e])return n[e];var i=t.arrayBuffers,r=i[e],a=new Uint32Array(r).buffer;return n[e]=a,a}(t,r.buffer),o=tm(r.type,a),s=new zy(o,r.stride);return s.uuid=r.uuid,e[i]=s,s}var r=t.isInstancedBufferGeometry?new pA:new Zg,a=t.data.index;if(void 0!==a){var o=tm(a.type,a.array);r.setIndex(new jg(o,1))}var s=t.data.attributes;for(var l in s){var u=s[l],c=void 0;if(u.isInterleavedBufferAttribute){var h=i(t.data,u.data);c=new Dy(h,u.itemSize,u.offset,u.normalized)}else{var f=tm(u.type,u.array);c=new(u.isInstancedBufferAttribute?hw:jg)(f,u.itemSize,u.normalized)}void 0!==u.name&&(c.name=u.name),void 0!==u.usage&&c.setUsage(u.usage),void 0!==u.updateRange&&(c.updateRange.offset=u.updateRange.offset,c.updateRange.count=u.updateRange.count),r.setAttribute(l,c)}var d=t.data.morphAttributes;if(d)for(var p in d){for(var v=d[p],m=[],g=0,y=v.length;g<y;g++){var w=v[g],b=void 0;if(w.isInterleavedBufferAttribute){var x=i(t.data,w.data);b=new Dy(x,w.itemSize,w.offset,w.normalized)}else{var A=tm(w.type,w.array);b=new jg(A,w.itemSize,w.normalized)}void 0!==w.name&&(b.name=w.name),m.push(b)}r.morphAttributes[p]=m}t.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);var _=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==_)for(var k=0,S=_.length;k!==S;++k){var M=_[k];r.addGroup(M.start,M.count,M.materialIndex)}var E=t.data.boundingSphere;if(void 0!==E){var C=new xm;void 0!==E.center&&C.fromArray(E.center),r.boundingSphere=new Hm(C,E.radius)}return t.name&&(r.name=t.name),t.userData&&(r.userData=t.userData),r}}]),n}(Ux),mA=function(t){uv(n,t);var e=hv(n);function n(t){return yv(this,n),e.call(this,t)}return bv(n,[{key:"load",value:function(t,e,n,i){var r=this,a=""===this.path?dA.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;var o=new Gx(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,(function(n){var a=null;try{a=JSON.parse(n)}catch(s){return void 0!==i&&i(s),void console.error("THREE:ObjectLoader: Can't parse "+t+".",s.message)}var o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())return void 0!==i&&i(new Error("THREE.ObjectLoader: Can't load "+t)),void console.error("THREE.ObjectLoader: Can't load "+t);r.parse(a,e)}),n,i)}},{key:"loadAsync",value:function(){var t=iv(mv().mark((function t(e,n){var i,r,a,o,s,l;return mv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this,r=""===this.path?dA.extractUrlBase(e):this.path,this.resourcePath=this.resourcePath||r,(a=new Gx(this.manager)).setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),t.next=9,a.loadAsync(e,n);case 9:if(o=t.sent,s=JSON.parse(o),void 0!==(l=s.metadata)&&void 0!==l.type&&"geometry"!==l.type.toLowerCase()){t.next=14;break}throw new Error("THREE.ObjectLoader: Can't load "+e);case 14:return t.next=16,i.parseAsync(s);case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"parse",value:function(t,e){var n=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,i),a=this.parseImages(t.images,(function(){void 0!==e&&e(l)})),o=this.parseTextures(t.textures,a),s=this.parseMaterials(t.materials,o),l=this.parseObject(t.object,r,s,o,n),u=this.parseSkeletons(t.skeletons,l);if(this.bindSkeletons(l,u),void 0!==e){var c=!1;for(var h in a)if(a[h].data instanceof HTMLImageElement){c=!0;break}!1===c&&e(l)}return l}},{key:"parseAsync",value:function(){var t=iv(mv().mark((function t(e){var n,i,r,a,o,s,l,u;return mv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),t.next=5,this.parseImagesAsync(e.images);case 5:return a=t.sent,o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,s,o,n),u=this.parseSkeletons(e.skeletons,l),this.bindSkeletons(l,u),t.abrupt("return",l);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"parseShapes",value:function(t){var e={};if(void 0!==t)for(var n=0,i=t.length;n<i;n++){var r=(new wb).fromJSON(t[n]);e[r.uuid]=r}return e}},{key:"parseSkeletons",value:function(t,e){var n={},i={};if(e.traverse((function(t){t.isBone&&(i[t.uuid]=t)})),void 0!==t)for(var r=0,a=t.length;r<a;r++){var o=(new cw).fromJSON(t[r],i);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(t,e){var n={};if(void 0!==t)for(var i=new vA,r=0,a=t.length;r<a;r++){var o=void 0,s=t[r];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(s);break;default:s.type in sx?o=sx[s.type].fromJSON(s,e):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(s.type,'"'))}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n}},{key:"parseMaterials",value:function(t,e){var n={},i={};if(void 0!==t){var r=new fA;r.setTextures(e);for(var a=0,o=t.length;a<o;a++){var s=t[a];void 0===n[s.uuid]&&(n[s.uuid]=r.parse(s)),i[s.uuid]=n[s.uuid]}}return i}},{key:"parseAnimations",value:function(t){var e={};if(void 0!==t)for(var n=0;n<t.length;n++){var i=t[n],r=Ix.parse(i);e[r.uuid]=r}return e}},{key:"parseImages",value:function(t,e){var n,i=this,r={};function a(t){if("string"===typeof t){var e=t;return function(t){return i.manager.itemStart(t),n.load(t,(function(){i.manager.itemEnd(t)}),void 0,(function(){i.manager.itemError(t),i.manager.itemEnd(t)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(e)?e:i.resourcePath+e)}return t.data?{data:tm(t.type,t.data),width:t.width,height:t.height}:null}if(void 0!==t&&t.length>0){var o=new jx(e);(n=new Wx(o)).setCrossOrigin(this.crossOrigin);for(var s=0,l=t.length;s<l;s++){var u=t[s],c=u.url;if(Array.isArray(c)){for(var h=[],f=0,d=c.length;f<d;f++){var p=a(c[f]);null!==p&&(p instanceof HTMLImageElement?h.push(p):h.push(new sw(p.data,p.width,p.height)))}r[u.uuid]=new vm(h)}else{var v=a(u.url);r[u.uuid]=new vm(v)}}}return r}},{key:"parseImagesAsync",value:function(){var t=iv(mv().mark((function t(e){var n,i,r,a,o,s,l,u,c,h,f,d,p,v,m;return mv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=function(){return o=iv(mv().mark((function t(e){var i,a;return mv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!==typeof e){t.next=8;break}return a=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(i=e)?i:n.resourcePath+i,t.next=5,r.loadAsync(a);case 5:return t.abrupt("return",t.sent);case 8:if(!e.data){t.next=12;break}return t.abrupt("return",{data:tm(e.type,e.data),width:e.width,height:e.height});case 12:return t.abrupt("return",null);case 13:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)},a=function(t){return o.apply(this,arguments)},n=this,i={},!(void 0!==e&&e.length>0)){t.next=33;break}(r=new Wx(this.manager)).setCrossOrigin(this.crossOrigin),s=0,l=e.length;case 8:if(!(s<l)){t.next=33;break}if(u=e[s],c=u.url,!Array.isArray(c)){t.next=26;break}h=[],f=0,d=c.length;case 14:if(!(f<d)){t.next=23;break}return p=c[f],t.next=18,a(p);case 18:null!==(v=t.sent)&&(v instanceof HTMLImageElement?h.push(v):h.push(new sw(v.data,v.width,v.height)));case 20:f++,t.next=14;break;case 23:i[u.uuid]=new vm(h),t.next=30;break;case 26:return t.next=28,a(u.url);case 28:m=t.sent,i[u.uuid]=new vm(m);case 30:s++,t.next=8;break;case 33:return t.abrupt("return",i);case 34:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"parseTextures",value:function(t,e){function n(t,e){return"number"===typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var i={};if(void 0!==t)for(var r=0,a=t.length;r<a;r++){var o=t[r];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===e[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=e[o.image],l=s.data,u=void 0;Array.isArray(l)?(u=new gy,6===l.length&&(u.needsUpdate=!0)):(u=l&&l.data?new sw:new ym,l&&(u.needsUpdate=!0)),u.source=s,u.uuid=o.uuid,void 0!==o.name&&(u.name=o.name),void 0!==o.mapping&&(u.mapping=n(o.mapping,gA)),void 0!==o.offset&&u.offset.fromArray(o.offset),void 0!==o.repeat&&u.repeat.fromArray(o.repeat),void 0!==o.center&&u.center.fromArray(o.center),void 0!==o.rotation&&(u.rotation=o.rotation),void 0!==o.wrap&&(u.wrapS=n(o.wrap[0],yA),u.wrapT=n(o.wrap[1],yA)),void 0!==o.format&&(u.format=o.format),void 0!==o.type&&(u.type=o.type),void 0!==o.encoding&&(u.encoding=o.encoding),void 0!==o.minFilter&&(u.minFilter=n(o.minFilter,wA)),void 0!==o.magFilter&&(u.magFilter=n(o.magFilter,wA)),void 0!==o.anisotropy&&(u.anisotropy=o.anisotropy),void 0!==o.flipY&&(u.flipY=o.flipY),void 0!==o.generateMipmaps&&(u.generateMipmaps=o.generateMipmaps),void 0!==o.premultiplyAlpha&&(u.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(u.unpackAlignment=o.unpackAlignment),void 0!==o.userData&&(u.userData=o.userData),i[o.uuid]=u}return i}},{key:"parseObject",value:function(t,e,n,i,r){var a,o,s;function l(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function u(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],i=0,r=t.length;i<r;i++){var a=t[i];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),e.push(n[a])}return e}return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n[t]}}function c(t){return void 0===i[t]&&console.warn("THREE.ObjectLoader: Undefined texture",t),i[t]}switch(t.type){case"Scene":a=new Oy,void 0!==t.background&&(Number.isInteger(t.background)?a.background=new dm(t.background):a.background=c(t.background)),void 0!==t.environment&&(a.environment=c(t.environment)),void 0!==t.fog&&("Fog"===t.fog.type?a.fog=new Ly(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(a.fog=new Ty(t.fog.color,t.fog.density))),void 0!==t.backgroundBlurriness&&(a.backgroundBlurriness=t.backgroundBlurriness);break;case"PerspectiveCamera":a=new my(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(a.focus=t.focus),void 0!==t.zoom&&(a.zoom=t.zoom),void 0!==t.filmGauge&&(a.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(a.filmOffset=t.filmOffset),void 0!==t.view&&(a.view=Object.assign({},t.view));break;case"OrthographicCamera":a=new My(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(a.zoom=t.zoom),void 0!==t.view&&(a.view=Object.assign({},t.view));break;case"AmbientLight":a=new lA(t.color,t.intensity);break;case"DirectionalLight":a=new sA(t.color,t.intensity);break;case"PointLight":a=new aA(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":a=new uA(t.color,t.intensity,t.width,t.height);break;case"SpotLight":a=new tA(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":a=new Yx(t.color,t.groundColor,t.intensity);break;case"LightProbe":a=(new hA).fromJSON(t);break;case"SkinnedMesh":o=l(t.geometry),s=u(t.material),a=new aw(o,s),void 0!==t.bindMode&&(a.bindMode=t.bindMode),void 0!==t.bindMatrix&&a.bindMatrix.fromArray(t.bindMatrix),void 0!==t.skeleton&&(a.skeleton=t.skeleton);break;case"Mesh":o=l(t.geometry),s=u(t.material),a=new cy(o,s);break;case"InstancedMesh":o=l(t.geometry),s=u(t.material);var h=t.count,f=t.instanceMatrix,d=t.instanceColor;(a=new gw(o,s,h)).instanceMatrix=new hw(new Float32Array(f.array),16),void 0!==d&&(a.instanceColor=new hw(new Float32Array(d.array),d.itemSize));break;case"LOD":a=new $y;break;case"Line":a=new kw(l(t.geometry),u(t.material));break;case"LineLoop":a=new Cw(l(t.geometry),u(t.material));break;case"LineSegments":a=new Ew(l(t.geometry),u(t.material));break;case"PointCloud":case"Points":a=new Rw(l(t.geometry),u(t.material));break;case"Sprite":a=new Jy(u(t.material));break;case"Group":a=new Py;break;case"Bone":a=new ow;break;default:a=new Ag}if(a.uuid=t.uuid,void 0!==t.name&&(a.name=t.name),void 0!==t.matrix?(a.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(a.matrixAutoUpdate=t.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==t.position&&a.position.fromArray(t.position),void 0!==t.rotation&&a.rotation.fromArray(t.rotation),void 0!==t.quaternion&&a.quaternion.fromArray(t.quaternion),void 0!==t.scale&&a.scale.fromArray(t.scale)),void 0!==t.castShadow&&(a.castShadow=t.castShadow),void 0!==t.receiveShadow&&(a.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(a.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(a.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(a.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&a.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(a.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(a.visible=t.visible),void 0!==t.frustumCulled&&(a.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(a.renderOrder=t.renderOrder),void 0!==t.userData&&(a.userData=t.userData),void 0!==t.layers&&(a.layers.mask=t.layers),void 0!==t.children)for(var p=t.children,v=0;v<p.length;v++)a.add(this.parseObject(p[v],e,n,i,r));if(void 0!==t.animations)for(var m=t.animations,g=0;g<m.length;g++){var y=m[g];a.animations.push(r[y])}if("LOD"===t.type){void 0!==t.autoUpdate&&(a.autoUpdate=t.autoUpdate);for(var w=t.levels,b=0;b<w.length;b++){var x=w[b],A=a.getObjectByProperty("uuid",x.object);void 0!==A&&a.addLevel(A,x.distance,x.hysteresis)}}return a}},{key:"bindSkeletons",value:function(t,e){0!==Object.keys(e).length&&t.traverse((function(t){if(!0===t.isSkinnedMesh&&void 0!==t.skeleton){var n=e[t.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",t.skeleton):t.bind(n,t.bindMatrix)}}))}}]),n}(Ux),gA={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:306},yA={RepeatWrapping:kv,ClampToEdgeWrapping:Sv,MirroredRepeatWrapping:Mv},wA={NearestFilter:Ev,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:Cv,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008},bA=new qm,xA=new qm,AA=new qm,_A=function(){function t(){yv(this,t),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new my,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new my,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return bv(t,[{key:"update",value:function(t){var e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,AA.copy(t.projectionMatrix);var n,i,r=e.eyeSep/2,a=r*e.near/e.focus,o=e.near*Math.tan(Fv*e.fov*.5)/e.zoom;xA.elements[12]=-r,bA.elements[12]=r,n=-o*e.aspect+a,i=o*e.aspect+a,AA.elements[0]=2*e.near/(i-n),AA.elements[8]=(i+n)/(i-n),this.cameraL.projectionMatrix.copy(AA),n=-o*e.aspect-a,i=o*e.aspect-a,AA.elements[0]=2*e.near/(i-n),AA.elements[8]=(i+n)/(i-n),this.cameraR.projectionMatrix.copy(AA)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(xA),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(bA)}}]),t}(),kA=new Zv,SA=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zv(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zv(-1/0,-1/0);yv(this,t),this.isBox2=!0,this.min=e,this.max=n}return bv(t,[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){var n=kA.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}},{key:"getParameter",value:function(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}},{key:"clampPoint",value:function(t,e){return e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return kA.copy(t).clamp(this.min,this.max).sub(t).length()}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),t}();function MA(t){return function(t){if(Array.isArray(t))return EA(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return EA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EA(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EA(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function CA(t){return CA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CA(t)}function PA(){return PA="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=NA(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},PA.apply(this,arguments)}function TA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,OA(i.key),i)}}function LA(t,e,n){return e&&TA(t.prototype,e),n&&TA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function OA(t){var e=function(t,e){if("object"!==CA(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==CA(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===CA(e)?e:String(e)}function zA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RA(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DA(t,e)}function DA(t,e){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},DA(t,e)}function IA(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=NA(t);if(e){var r=NA(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===CA(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return BA(t)}(this,n)}}function BA(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NA(t){return NA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},NA(t)}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"148"}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="148");var jA=Object.defineProperty;!function(t,e){for(var n in e)jA(t,n,{get:e[n],enumerable:!0})}({},{AutorotateEvent:function(){return FA}});var FA=function(t){RA(n,t);var e=IA(n);function n(t){var i;return zA(this,n),(i=e.call(this,n.type)).autorotateEnabled=t,i}return LA(n)}(Ad);FA.type="autorotate";var UA=function(t){RA(n,t);var e=IA(n);function n(t){var i,r;return zA(this,n),(r=e.call(this,t,{className:"psv-autorotate-button",hoverScale:!0,collapsable:!0,tabbable:!0,icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 41 41" overflow="visible"><g fill="currentColor" transform-origin="center" transform="scale(1.3)"><path d="M40.5 14.1c-.1-.1-1.2-.5-2.899-1-.101 0-.2-.1-.2-.2C34.5 6.5 28 2 20.5 2S6.6 6.5 3.7 12.9c0 .1-.1.1-.2.2-1.7.6-2.8 1-2.9 1l-.6.3v12.1l.6.2c.1 0 1.1.4 2.7.9.1 0 .2.1.2.199C6.3 34.4 12.9 39 20.5 39c7.601 0 14.101-4.6 16.9-11.1 0-.101.1-.101.2-.2 1.699-.6 2.699-1 2.8-1l.6-.3V14.3l-.5-.2zM20.5 4c5.8 0 10.9 3 13.8 7.5.2.3-.1.6-.399.5-3.8-1-8.8-2-13.6-2-4.7 0-9.5 1-13.2 2-.3.1-.5-.2-.4-.5C9.7 7 14.8 4 20.5 4zm0 33c-5.9 0-11.1-3.1-14-7.899-.2-.301.1-.601.4-.5 3.9 1 8.9 2.1 13.6 2.1 5 0 9.9-1 13.601-2 .3-.1.5.2.399.5A16.422 16.422 0 0 1 20.5 37zm18.601-12.1c0 .1-.101.3-.2.3-2.5.9-10.4 3.6-18.4 3.6-7.1 0-15.6-2.699-18.3-3.6C2.1 25.2 2 25 2 24.9V16c0-.1.1-.3.2-.3 2.6-.9 10.6-3.6 18.2-3.6 7.5 0 15.899 2.7 18.5 3.6.1 0 .2.2.2.3v8.9z"/><path d="M18.7 24l6.4-3.7c.3-.2.3-.7 0-.8l-6.4-3.8c-.3-.2-.7 0-.7.4v7.4c0 .5.4.7.7.5z"/></g>\x3c!--Created by Nick Bluth from the Noun Project--\x3e</svg>\n',iconActive:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 41 41" overflow="visible"><g fill="currentColor" transform-origin="center" transform="scale(1.3)"><path d="M40.5 14.1c-.1-.1-1.2-.5-2.898-1-.102 0-.202-.1-.202-.2C34.5 6.5 28 2 20.5 2S6.6 6.5 3.7 12.9c0 .1-.1.1-.2.2-1.7.6-2.8 1-2.9 1l-.6.3v12.1l.6.2c.1 0 1.1.399 2.7.899.1 0 .2.101.2.199C6.3 34.4 12.9 39 20.5 39c7.602 0 14.102-4.6 16.9-11.1 0-.102.1-.102.199-.2 1.699-.601 2.699-1 2.801-1l.6-.3V14.3l-.5-.2zM6.701 11.5C9.7 7 14.8 4 20.5 4c5.8 0 10.9 3 13.8 7.5.2.3-.1.6-.399.5-3.799-1-8.799-2-13.6-2-4.7 0-9.5 1-13.2 2-.3.1-.5-.2-.4-.5zM25.1 20.3L18.7 24c-.3.2-.7 0-.7-.5v-7.4c0-.4.4-.6.7-.4l6.399 3.8c.301.1.301.6.001.8zm9.4 8.901A16.421 16.421 0 0 1 20.5 37c-5.9 0-11.1-3.1-14-7.898-.2-.302.1-.602.4-.5 3.9 1 8.9 2.1 13.6 2.1 5 0 9.9-1 13.602-2 .298-.1.5.198.398.499z"/></g>\x3c!--Created by Nick Bluth from the Noun Project--\x3e</svg>\n'})).plugin=r.viewer.getPlugin("autorotate"),null===(i=r.plugin)||void 0===i||i.addEventListener(FA.type,BA(r)),r}return LA(n,[{key:"destroy",value:function(){var t;null===(t=this.plugin)||void 0===t||t.removeEventListener(FA.type,this),PA(NA(n.prototype),"destroy",this).call(this)}},{key:"isSupported",value:function(){return!!this.plugin}},{key:"handleEvent",value:function(t){t instanceof FA&&this.toggleActive(t.autorotateEnabled)}},{key:"onClick",value:function(){this.plugin.isEnabled()&&(this.plugin.config.autostartOnIdle=!1),this.plugin.toggle()}}]),n}(up);UA.id="autorotate";var HA=gf.getConfigParser({autostartDelay:2e3,autostartOnIdle:!0,autorotateSpeed:gf.parseSpeed("2rpm"),autorotatePitch:null,autorotateZoomLvl:null,keypoints:null,startFromClosest:!0},{autostartOnIdle:function(t,e){var n=e.rawConfig;return t&&gf.isNil(n.autostartDelay)?(gf.logWarn("autostartOnIdle requires a non null autostartDelay"),!1):t},autorotateSpeed:function(t){return gf.parseSpeed(t)},autorotatePitch:function(t){return gf.isNil(t)?null:gf.parseAngle(t,!0)},autorotateZoomLvl:function(t){return gf.isNil(t)?null:Jv.clamp(t,0,100)}});function VA(t){return[t.yaw,t.pitch]}var GA=function(t){RA(n,t);var e=IA(n);function n(t,i){var r;return zA(this,n),(r=e.call(this,t,i)).state={initialStart:!0,enabled:!1,idx:-1,curve:[],startStep:null,endStep:null,startTime:null,stepDuration:null,remainingPause:null,lastTime:null,tooltip:null},r.state.initialStart=!gf.isNil(r.config.autostartDelay),r}return LA(n,[{key:"init",value:function(){PA(NA(n.prototype),"init",this).call(this),this.video=this.viewer.getPlugin("video"),this.markers=this.viewer.getPlugin("markers"),this.config.keypoints&&(this.setKeypoints(this.config.keypoints),delete this.config.keypoints),this.viewer.addEventListener(xd.StopAllEvent.type,this),this.viewer.addEventListener(xd.BeforeRenderEvent.type,this),this.video||this.viewer.addEventListener(xd.KeypressEvent.type,this)}},{key:"destroy",value:function(){this.viewer.removeEventListener(xd.StopAllEvent.type,this),this.viewer.removeEventListener(xd.BeforeRenderEvent.type,this),this.viewer.removeEventListener(xd.KeypressEvent.type,this),delete this.video,delete this.markers,delete this.keypoints,PA(NA(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case xd.StopAllEvent.type:this.stop();break;case xd.BeforeRenderEvent.type:this.__beforeRender(t.timestamp);break;case xd.KeypressEvent.type:t.key===tf.KEY_CODES.Space&&(this.toggle(),t.preventDefault())}}},{key:"setKeypoints",value:function(t){var e=this;if(t){if(t.length<2)throw new Xf("At least two points are required");this.keypoints=t.map((function(t,n){var i,r={position:null,markerId:null,pause:0,tooltip:null};if("string"===typeof t?r.markerId=t:gf.isExtendedPosition(t)?i=t:(r.markerId=t.markerId,r.pause=t.pause,i=t.position,t.tooltip&&"object"===CA(t.tooltip)?r.tooltip=t.tooltip:"string"===typeof t.tooltip&&(r.tooltip={content:t.tooltip})),r.markerId){if(!e.markers)throw new Xf("Keypoint #".concat(n," references a marker but the markers plugin is not loaded"));var a=e.markers.getMarker(r.markerId);r.position=VA(a.state.position)}else{if(!i)throw new Xf("Keypoint #".concat(n," is missing marker or position"));r.position=VA(e.viewer.dataHelper.cleanPosition(i))}return r}))}else this.keypoints=null;this.isEnabled()&&(this.stop(),this.start())}},{key:"isEnabled",value:function(){return this.state.enabled}},{key:"start",value:function(){this.isEnabled()||(this.viewer.stopAll(),this.keypoints?this.config.startFromClosest&&this.__shiftKeypoints():this.__animate(),this.state.initialStart=!1,this.state.enabled=!0,this.dispatchEvent(new FA(!0)))}},{key:"stop",value:function(){this.isEnabled()&&(this.__reset(),this.__hideTooltip(),this.viewer.dynamics.position.stop(),this.viewer.dynamics.zoom.stop(),this.state.enabled=!1,this.dispatchEvent(new FA(!1)))}},{key:"toggle",value:function(){this.isEnabled()?this.stop():this.start()}},{key:"reverse",value:function(){this.isEnabled()&&!this.keypoints&&(this.config.autorotateSpeed=-this.config.autorotateSpeed,this.__animate())}},{key:"__animate",value:function(){var t=this;(gf.isNil(this.config.autorotateZoomLvl)?Promise.resolve():this.viewer.animate({zoom:this.config.autorotateZoomLvl,speed:"".concat(2*this.viewer.config.zoomSpeed,"rpm")})).then((function(){var e;t.viewer.dynamics.position.roll({yaw:t.config.autorotateSpeed<0},Math.abs(t.config.autorotateSpeed/t.viewer.config.moveSpeed)),t.viewer.dynamics.position.goto({pitch:null!==(e=t.config.autorotatePitch)&&void 0!==e?e:t.viewer.config.defaultPitch},Math.abs(t.config.autorotateSpeed/t.viewer.config.moveSpeed))}))}},{key:"__reset",value:function(){this.state.idx=-1,this.state.curve=[],this.state.startStep=null,this.state.endStep=null,this.state.startTime=null,this.state.stepDuration=null,this.state.remainingPause=null,this.state.lastTime=null,this.state.tooltip=null}},{key:"__beforeRender",value:function(t){(this.state.initialStart||this.config.autostartOnIdle)&&this.viewer.state.idleTime>0&&t-this.viewer.state.idleTime>this.config.autostartDelay&&this.start(),this.isEnabled()&&this.keypoints&&(this.state.startTime||(this.state.endStep=VA(this.viewer.getPosition()),this.__nextStep(),this.state.startTime=t,this.state.lastTime=t),this.__nextFrame(t))}},{key:"__shiftKeypoints",value:function(){var t,e=VA(this.viewer.getPosition()),n=this.__findMinIndex(this.keypoints,(function(t){return gf.greatArcDistance(t.position,e)}));(t=this.keypoints).push.apply(t,MA(this.keypoints.splice(0,n)))}},{key:"__incrementIdx",value:function(){this.state.idx++,this.state.idx===this.keypoints.length&&(this.state.idx=0)}},{key:"__showTooltip",value:function(){var t=this.keypoints[this.state.idx];if(t.tooltip){var e=this.viewer.dataHelper.vector3ToViewerCoords(this.viewer.state.direction);this.state.tooltip=this.viewer.createTooltip({content:t.tooltip.content,position:t.tooltip.position,top:e.y,left:e.x})}else if(t.markerId){var n=this.markers.getMarker(t.markerId);n.showTooltip(),this.state.tooltip=n.tooltip}}},{key:"__hideTooltip",value:function(){if(this.state.tooltip){var t=this.keypoints[this.state.idx];if(t.tooltip)this.state.tooltip.hide();else if(t.markerId){this.markers.getMarker(t.markerId).hideTooltip()}this.state.tooltip=null}}},{key:"__nextPoint",value:function(){var t=[];if(-1===this.state.idx){var e=VA(this.viewer.getPosition());t.push(e,e,this.keypoints[0].position,this.keypoints[1].position)}else for(var n=-1;n<3;n++){var i=this.state.idx+n<0?this.keypoints[this.keypoints.length-1]:this.keypoints[(this.state.idx+n)%this.keypoints.length];t.push(i.position)}for(var r=[new Zv(t[0][0],t[0][1])],a=0,o=1;o<=3;o++){var s=t[o-1][0]-t[o][0];s>Math.PI?a+=1:s<-Math.PI&&(a-=1),0!==a&&1===o&&(r[0].x-=2*a*Math.PI,a=0),r.push(new Zv(t[o][0]+2*a*Math.PI,t[o][1]))}var l=new ib(r).getPoints(48).map((function(t){return[t.x,t.y]}));this.state.curve=l.slice(17,33),-1!==this.state.idx?(this.state.remainingPause=this.keypoints[this.state.idx].pause,this.state.remainingPause?this.__showTooltip():this.__incrementIdx()):this.__incrementIdx()}},{key:"__nextStep",value:function(){0===this.state.curve.length&&(this.__nextPoint(),this.state.endStep[0]=gf.parseAngle(this.state.endStep[0])),this.state.startStep=this.state.endStep,this.state.endStep=this.state.curve.shift();var t=gf.greatArcDistance(this.state.startStep,this.state.endStep);this.state.stepDuration=1e3*t/Math.abs(this.config.autorotateSpeed),0===t&&this.__nextStep()}},{key:"__nextFrame",value:function(t){var e=t-this.state.lastTime;if(this.state.lastTime=t,this.state.remainingPause){if(this.state.remainingPause=Math.max(0,this.state.remainingPause-e),this.state.remainingPause>0)return;this.__hideTooltip(),this.__incrementIdx(),this.state.startTime=t}var n=(t-this.state.startTime)/this.state.stepDuration;n>=1&&(this.__nextStep(),n=0,this.state.startTime=t),this.viewer.rotate({yaw:this.state.startStep[0]+(this.state.endStep[0]-this.state.startStep[0])*n,pitch:this.state.startStep[1]+(this.state.endStep[1]-this.state.startStep[1])*n})}},{key:"__findMinIndex",value:function(t,e){var n=0,i=Number.MAX_VALUE;return t.forEach((function(t,r){var a=e(t);a<i&&(i=a,n=r)})),n}}]),n}(Mp);function WA(t){return WA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WA(t)}function QA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function XA(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?QA(Object(n),!0).forEach((function(e){YA(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function YA(t,e,n){return(e=t_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JA(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return ZA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZA(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZA(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function qA(){return qA="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o_(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},qA.apply(this,arguments)}function KA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,t_(i.key),i)}}function $A(t,e,n){return e&&KA(t.prototype,e),n&&KA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function t_(t){var e=function(t,e){if("object"!==WA(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==WA(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===WA(e)?e:String(e)}function e_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n_(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i_(t,e)}function i_(t,e){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i_(t,e)}function r_(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=o_(t);if(e){var r=o_(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===WA(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return a_(t)}(this,n)}}function a_(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o_(t){return o_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o_(t)}GA.id="autorotate",GA.configParser=HA,GA.readonlyOptions=["keypoints"],Dp(UA,"start"),Cp.lang[UA.id]="Automatic rotation";var s_=Object.defineProperty;!function(t,e){for(var n in e)s_(t,n,{get:e[n],enumerable:!0})}({},{EnterMarkerEvent:function(){return f_},GotoMarkerDoneEvent:function(){return c_},HideMarkersEvent:function(){return m_},LeaveMarkerEvent:function(){return h_},MarkerVisibilityEvent:function(){return u_},MarkersPluginEvent:function(){return l_},RenderMarkersListEvent:function(){return w_},SelectMarkerEvent:function(){return d_},SelectMarkerListEvent:function(){return p_},SetMarkersEvent:function(){return g_},ShowMarkersEvent:function(){return y_},UnselectMarkerEvent:function(){return v_}});var l_=function(t){n_(n,t);var e=r_(n);function n(){return e_(this,n),e.apply(this,arguments)}return $A(n)}(Ad),u_=function(t){n_(n,t);var e=r_(n);function n(t,i){var r;return e_(this,n),(r=e.call(this,n.type)).marker=t,r.visible=i,r}return $A(n)}(l_);u_.type="marker-visibility";var c_=function(t){n_(n,t);var e=r_(n);function n(t){var i;return e_(this,n),(i=e.call(this,n.type)).marker=t,i}return $A(n)}(l_);c_.type="goto-marker-done";var h_=function(t){n_(n,t);var e=r_(n);function n(t){var i;return e_(this,n),(i=e.call(this,n.type)).marker=t,i}return $A(n)}(l_);h_.type="leave-marker";var f_=function(t){n_(n,t);var e=r_(n);function n(t){var i;return e_(this,n),(i=e.call(this,n.type)).marker=t,i}return $A(n)}(l_);f_.type="enter-marker";var d_=function(t){n_(n,t);var e=r_(n);function n(t,i,r){var a;return e_(this,n),(a=e.call(this,n.type)).marker=t,a.doubleClick=i,a.rightClick=r,a}return $A(n)}(l_);d_.type="select-marker";var p_=function(t){n_(n,t);var e=r_(n);function n(t){var i;return e_(this,n),(i=e.call(this,n.type)).marker=t,i}return $A(n)}(l_);p_.type="select-marker-list";var v_=function(t){n_(n,t);var e=r_(n);function n(t){var i;return e_(this,n),(i=e.call(this,n.type)).marker=t,i}return $A(n)}(l_);v_.type="unselect-marker";var m_=function(t){n_(n,t);var e=r_(n);function n(){return e_(this,n),e.call(this,n.type)}return $A(n)}(l_);m_.type="hide-markers";var g_=function(t){n_(n,t);var e=r_(n);function n(t){var i;return e_(this,n),(i=e.call(this,n.type)).markers=t,i}return $A(n)}(l_);g_.type="set-markers";var y_=function(t){n_(n,t);var e=r_(n);function n(){return e_(this,n),e.call(this,n.type)}return $A(n)}(l_);y_.type="show-markers";var w_=function(t){n_(n,t);var e=r_(n);function n(t){var i;return e_(this,n),(i=e.call(this,n.type)).markers=t,i}return $A(n)}(l_);w_.type="render-markers-list";var b_=function(t){n_(n,t);var e=r_(n);function n(t){var i;return e_(this,n),(i=e.call(this,t,{className:"psv-markers-button",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 9 81 81"><path fill="currentColor" d="M50.5 90S22.9 51.9 22.9 36.6 35.2 9 50.5 9s27.6 12.4 27.6 27.6S50.5 90 50.5 90zm0-66.3c-6.1 0-11 4.9-11 11s4.9 11 11 11 11-4.9 11-11-4.9-11-11-11z"/>\x3c!--Created by Rohith M S from the Noun Project--\x3e</svg>\n',hoverScale:!0,collapsable:!0,tabbable:!0})).plugin=i.viewer.getPlugin("markers"),i.plugin&&(i.plugin.addEventListener(y_.type,a_(i)),i.plugin.addEventListener(m_.type,a_(i)),i.toggleActive(!0)),i}return $A(n,[{key:"destroy",value:function(){this.plugin&&(this.plugin.removeEventListener(y_.type,this),this.plugin.removeEventListener(m_.type,this)),qA(o_(n.prototype),"destroy",this).call(this)}},{key:"isSupported",value:function(){return!!this.plugin}},{key:"handleEvent",value:function(t){t instanceof y_?this.toggleActive(!0):t instanceof m_&&this.toggleActive(!1)}},{key:"onClick",value:function(){this.plugin.toggleAllMarkers()}}]),n}(up);b_.id="markers";var x_='<svg xmlns="http://www.w3.org/2000/svg" viewBox="9 9 81 81"><path fill="currentColor" d="M37.5 90S9.9 51.9 9.9 36.6 22.2 9 37.5 9s27.6 12.4 27.6 27.6S37.5 90 37.5 90zm0-66.3c-6.1 0-11 4.9-11 11s4.9 11 11 11 11-4.9 11-11-4.9-11-11-11zM86.7 55H70c-1.8 0-3.3-1.5-3.3-3.3s1.5-3.3 3.3-3.3h16.7c1.8 0 3.3 1.5 3.3 3.3S88.5 55 86.7 55zm0-25h-15a3.3 3.3 0 0 1-3.3-3.3c0-1.8 1.5-3.3 3.3-3.3h15c1.8 0 3.3 1.5 3.3 3.3 0 1.8-1.5 3.3-3.3 3.3zM56.5 73h30c1.8 0 3.3 1.5 3.3 3.3 0 1.8-1.5 3.3-3.3 3.3h-30a3.3 3.3 0 0 1-3.3-3.3 3.2 3.2 0 0 1 3.3-3.3z"/>\x3c!--Created by Rohith M S from the Noun Project--\x3e</svg>\n',A_="http://www.w3.org/2000/svg",__="psvMarker",k_=gf.dasherize(__),S_="marker",M_="markersList",E_=function(t,e){return'\n<div class="psv-panel-menu psv-panel-menu--stripped">\n <h1 class="psv-panel-menu-title">'.concat(x_," ").concat(e,'</h1>\n <ul class="psv-panel-menu-list">\n   ').concat(t.map((function(t){return"\n   <li data-".concat(k_,'="').concat(t.id,'" class="psv-panel-menu-item" tabindex="0">\n     ').concat("image"===t.type?'<span class="psv-panel-menu-item-icon"><img src="'.concat(t.definition,'"/></span>'):"",'\n     <span class="psv-panel-menu-item-label">').concat(t.getListContent(),"</span>\n   </li>\n   ")})).join(""),"\n </ul>\n</div>\n")},C_=function(t){n_(n,t);var e=r_(n);function n(t){var i;return e_(this,n),(i=e.call(this,t,{className:" psv-markers-list-button",icon:x_,hoverScale:!0,collapsable:!0,tabbable:!0})).plugin=i.viewer.getPlugin("markers"),i.plugin&&(i.viewer.addEventListener(xd.ShowPanelEvent.type,a_(i)),i.viewer.addEventListener(xd.HidePanelEvent.type,a_(i))),i}return $A(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(xd.ShowPanelEvent.type,this),this.viewer.removeEventListener(xd.HidePanelEvent.type,this),qA(o_(n.prototype),"destroy",this).call(this)}},{key:"isSupported",value:function(){return!!this.plugin}},{key:"handleEvent",value:function(t){t instanceof xd.ShowPanelEvent?this.toggleActive(t.panelId===M_):t instanceof xd.HidePanelEvent&&this.toggleActive(!1)}},{key:"onClick",value:function(){this.plugin.toggleMarkersList()}}]),n}(up);function P_(t,e,n){var i=JA(t,2),r=i[0],a=i[1],o=JA(e,2),s=o[0],l=o[1],u=gf.greatArcDistance(t,e),c=Math.sin((1-n)*u)/Math.sin(u),h=Math.sin(n*u)/Math.sin(u),f=c*Math.cos(a)*Math.cos(r)+h*Math.cos(l)*Math.cos(s),d=c*Math.cos(a)*Math.sin(r)+h*Math.cos(l)*Math.sin(s),p=c*Math.sin(a)+h*Math.sin(l);return[Math.atan2(d,f),Math.atan2(p,Math.sqrt(f*f+d*d))]}function T_(t){for(var e=[t[0]],n=0,i=1;i<t.length;i++){var r=t[i-1][0]-t[i][0];r>Math.PI?n+=1:r<-Math.PI&&(n-=1),e.push([t[i][0]+2*n*Math.PI,t[i][1]])}return e}C_.id="markersList";var L_=function(t){return t.image="image",t.imageLayer="imageLayer",t.html="html",t.polygon="polygon",t.polygonPixels="polygonPixels",t.polyline="polyline",t.polylinePixels="polylinePixels",t.square="square",t.rect="rect",t.circle="circle",t.ellipse="ellipse",t.path="path",t}(L_||{}),O_=function(){function t(e,n){if(e_(this,t),this.viewer=e,this.visible=!0,this.state={dynamicSize:!1,anchor:null,visible:!1,staticTooltip:!1,position:null,position2D:null,positions3D:null,size:null},!n.id)throw new Xf("missing marker id");if(this.type=t.getType(n),this.isNormal())this.element=document.createElement("div");else if(this.isPolygon())this.element=document.createElementNS(A_,"polygon");else if(this.isPolyline())this.element=document.createElementNS(A_,"polyline");else if(this.isSvg()){var i="square"===this.type?"rect":this.type;this.element=document.createElementNS(A_,i)}else this.is3d()&&(this.element=this.__createMesh(),this.loader=new Qx,this.viewer.config.withCredentials&&this.loader.setWithCredentials(!0));this.is3d()||(this.element.id="psv-marker-".concat(n.id),this.element[__]=this),this.update(n)}return $A(t,[{key:"id",get:function(){return this.config.id}},{key:"data",get:function(){return this.config.data}},{key:"domElement",get:function(){return this.is3d()?null:this.element}},{key:"threeElement",get:function(){return this.is3d()?this.element:null}},{key:"destroy",value:function(){this.hideTooltip(),this.is3d()?delete this.threeElement.children[0].userData[__]:delete this.element[__]}},{key:"is3d",value:function(){return"imageLayer"===this.type}},{key:"isNormal",value:function(){return"image"===this.type||"html"===this.type}},{key:"isPoly",value:function(){return this.isPolygon()||this.isPolyline()}},{key:"isPolyPixels",value:function(){return"polygonPixels"===this.type||"polylinePixels"===this.type}},{key:"isPolyAngles",value:function(){return"polygon"===this.type||"polyline"===this.type}},{key:"isPolygon",value:function(){return"polygon"===this.type||"polygonPixels"===this.type}},{key:"isPolyline",value:function(){return"polyline"===this.type||"polylinePixels"===this.type}},{key:"isSvg",value:function(){return"square"===this.type||"rect"===this.type||"circle"===this.type||"ellipse"===this.type||"path"===this.type}},{key:"getScale",value:function(t,e){if(!this.config.scale)return 1;if("function"===typeof this.config.scale)return this.config.scale(t,e);var n=1;if(Array.isArray(this.config.scale.zoom)){var i=JA(this.config.scale.zoom,2),r=i[0];n*=r+(i[1]-r)*tf.EASINGS.inQuad(t/100)}if(Array.isArray(this.config.scale.yaw)){var a=JA(this.config.scale.yaw,2),o=a[0],s=a[1],l=Jv.degToRad(this.viewer.state.hFov)/2,u=Math.abs(gf.getShortestArc(this.state.position.yaw,e.yaw));n*=s+(o-s)*tf.EASINGS.outQuad(Math.max(0,(l-u)/l))}return n}},{key:"getListContent",value:function(){var t;return this.config.listContent?this.config.listContent:null!==(t=this.config.tooltip)&&void 0!==t&&t.content?this.config.tooltip.content:this.config.html?this.config.html:this.id}},{key:"showTooltip",value:function(t,e){var n;if(this.state.visible&&null!==(n=this.config.tooltip)&&void 0!==n&&n.content&&this.state.position2D){var i=XA(XA({},this.config.tooltip),{},{data:this,top:0,left:0});if(this.isPoly())if(t||e){var r=gf.getPosition(this.viewer.container);i.top=e-r.y,i.left=t-r.x,i.box={width:20,height:20}}else i.top=this.state.position2D.y,i.left=this.state.position2D.x;else i.top=this.state.position2D.y+this.state.size.height/2,i.left=this.state.position2D.x+this.state.size.width/2,i.box={width:this.state.size.width,height:this.state.size.height};this.tooltip?this.tooltip.move(i):this.tooltip=this.viewer.createTooltip(i)}}},{key:"refreshTooltip",value:function(){this.tooltip&&this.showTooltip()}},{key:"hideTooltip",value:function(){this.tooltip&&(this.tooltip.hide(),this.tooltip=null)}},{key:"update",value:function(e){var n=t.getType(e,!0);if(void 0!==n&&n!==this.type)throw new Xf("cannot change marker type");if(gf.isExtendedPosition(e)&&(gf.logWarn('Use the "position" property to configure the position of a marker'),e.position=this.viewer.dataHelper.cleanPosition(e)),"width"in e&&"height"in e&&(gf.logWarn('Use the "size" property to configure the size of a marker'),e.size={width:e.width,height:e.height}),this.config=gf.deepmerge(this.config,e),"string"===typeof this.config.tooltip&&(this.config.tooltip={content:this.config.tooltip}),this.config.tooltip&&!this.config.tooltip.trigger&&(this.config.tooltip.trigger="hover"),this.config.scale&&Array.isArray(this.config.scale)&&(this.config.scale={zoom:this.config.scale}),this.visible=!1!==this.config.visible,this.state.anchor=gf.parsePoint(this.config.anchor),!this.is3d()){var i,r=this.domElement;this.isNormal()?r.setAttribute("class","psv-marker psv-marker--normal"):r.setAttribute("class","psv-marker psv-marker--svg"),this.config.className&&gf.addClasses(r,this.config.className),this.config.tooltip&&r.classList.add("psv-marker--has-tooltip"),this.config.content&&r.classList.add("psv-marler--has-content"),r.style.opacity="".concat(null!==(i=this.config.opacity)&&void 0!==i?i:1),this.config.style&&Object.assign(r.style,this.config.style)}this.isNormal()?this.__updateNormal():this.isPoly()?this.__updatePoly():this.isSvg()?this.__updateSvg():this.is3d()&&this.__update3d()}},{key:"__updateNormal",value:function(){var t=this.domElement;if(!gf.isExtendedPosition(this.config.position))throw new Xf("missing marker position");if(this.config.image&&!this.config.size)throw new Xf("missing marker size");this.config.size?(this.state.dynamicSize=!1,this.state.size=this.config.size,t.style.width=this.config.size.width+"px",t.style.height=this.config.size.height+"px"):this.state.dynamicSize=!0,this.config.image?(this.definition=this.config.image,t.style.backgroundImage="url(".concat(this.config.image,")")):this.config.html&&(this.definition=this.config.html,t.innerHTML=this.config.html),t.style.transformOrigin="".concat(100*this.state.anchor.x,"% ").concat(100*this.state.anchor.y,"%"),this.state.position=this.viewer.dataHelper.cleanPosition(this.config.position),this.state.positions3D=[this.viewer.dataHelper.sphericalCoordsToVector3(this.state.position)]}},{key:"__updateSvg",value:function(){var t=this.domElement;if(!gf.isExtendedPosition(this.config.position))throw new Xf("missing marker position");switch(this.state.dynamicSize=!0,this.type){case"square":this.definition={x:0,y:0,width:this.config.square,height:this.config.square};break;case"rect":Array.isArray(this.config.rect)?this.definition={x:0,y:0,width:this.config.rect[0],height:this.config.rect[1]}:this.definition={x:0,y:0,width:this.config.rect.width,height:this.config.rect.height};break;case"circle":this.definition={cx:this.config.circle,cy:this.config.circle,r:this.config.circle};break;case"ellipse":Array.isArray(this.config.ellipse)?this.definition={cx:this.config.ellipse[0],cy:this.config.ellipse[1],rx:this.config.ellipse[0],ry:this.config.ellipse[1]}:this.definition={cx:this.config.ellipse.rx,cy:this.config.ellipse.ry,rx:this.config.ellipse.rx,ry:this.config.ellipse.ry};break;case"path":this.definition={d:this.config.path}}Object.entries(this.definition).forEach((function(e){var n=JA(e,2),i=n[0],r=n[1];t.setAttributeNS(null,i,r)})),this.config.svgStyle?Object.entries(this.config.svgStyle).forEach((function(e){var n=JA(e,2),i=n[0],r=n[1];t.setAttributeNS(null,gf.dasherize(i),r)})):t.setAttributeNS(null,"fill","rgba(0,0,0,0.5)"),this.state.position=this.viewer.dataHelper.cleanPosition(this.config.position),this.state.positions3D=[this.viewer.dataHelper.sphericalCoordsToVector3(this.state.position)]}},{key:"__updatePoly",value:function(){var t=this,e=this.domElement;this.state.dynamicSize=!0,this.config.svgStyle?(Object.entries(this.config.svgStyle).forEach((function(t){var n=JA(t,2),i=n[0],r=n[1];e.setAttributeNS(null,gf.dasherize(i),r)})),this.isPolyline()&&!this.config.svgStyle.fill&&e.setAttributeNS(null,"fill","none")):this.isPolygon()?e.setAttributeNS(null,"fill","rgba(0,0,0,0.5)"):this.isPolyline()&&(e.setAttributeNS(null,"fill","none"),e.setAttributeNS(null,"stroke","rgb(0,0,0)"));var n=this.config[this.type];if(!Array.isArray(n[0]))for(var i=0;i<n.length;i++)n.splice(i,2,[n[i],n[i+1]]);this.isPolyPixels()?this.definition=n.map((function(e){var n=t.viewer.dataHelper.textureCoordsToSphericalCoords({textureX:e[0],textureY:e[1]});return[n.yaw,n.pitch]})):this.definition=n.map((function(t){return[gf.parseAngle(t[0]),gf.parseAngle(t[1],!0)]}));var r=this.isPolygon()?function(t){var e=T_(t).reduce((function(t,e){return[t[0]+e[0],t[1]+e[1]]}));return[gf.parseAngle(e[0]/t.length),e[1]/t.length]}(this.definition):function(t){for(var e=T_(t),n=0,i=[],r=0;r<e.length-1;r++){var a=gf.greatArcDistance(e[r],e[r+1])*tf.SPHERE_RADIUS;i.push(a),n+=a}for(var o=0,s=0;s<e.length-1;s++){if(o+i[s]>n/2){var l=(n/2-o)/i[s];return P_(e[s],e[s+1],l)}o+=i[s]}return e[Math.round(e.length/2)]}(this.definition);this.state.position={yaw:r[0],pitch:r[1]},this.state.positions3D=this.definition.map((function(e){return t.viewer.dataHelper.sphericalCoordsToVector3({yaw:e[0],pitch:e[1]})}))}},{key:"__update3d",value:function(){var t,e=this,n=this.threeElement;if(!gf.isExtendedPosition(this.config.position))throw new Xf("missing marker position");if(!this.config.size)throw new Xf("missing marker size");if(this.state.dynamicSize=!1,this.state.size=this.config.size,this.state.position=this.viewer.dataHelper.cleanPosition(this.config.position),this.state.positions3D=[this.viewer.dataHelper.sphericalCoordsToVector3(this.state.position)],"imageLayer"===this.type){switch(this.definition!==this.config.imageLayer&&(this.viewer.config.requestHeaders&&this.loader.setRequestHeader(this.viewer.config.requestHeaders(this.config.imageLayer)),n.children[0].material.map=this.loader.load(this.config.imageLayer,(function(t){t.anisotropy=4,e.viewer.needsUpdate()})),this.definition=this.config.imageLayer),n.children[0].position.set(this.state.anchor.x-.5,this.state.anchor.y-.5,0),n.children[0].material.opacity=null!==(t=this.config.opacity)&&void 0!==t?t:1,n.position.copy(this.state.positions3D[0]),this.config.orientation){case"horizontal":n.lookAt(0,n.position.y,0),n.rotateX(this.state.position.pitch<0?-Math.PI/2:Math.PI/2);break;case"vertical-left":n.lookAt(0,0,0),n.rotateY(.4*-Math.PI);break;case"vertical-right":n.lookAt(0,0,0),n.rotateY(.4*Math.PI);break;default:n.lookAt(0,0,0)}n.scale.set(this.config.size.width/100,this.config.size.height/100,1)}}},{key:"__createMesh",value:function(){var t=new Ig({transparent:!0,opacity:1,depthTest:!1}),e=new Sy(1,1),n=new cy(e,t);n.userData=YA({},__,this);var i=(new Py).add(n);return Object.defineProperty(i,"visible",{enumerable:!0,get:function(){return this.children[0].userData[__].visible},set:function(t){this.children[0].userData[__].visible=t}}),i}}],[{key:"getType",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];if(Object.keys(L_).forEach((function(e){t[e]&&n.push(e)})),0===n.length&&!e)throw new Xf("missing marker content, either ".concat(Object.keys(L_).join(", ")));if(n.length>1)throw new Xf("multiple marker content, either ".concat(Object.keys(L_).join(", ")));return n[0]}}]),t}(),z_=gf.getConfigParser({clickEventOnMarker:!1,gotoMarkerSpeed:"8rpm",markers:null}),R_=function(t){n_(n,t);var e=r_(n);function n(t,i){var r;return e_(this,n),(r=e.call(this,t,i)).markers={},r.state={visible:!0,showAllTooltips:!1,currentMarker:null,hoveringMarker:null},r.container=document.createElement("div"),r.container.className="psv-markers",r.container.style.cursor=r.viewer.config.mousemove?"move":"default",r.svgContainer=document.createElementNS(A_,"svg"),r.svgContainer.setAttribute("class","psv-markers-svg-container"),r.container.appendChild(r.svgContainer),r.container.addEventListener("mouseenter",a_(r),!0),r.container.addEventListener("mouseleave",a_(r),!0),r.container.addEventListener("mousemove",a_(r),!0),r.container.addEventListener("contextmenu",a_(r)),r}return $A(n,[{key:"init",value:function(){qA(o_(n.prototype),"init",this).call(this),this.viewer.container.appendChild(this.container),this.viewer.addEventListener(xd.ClickEvent.type,this),this.viewer.addEventListener(xd.DoubleClickEvent.type,this),this.viewer.addEventListener(xd.RenderEvent.type,this),this.viewer.addEventListener(xd.ConfigChangedEvent.type,this),this.viewer.addEventListener(xd.ObjectEnterEvent.type,this),this.viewer.addEventListener(xd.ObjectHoverEvent.type,this),this.viewer.addEventListener(xd.ObjectLeaveEvent.type,this),this.viewer.addEventListener(xd.ReadyEvent.type,this,{once:!0})}},{key:"destroy",value:function(){this.clearMarkers(!1),this.viewer.unobserveObjects(__),this.viewer.removeEventListener(xd.ClickEvent.type,this),this.viewer.removeEventListener(xd.DoubleClickEvent.type,this),this.viewer.removeEventListener(xd.RenderEvent.type,this),this.viewer.removeEventListener(xd.ConfigChangedEvent.type,this),this.viewer.removeEventListener(xd.ObjectEnterEvent.type,this),this.viewer.removeEventListener(xd.ObjectHoverEvent.type,this),this.viewer.removeEventListener(xd.ObjectLeaveEvent.type,this),this.viewer.removeEventListener(xd.ReadyEvent.type,this),this.viewer.container.removeChild(this.container),qA(o_(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case xd.ReadyEvent.type:this.config.markers&&(this.setMarkers(this.config.markers),delete this.config.markers);break;case xd.RenderEvent.type:this.renderMarkers();break;case xd.ClickEvent.type:this.__onClick(t,!1);break;case xd.DoubleClickEvent.type:this.__onClick(t,!0);break;case xd.ConfigChangedEvent.type:this.container.style.cursor=this.viewer.config.mousemove?"move":"default";break;case xd.ObjectEnterEvent.type:case xd.ObjectLeaveEvent.type:case xd.ObjectHoverEvent.type:if(t.userDataKey===__){var e=t.originalEvent,n=t.object.userData[__];switch(t.type){case xd.ObjectEnterEvent.type:this.__onMouseEnter(e,n);break;case xd.ObjectLeaveEvent.type:this.__onMouseLeave(e,n);break;case xd.ObjectHoverEvent.type:this.__onMouseMove(e,n)}}break;case"mouseenter":this.__onMouseEnter(t,this.__getTargetMarker(t.target));break;case"mouseleave":this.__onMouseLeave(t,this.__getTargetMarker(t.target));break;case"mousemove":this.__onMouseMove(t,this.__getTargetMarker(t.target));break;case"contextmenu":t.preventDefault()}}},{key:"toggleAllMarkers",value:function(){this.state.visible?this.hideAllMarkers():this.showAllMarkers()}},{key:"showAllMarkers",value:function(){this.state.visible=!0,this.renderMarkers(),this.dispatchEvent(new y_)}},{key:"hideAllMarkers",value:function(){this.state.visible=!1,this.renderMarkers(),this.dispatchEvent(new m_)}},{key:"toggleAllTooltips",value:function(){this.state.showAllTooltips?this.hideAllTooltips():this.showAllTooltips()}},{key:"showAllTooltips",value:function(){this.state.showAllTooltips=!0,Object.values(this.markers).forEach((function(t){t.state.staticTooltip=!0,t.showTooltip()}))}},{key:"hideAllTooltips",value:function(){this.state.showAllTooltips=!1,Object.values(this.markers).forEach((function(t){t.state.staticTooltip=!1,t.hideTooltip()}))}},{key:"getNbMarkers",value:function(){return Object.keys(this.markers).length}},{key:"getMarkers",value:function(){return Object.values(this.markers)}},{key:"addMarker",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.markers[t.id])throw new Xf('marker "'.concat(t.id,'" already exists'));var n=new O_(this.viewer,t);if(n.isNormal())this.container.appendChild(n.domElement);else if(n.isPoly()||n.isSvg())this.svgContainer.appendChild(n.domElement);else{if(!n.is3d())throw new Xf("invalid state");this.viewer.renderer.addObject(n.threeElement)}this.markers[n.id]=n,e&&this.__afterChangerMarkers()}},{key:"getMarker",value:function(t){var e="object"===WA(t)?t.id:t;if(!this.markers[e])throw new Xf('cannot find marker "'.concat(e,'"'));return this.markers[e]}},{key:"getCurrentMarker",value:function(){return this.state.currentMarker}},{key:"updateMarker",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.getMarker(t.id).update(t),e&&this.__afterChangerMarkers()}},{key:"removeMarker",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getMarker(t);n.isNormal()?this.container.removeChild(n.domElement):n.isPoly()||n.isSvg()?this.svgContainer.removeChild(n.domElement):n.is3d()&&this.viewer.renderer.removeObject(n.threeElement),this.state.hoveringMarker===n&&(this.state.hoveringMarker=null),this.state.currentMarker===n&&(this.state.currentMarker=null),n.destroy(),delete this.markers[n.id],e&&this.__afterChangerMarkers()}},{key:"removeMarkers",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.forEach((function(t){return e.removeMarker(t,!1)})),n&&this.__afterChangerMarkers()}},{key:"setMarkers",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clearMarkers(!1),null===t||void 0===t||t.forEach((function(t){e.addMarker(t,!1)})),n&&this.__afterChangerMarkers()}},{key:"clearMarkers",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object.keys(this.markers).forEach((function(e){t.removeMarker(e,!1)})),e&&this.__afterChangerMarkers()}},{key:"gotoMarker",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.gotoMarkerSpeed,i=this.getMarker(t);return n?this.viewer.animate(XA(XA({},i.state.position),{},{zoom:i.config.zoomLvl,speed:n})).then((function(){e.dispatchEvent(new c_(i))})):(this.viewer.rotate(i.state.position),gf.isNil(i.config.zoomLvl)||this.viewer.zoom(i.config.zoomLvl),this.dispatchEvent(new c_(i)),Promise.resolve())}},{key:"hideMarker",value:function(t){this.toggleMarker(t,!1)}},{key:"showMarker",value:function(t){this.toggleMarker(t,!0)}},{key:"showMarkerTooltip",value:function(t){var e=this.getMarker(t);e.state.staticTooltip=!0,e.showTooltip()}},{key:"hideMarkerTooltip",value:function(t){var e=this.getMarker(t);e.state.staticTooltip=!1,e.hideTooltip()}},{key:"toggleMarker",value:function(t,e){var n=this.getMarker(t);n.visible=null===e?!n.visible:e,this.viewer.needsUpdate()}},{key:"showMarkerPanel",value:function(t){var e,n=this.getMarker(t);null!==n&&void 0!==n&&null!==(e=n.config)&&void 0!==e&&e.content?this.viewer.panel.show({id:S_,content:n.config.content}):this.hideMarkerPanel()}},{key:"hideMarkerPanel",value:function(){this.viewer.panel.hide(S_)}},{key:"toggleMarkersList",value:function(){this.viewer.panel.isVisible(M_)?this.hideMarkersList():this.showMarkersList()}},{key:"showMarkersList",value:function(){var t=this,e=[];Object.values(this.markers).forEach((function(t){t.visible&&!t.config.hideList&&e.push(t)}));var n=new w_(e);this.dispatchEvent(n),e=n.markers,this.viewer.panel.show({id:M_,content:E_(e,this.viewer.config.lang[b_.id]),noMargin:!0,clickHandler:function(e){var n=gf.getClosest(e,"li"),i=n?n.dataset[__]:void 0;if(i){var r=t.getMarker(i);t.dispatchEvent(new p_(r)),t.gotoMarker(r.id),t.hideMarkersList()}}})}},{key:"hideMarkersList",value:function(){this.viewer.panel.hide(M_)}},{key:"renderMarkers",value:function(){var t=this,e=this.viewer.getZoomLevel(),n=this.viewer.getPosition();Object.values(this.markers).forEach((function(i){var r,a,o=t.state.visible&&i.visible,s=null;if(o&&i.is3d())s=t.__getMarkerPosition(i),o=t.__isMarkerVisible(i,s);else if(o&&i.isPoly()){var l=t.__getPolyPositions(i);if(o=l.length>(i.isPolygon()?2:1)){s=t.__getMarkerPosition(i);var u=l.map((function(t){return t.x-s.x+","+(t.y-s.y)})).join(" ");i.domElement.setAttributeNS(null,"points",u),i.domElement.setAttributeNS(null,"transform","translate(".concat(s.x," ").concat(s.y,")"))}}else if(o&&(i.state.dynamicSize&&t.__updateMarkerSize(i),s=t.__getMarkerPosition(i),o=t.__isMarkerVisible(i,s))){var c=i.getScale(e,n);if(i.isSvg()){var h=s.x+i.state.size.width*i.state.anchor.x*(1-c),f=s.y+i.state.size.height*i.state.anchor.y*(1-c);i.domElement.setAttributeNS(null,"transform","translate(".concat(h,", ").concat(f,") scale(").concat(c,", ").concat(c,")"))}else i.domElement.style.transform="translate3D(".concat(s.x,"px, ").concat(s.y,"px, 0px) scale(").concat(c,", ").concat(c,")")}a=i.state.visible!==o,i.state.visible=o,i.state.position2D=o?s:null,i.is3d()||gf.toggleClass(i.domElement,"psv-marker--visible",o),o?i.state.staticTooltip?i.showTooltip():"click"===(null===(r=i.config.tooltip)||void 0===r?void 0:r.trigger)||i===t.state.hoveringMarker&&!i.isPoly()?i.refreshTooltip():i!==t.state.hoveringMarker&&i.hideTooltip():i.hideTooltip(),a&&t.dispatchEvent(new u_(i,o))}))}},{key:"__isMarkerVisible",value:function(t,e){return t.state.positions3D[0].dot(this.viewer.state.direction)>0&&e.x+t.state.size.width>=0&&e.x-t.state.size.width<=this.viewer.state.size.width&&e.y+t.state.size.height>=0&&e.y-t.state.size.height<=this.viewer.state.size.height}},{key:"__updateMarkerSize",value:function(t){var e,n=t.domElement;n.classList.add("psv-marker--transparent"),t.isSvg()?(e=n.getAttributeNS(null,"transform"),n.removeAttributeNS(null,"transform")):(e=n.style.transform,n.style.transform="");var i=n.getBoundingClientRect();t.state.size={width:i.width,height:i.height},n.classList.remove("psv-marker--transparent"),e&&(t.isSvg()?n.setAttributeNS(null,"transform",e):n.style.transform=e),t.state.dynamicSize=!1}},{key:"__getMarkerPosition",value:function(t){if(t.isPoly())return this.viewer.dataHelper.sphericalCoordsToViewerCoords(t.state.position);var e=this.viewer.dataHelper.vector3ToViewerCoords(t.state.positions3D[0]);return e.x-=t.state.size.width*t.state.anchor.x,e.y-=t.state.size.height*t.state.anchor.y,e}},{key:"__getPolyPositions",value:function(t){var e=this,n=t.state.positions3D.length,i=t.state.positions3D.map((function(t){return{vector:t,visible:t.dot(e.viewer.state.direction)>0}})),r=[];return i.forEach((function(t,e){t.visible||[0===e?i[n-1]:i[e-1],e===n-1?i[0]:i[e+1]].forEach((function(n){n.visible&&r.push({visible:n.vector,invisible:t.vector,index:e})}))})),r.reverse().forEach((function(t){i.splice(t.index,0,{vector:e.__getPolyIntermediaryPoint(t.visible,t.invisible),visible:!0})})),i.filter((function(t){return t.visible})).map((function(t){return e.viewer.dataHelper.vector3ToViewerCoords(t.vector)}))}},{key:"__getPolyIntermediaryPoint",value:function(t,e){var n=this.viewer.state.direction.clone().normalize(),i=(new xm).crossVectors(t,e).normalize(),r=(new xm).crossVectors(i,t).normalize(),a=t.clone().multiplyScalar(-n.dot(r)),o=r.clone().multiplyScalar(n.dot(t)),s=(new xm).addVectors(a,o).normalize(),l=(new xm).crossVectors(s,n);return s.applyAxisAngle(l,.01).multiplyScalar(tf.SPHERE_RADIUS)}},{key:"__getTargetMarker",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?gf.getClosest(t,".psv-marker"):t;return e?e[__]:void 0}},{key:"__targetOnTooltip",value:function(t,e){return!(!t||!e)&&gf.hasParent(t,e.container)}},{key:"__onMouseEnter",value:function(t,e){var n;e&&!e.isPoly()&&(this.state.hoveringMarker=e,this.dispatchEvent(new f_(e)),e.state.staticTooltip||"hover"!==(null===(n=e.config.tooltip)||void 0===n?void 0:n.trigger)||e.showTooltip(t.clientX,t.clientY))}},{key:"__onMouseLeave",value:function(t,e){var n;!e||e.isPoly()&&this.__targetOnTooltip(t.relatedTarget,e.tooltip)||(this.dispatchEvent(new h_(e)),this.state.hoveringMarker=null,e.state.staticTooltip||"hover"!==(null===(n=e.config.tooltip)||void 0===n?void 0:n.trigger)||e.hideTooltip())}},{key:"__onMouseMove",value:function(t,e){var n,i;null!==e&&void 0!==e&&e.isPoly()?i=e:this.state.hoveringMarker&&this.__targetOnTooltip(t.target,this.state.hoveringMarker.tooltip)&&(i=this.state.hoveringMarker),i?(this.state.hoveringMarker||(this.dispatchEvent(new f_(i)),this.state.hoveringMarker=i),i.state.staticTooltip||i.showTooltip(t.clientX,t.clientY)):null!==(n=this.state.hoveringMarker)&&void 0!==n&&n.isPoly()&&(this.dispatchEvent(new h_(this.state.hoveringMarker)),this.state.hoveringMarker.state.staticTooltip||this.state.hoveringMarker.hideTooltip(),this.state.hoveringMarker=null)}},{key:"__onClick",value:function(t,e){var n,i,r,a=null===(n=t.data.objects.find((function(t){return t.userData[__]})))||void 0===n?void 0:n.userData[__];(a||(a=this.__getTargetMarker(t.data.target,!0)),this.state.currentMarker&&this.state.currentMarker!==a)&&(this.dispatchEvent(new v_(this.state.currentMarker)),this.viewer.panel.hide(S_),this.state.showAllTooltips||"click"!==(null===(i=this.state.currentMarker.config.tooltip)||void 0===i?void 0:i.trigger)||this.hideMarkerTooltip(this.state.currentMarker.id),this.state.currentMarker=null);a&&(this.state.currentMarker=a,this.dispatchEvent(new d_(a,e,t.data.rightclick)),this.config.clickEventOnMarker?t.data.marker=a:t.stopImmediatePropagation(),this.markers[a.id]&&("click"===(null===(r=a.config.tooltip)||void 0===r?void 0:r.trigger)?a.tooltip?this.hideMarkerTooltip(a):this.showMarkerTooltip(a):this.showMarkerPanel(a.id)))}},{key:"__afterChangerMarkers",value:function(){this.__refreshUi(),this.__checkObjectsObserver(),this.viewer.needsUpdate(),this.dispatchEvent(new g_(this.getMarkers()))}},{key:"__refreshUi",value:function(){var t,e,n=Object.values(this.markers).filter((function(t){return!t.config.hideList})).length;0===n?(this.viewer.panel.isVisible(M_)||this.viewer.panel.isVisible(S_))&&this.viewer.panel.hide():this.viewer.panel.isVisible(M_)?this.showMarkersList():this.viewer.panel.isVisible(S_)&&(this.state.currentMarker?this.showMarkerPanel(this.state.currentMarker.id):this.viewer.panel.hide()),null===(t=this.viewer.navbar.getButton(b_.id,!1))||void 0===t||t.toggle(n>0),null===(e=this.viewer.navbar.getButton(C_.id,!1))||void 0===e||e.toggle(n>0)}},{key:"__checkObjectsObserver",value:function(){Object.values(this.markers).some((function(t){return t.is3d()}))?this.viewer.observeObjects(__):this.viewer.unobserveObjects(__)}}]),n}(Mp);function D_(t){return D_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D_(t)}function I_(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return B_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B_(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function N_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j_(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,U_(i.key),i)}}function F_(t,e,n){return e&&j_(t.prototype,e),n&&j_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function U_(t){var e=function(t,e){if("object"!==D_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==D_(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===D_(e)?e:String(e)}function H_(){return H_="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=X_(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},H_.apply(this,arguments)}function V_(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G_(t,e)}function G_(t,e){return G_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},G_(t,e)}function W_(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=X_(t);if(e){var r=X_(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===D_(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Q_(t)}(this,n)}}function Q_(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X_(t){return X_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},X_(t)}R_.id="markers",R_.configParser=z_,R_.readonlyOptions=["markers"],Cp.lang[b_.id]="Markers",Cp.lang[C_.id]="Markers list",Dp(b_,"caption:left"),Dp(C_,"caption:left");var Y_=function(t){V_(n,t);var e=W_(n);function n(t,i){var r;return N_(this,n),(r=e.call(this,t,{})).plugin=i,r.state={visible:!0,mouse:null,mousedown:!1,markers:[]},r.background=document.createElement("div"),r.canvas=document.createElement("canvas"),r.container.appendChild(r.background),r.container.appendChild(r.canvas),r.config.navigation&&(r.container.addEventListener("mouseenter",Q_(r)),r.container.addEventListener("mouseleave",Q_(r)),r.container.addEventListener("mousemove",Q_(r)),r.container.addEventListener("mousedown",Q_(r)),r.container.addEventListener("mouseup",Q_(r)),r.container.addEventListener("touchstart",Q_(r)),r.container.addEventListener("touchmove",Q_(r)),r.container.addEventListener("touchend",Q_(r))),r.applyConfig(),r.hide(),r}return F_(n,[{key:"config",get:function(){return this.plugin.config}},{key:"handleEvent",value:function(t){var e,n;switch(t.type){case"mouseenter":case"mousemove":case"touchmove":this.state.mouse=(null===(e=t.changedTouches)||void 0===e?void 0:e[0])||t,this.state.mousedown?this.click():this.update(),t.stopPropagation(),t.preventDefault();break;case"mousedown":case"touchstart":this.state.mousedown=!0,t.stopPropagation(),t.preventDefault();break;case"mouseup":case"touchend":this.state.mouse=(null===(n=t.changedTouches)||void 0===n?void 0:n[0])||t,this.state.mousedown=!1,this.click(),t.changedTouches&&(this.state.mouse=null,this.update()),t.stopPropagation(),t.preventDefault();break;case"mouseleave":this.state.mouse=null,this.state.mousedown=!1,this.update()}}},{key:"applyConfig",value:function(){this.container.className="psv-compass psv-compass--".concat(this.config.position.join("-")),this.background.innerHTML=this.config.backgroundSvg,this.container.style.width=this.config.size,this.container.style.height=this.config.size,this.container.style.marginTop="center"===this.config.position[0]?"calc(-".concat(this.config.size," / 2)"):"",this.container.style.marginLeft="center"===this.config.position[1]?"calc(-".concat(this.config.size," / 2)"):""}},{key:"show",value:function(){H_(X_(n.prototype),"show",this).call(this),this.update()}},{key:"setMarkers",value:function(t){this.state.markers=t,this.update()}},{key:"update",value:function(){var t,e=this;if(this.isVisible()){this.canvas.width=this.container.clientWidth*rp.pixelRatio,this.canvas.height=this.container.clientWidth*rp.pixelRatio;var n=this.canvas.getContext("2d");n.clearRect(0,0,this.canvas.width,this.canvas.height);var i=this.viewer.getPosition().yaw,r=Jv.degToRad(this.viewer.state.hFov);this.__drawCone(n,this.config.coneColor,i,r);var a=this.__getMouseAngle();null!==a&&this.__drawCone(n,this.config.navigationColor,a,r),this.state.markers.forEach((function(t){e.__drawMarker(n,t)})),null===(t=this.config.hotspots)||void 0===t||t.forEach((function(t){"yaw"in t&&!("pitch"in t)&&(t.pitch=0);var i=e.viewer.dataHelper.cleanPosition(t);e.__drawPoint(n,t.color||e.config.hotspotColor,i.yaw,i.pitch)}))}}},{key:"click",value:function(){var t=this.__getMouseAngle();null!==t&&this.viewer.rotate({yaw:t,pitch:0})}},{key:"__drawCone",value:function(t,e,n,i){var r=n-Math.PI/2-i/2,a=r+i,o=this.canvas.width/2;t.beginPath(),t.moveTo(o,o),t.lineTo(o+Math.cos(r)*o,o+Math.sin(r)*o),t.arc(o,o,o,r,a,!1),t.lineTo(o,o),t.fillStyle=e,t.fill()}},{key:"__drawMarker",value:function(t,e){var n=this,i=this.config.hotspotColor;if("string"===typeof e.data.compass&&(i=e.data.compass),e.isPoly())t.beginPath(),e.definition.forEach((function(e,i){var r=I_(e,2),a=r[0],o=r[1],s=a-Math.PI/2,l=(o+Math.PI/2)/Math.PI,u=n.canvas.width/2;t[0===i?"moveTo":"lineTo"](u+Math.cos(s)*u*l,u+Math.sin(s)*u*l)})),e.isPolygon()?(t.fillStyle=i,t.fill()):(t.strokeStyle=i,t.lineWidth=Math.max(1,.025*this.canvas.width/2),t.stroke());else{var r=e.state.position;this.__drawPoint(t,i,r.yaw,r.pitch)}}},{key:"__drawPoint",value:function(t,e,n,i){var r=n-Math.PI/2,a=(i+Math.PI/2)/Math.PI,o=this.canvas.width/2,s=Math.max(2,.025*this.canvas.width);t.beginPath(),t.ellipse(o+Math.cos(r)*o*a,o+Math.sin(r)*o*a,s,s,0,0,2*Math.PI),t.fillStyle=e,t.fill()}},{key:"__getMouseAngle",value:function(){if(!this.state.mouse)return null;var t=this.container.getBoundingClientRect(),e=this.state.mouse.clientX-t.left-t.width/2,n=this.state.mouse.clientY-t.top-t.width/2;return Math.sqrt(e*e+n*n)>t.width/2?null:Math.atan2(n,e)+Math.PI/2}}]),n}(sp),J_=gf.getConfigParser({size:"120px",position:["top","left"],backgroundSvg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="50" fill="rgba(61, 61, 61, .5)"/><path fill="rgba(255, 255, 255, .7)" d="M50 97.1A47 47 0 0 1 32.5 6.5l.8 1.8a45 45 0 1 0 33.4 0l.8-1.8A47 47 0 0 1 50 97Zm0-42a5 5 0 1 1 5-5 5 5 0 0 1-5 5Zm4-41.7h-1.6a.4.4 0 0 1-.4-.2l-4.6-7.7V13a.3.3 0 0 1-.3.3h-1.6a.3.3 0 0 1-.3-.3V1.8a.3.3 0 0 1 .3-.3h1.6a.3.3 0 0 1 .4.2L52 9.4V1.8a.3.3 0 0 1 .3-.3H54c.2 0 .3 0 .3.3V13c0 .2-.1.3-.3.3Z"/></svg>\n',coneColor:"rgba(255, 255, 255, 0.5)",navigation:!0,navigationColor:"rgba(255, 0, 0, 0.2)",hotspots:[],hotspotColor:"rgba(0, 0, 0, 0.5)"},{position:function(t,e){var n=e.defValue;return gf.cleanCssPosition(t,{allowCenter:!0,cssOrder:!0})||n}}),Z_=function(t){V_(n,t);var e=W_(n);function n(t,i){var r;return N_(this,n),(r=e.call(this,t,i)).component=new Y_(r.viewer,Q_(r)),r}return F_(n,[{key:"init",value:function(){H_(X_(n.prototype),"init",this).call(this),this.markers=this.viewer.getPlugin("markers"),this.viewer.addEventListener(xd.RenderEvent.type,this),this.viewer.addEventListener(xd.ReadyEvent.type,this,{once:!0}),this.markers&&this.markers.addEventListener("set-markers",this)}},{key:"destroy",value:function(){this.viewer.removeEventListener(xd.RenderEvent.type,this),this.viewer.removeEventListener(xd.ReadyEvent.type,this),this.markers&&this.markers.removeEventListener("set-markers",this),this.component.destroy(),delete this.markers,H_(X_(n.prototype),"destroy",this).call(this)}},{key:"setOptions",value:function(t){H_(X_(n.prototype),"setOptions",this).call(this,t),this.component.applyConfig(),this.component.update()}},{key:"handleEvent",value:function(t){switch(t.type){case xd.ReadyEvent.type:this.component.show();break;case xd.RenderEvent.type:this.component.update();break;case"set-markers":this.component.setMarkers(t.markers.filter((function(t){var e;return null===(e=t.data)||void 0===e?void 0:e.compass})))}}},{key:"hide",value:function(){this.component.hide()}},{key:"show",value:function(){this.component.show()}},{key:"setHotspots",value:function(t){this.config.hotspots=t,this.component.update()}},{key:"clearHotspots",value:function(){this.setHotspots(null)}}]),n}(Mp);function q_(t){return q_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q_(t)}function K_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function $_(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K_(Object(n),!0).forEach((function(e){tk(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tk(t,e,n){return(e=rk(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ek(){return ek="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ck(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},ek.apply(this,arguments)}function nk(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,rk(i.key),i)}}function ik(t,e,n){return e&&nk(t.prototype,e),n&&nk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rk(t){var e=function(t,e){if("object"!==q_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==q_(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===q_(e)?e:String(e)}function ak(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ok(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sk(t,e)}function sk(t,e){return sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sk(t,e)}function lk(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=ck(t);if(e){var r=ck(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===q_(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return uk(t)}(this,n)}}function uk(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ck(t){return ck=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ck(t)}Z_.id="compass",Z_.configParser=J_,Z_.readonlyOptions=["navigation"];var hk=Object.defineProperty;!function(t,e){for(var n in e)hk(t,n,{get:e[n],enumerable:!0})}({},{HideGalleryEvent:function(){return dk},ShowGalleryEvent:function(){return fk}});var fk=function(t){ok(n,t);var e=lk(n);function n(){return ak(this,n),e.call(this,n.type)}return ik(n)}(Ad);fk.type="show-gallery";var dk=function(t){ok(n,t);var e=lk(n);function n(){return ak(this,n),e.call(this,fk.type)}return ik(n)}(Ad);dk.type="hide-gallery";var pk=function(t){ok(n,t);var e=lk(n);function n(t){var i;return ak(this,n),(i=e.call(this,t,{className:"psv-gallery-button",hoverScale:!0,collapsable:!0,tabbable:!0,icon:'<svg viewBox="185 115 330 330" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M186.7 326.7V163.3c0-15 8.3-23.3 23.3-23.3h210c15 0 23.3 8.3 23.3 23.3v163.4c0 15-8.3 23.3-23.3 23.3H210c-15 0-23.3-8.3-23.3-23.3zm70 70v-23.4H420c30.2 0 46.7-16.4 46.7-46.6V210H490c15 0 23.3 8.3 23.3 23.3v163.4c0 15-8.3 23.3-23.3 23.3H280c-15 0-23.3-8.3-23.3-23.3zm-23.8-105H397l-40-50.4-26.7 29.7-44.3-54.5zm106.7-76c9.6 0 17.8-7.8 17.8-17.2a18 18 0 0 0-17.8-17.8c-9.4 0-17.2 8.2-17.2 17.8 0 9.4 7.8 17.2 17.2 17.2z"/>\x3c!--Created by Wolf B\xf6se from the Noun Project--\x3e</svg>'})).plugin=i.viewer.getPlugin("gallery"),i.plugin&&(i.plugin.addEventListener(fk.type,uk(i)),i.plugin.addEventListener(dk.type,uk(i))),i}return ik(n,[{key:"destroy",value:function(){this.plugin&&(this.plugin.removeEventListener(fk.type,this),this.plugin.removeEventListener(dk.type,this)),ek(ck(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){t instanceof fk?this.toggleActive(!0):t instanceof dk&&this.toggleActive(!1)}},{key:"isSupported",value:function(){return!!this.plugin}},{key:"onClick",value:function(){this.plugin.toggle()}}]),n}(up);pk.id="gallery";var vk="psvGalleryItem",mk=gf.dasherize(vk),gk="psv-gallery-item--active",yk=function(t){ok(n,t);var e=lk(n);function n(t,i){var r;ak(this,n),(r=e.call(this,i,{className:"psv-gallery psv--capture-event"})).plugin=t,r.state={visible:!0,mousedown:!1,initMouseX:null,mouseX:null},r.container.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">\n  <defs>\n    <symbol id="psvGalleryBlankIcon" viewBox="0 0 200 200">\n      <rect x="0" y="0" width="200" height="200" fill="#666"/>\n      <g transform="scale(0.25) translate(25 20) " fill="#eee">\n        <path d="M376 220.61c-85.84 0-155.39 69.56-155.39 155.39 0 85.84 69.56 155.39 155.39 155.39 85.84 0 155.39-69.56 155.39-155.39 0-85.84-69.56-155.39-155.39-155.39zm0 300.92c-80.41 0-145.53-65.12-145.53-145.53S295.59 230.47 376 230.47 521.53 295.59 521.53 376 456.41 521.53 376 521.53z"/>\n        <path d="M467.27 300.03H284.74a18.21 18.21 0 0 0-18.25 18.25v115.43a18.21 18.21 0 0 0 18.25 18.26h182.53a18.21 18.21 0 0 0 18.25-18.26V318.28a18.2 18.2 0 0 0-18.25-18.25zm-190.91 18.25a8.64 8.64 0 0 1 8.39-8.38h182.53a8.64 8.64 0 0 1 8.38 8.38V413l-44.89-35.52c-.49-.5-.99-.5-1.48-.99h-2.46c-.5 0-1 0-1.48.5l-37.5 21.2-43.9-58.7-.5-.5s0-.48-.49-.48c0 0-.49 0-.49-.5-.49 0-.49-.49-.99-.49-.49 0-.49 0-.98-.49H337.53c-.5 0-.5.5-.99.5h-.49l-.5.48s-.48 0-.48.5l-58.7 65.12zM467.27 442.1H284.74a8.64 8.64 0 0 1-8.39-8.38v-15.3l63.15-68.07 42.92 57.22 1.48 1.48h.49c.5.5 1.48.5 1.97.5H388.83l38.47-21.72 46.37 36.5c.5.5 1.49 1 1.98 1v8.88c0 3.95-3.45 7.9-8.38 7.9z"/>\n        <path d="M429.77 333.58a13.81 13.81 0 1 1-27.63 0 13.81 13.81 0 0 1 27.63 0"/>\n      </g>\n    </symbol>\n  </defs>\n</svg>',r.container.querySelector("svg").style.display="none";var a=document.createElement("div");return a.className="psv-panel-close-button",a.innerHTML=tf.ICONS.close,r.container.appendChild(a),r.items=document.createElement("div"),r.items.className="psv-gallery-container",r.container.appendChild(r.items),r.observer=new IntersectionObserver((function(t){t.forEach((function(t){if(t.intersectionRatio>0){var e=t.target;e.style.backgroundImage="url(".concat(e.dataset.src,")"),delete e.dataset.src,r.observer.unobserve(t.target)}}))}),{root:r.viewer.container}),r.container.addEventListener("wheel",uk(r)),r.container.addEventListener("mousedown",uk(r)),r.container.addEventListener("mousemove",uk(r)),r.container.addEventListener("click",uk(r)),window.addEventListener("mouseup",uk(r)),a.addEventListener("click",(function(){return r.plugin.hide()})),r.hide(),r}return ik(n,[{key:"destroy",value:function(){window.removeEventListener("mouseup",this),this.observer.disconnect(),ek(ck(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case"wheel":this.container.scrollLeft+=50*t.deltaY,t.preventDefault();break;case"mousedown":this.state.mousedown=!0,this.state.initMouseX=t.clientX,this.state.mouseX=t.clientX;break;case"mousemove":if(this.state.mousedown){var e=this.state.mouseX-t.clientX;this.container.scrollLeft+=e,this.state.mouseX=t.clientX}break;case"mouseup":this.state.mousedown=!1,this.state.mouseX=null,t.preventDefault();break;case"click":if(Math.abs(this.state.initMouseX-t.clientX)<10){var n=gf.getClosest(t.target,"[data-".concat(mk,"]"));n&&this.plugin.__click(n.dataset[vk])}}}},{key:"show",value:function(){this.container.classList.add("psv-gallery--open"),this.state.visible=!0}},{key:"hide",value:function(){this.container.classList.remove("psv-gallery--open"),this.state.visible=!1}},{key:"setItems",value:function(t){var e=this;this.items.innerHTML=function(t,e){return"\n".concat(t.map((function(t){return'\n<div class="psv-gallery-item" data-'.concat(mk,'="').concat(t.id,'" style="width:').concat(e.width,'px">\n  <div class="psv-gallery-item-wrapper" style="padding-bottom:calc(100% * ').concat(e.height," / ").concat(e.width,')">\n    ').concat(t.name?'<div class="psv-gallery-item-title"><span>'.concat(t.name,"</span></div>"):"",'\n    <svg class="psv-gallery-item-thumb" viewBox="0 0 200 200" preserveAspectRatio="xMidYMid slice"><use href="#psvGalleryBlankIcon"></use></svg>\n    ').concat(t.thumbnail?'<div class="psv-gallery-item-thumb" data-src="'.concat(t.thumbnail,'"></div>'):"","\n  </div>\n</div>\n")})).join(""),"\n")}(t,this.plugin.config.thumbnailSize),this.observer&&(this.observer.disconnect(),this.items.querySelectorAll("[data-src]").forEach((function(t){e.observer.observe(t)})))}},{key:"setActive",value:function(t){var e=this.items.querySelector("."+gk);if(null===e||void 0===e||e.classList.remove(gk),t){var n=this.items.querySelector("[data-".concat(mk,'="').concat(t,'"]'));null===n||void 0===n||n.classList.add(gk)}}}]),n}(sp),wk=gf.getConfigParser({items:[],visibleOnLoad:!1,hideOnClick:!0,thumbnailSize:{width:200,height:100}}),bk=function(t){ok(n,t);var e=lk(n);function n(t,i){var r;return ak(this,n),(r=e.call(this,t,i)).items=[],r.gallery=new yk(uk(r),r.viewer),r}return ik(n,[{key:"init",value:function(){var t=this;ek(ck(n.prototype),"init",this).call(this),this.viewer.addEventListener(xd.PanoramaLoadedEvent.type,this),this.viewer.addEventListener(xd.ShowPanelEvent.type,this),this.config.visibleOnLoad&&this.viewer.addEventListener(xd.ReadyEvent.type,(function(){t.show()}),{once:!0}),this.setItems(this.config.items),delete this.config.items,setTimeout((function(){return t.__updateButton()}))}},{key:"destroy",value:function(){this.viewer.removeEventListener(xd.PanoramaLoadedEvent.type,this),this.viewer.removeEventListener(xd.ShowPanelEvent.type,this),this.gallery.destroy(),ek(ck(n.prototype),"destroy",this).call(this)}},{key:"setOptions",value:function(t){ek(ck(n.prototype),"setOptions",this).call(this,t),t.thumbnailSize&&this.gallery.setItems(this.items)}},{key:"handleEvent",value:function(t){if(t instanceof xd.PanoramaLoadedEvent){var e=this.items.find((function(e){return gf.deepEqual(e.panorama,t.data.panorama)}));this.currentId=null===e||void 0===e?void 0:e.id,this.gallery.setActive(null===e||void 0===e?void 0:e.id)}else t instanceof xd.ShowPanelEvent&&this.gallery.isVisible()&&this.hide()}},{key:"show",value:function(){return this.dispatchEvent(new fk),this.gallery.show()}},{key:"hide",value:function(){return this.dispatchEvent(new dk),this.gallery.hide()}},{key:"toggle",value:function(){this.gallery.isVisible()?this.hide():this.show()}},{key:"setItems",value:function(t,e){t?t.forEach((function(t,e){if(!t.id)throw new Xf("Item ".concat(e,' has no "id".'));if(!t.panorama)throw new Xf("Item ".concat(t.id,' has no "panorama".'))})):t=[],this.handler=e,this.items=t.map((function(t){return $_($_({},t),{},{id:"".concat(t.id)})})),this.gallery.setItems(this.items),this.__updateButton()}},{key:"__click",value:function(t){if(t!==this.currentId){if(this.handler)this.handler(t);else{var e=this.items.find((function(e){return e.id===t}));this.viewer.setPanorama(e.panorama,$_({caption:e.name},e.options))}this.currentId=t,this.gallery.setActive(t),this.config.hideOnClick&&this.hide()}}},{key:"__updateButton",value:function(){var t;null===(t=this.viewer.navbar.getButton(pk.id,!1))||void 0===t||t.toggle(this.items.length>0)}}]),n}(Mp);function xk(t){return xk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xk(t)}function Ak(){return Ak="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Lk(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},Ak.apply(this,arguments)}function _k(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Sk(i.key),i)}}function kk(t,e,n){return e&&_k(t.prototype,e),n&&_k(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sk(t){var e=function(t,e){if("object"!==xk(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==xk(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===xk(e)?e:String(e)}function Mk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ek(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ck(t,e)}function Ck(t,e){return Ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ck(t,e)}function Pk(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Lk(t);if(e){var r=Lk(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===xk(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Tk(t)}(this,n)}}function Tk(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lk(t){return Lk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lk(t)}bk.id="gallery",bk.configParser=wk,bk.readonlyOptions=["visibleOnLoad","items"],Cp.lang[pk.id]="Gallery",Dp(pk,"caption:left");var Ok=Object.defineProperty;!function(t,e){for(var n in e)Ok(t,n,{get:e[n],enumerable:!0})}({},{GyroscopeUpdatedEvent:function(){return zk}});var zk=function(t){Ek(n,t);var e=Pk(n);function n(t){var i;return Mk(this,n),(i=e.call(this,n.type)).gyroscopeEnabled=t,i}return kk(n)}(Ad);zk.type="gyroscope-updated";var Rk=function(t){Ek(n,t);var e=Pk(n);function n(t){var i;return Mk(this,n),(i=e.call(this,t,{className:"psv-gyroscope-button",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M50 0a50 50 0 1 0 0 100A50 50 0 0 0 50 0zm0 88.81a38.86 38.86 0 0 1-38.81-38.8 38.86 38.86 0 0 1 38.8-38.82A38.86 38.86 0 0 1 88.82 50 38.87 38.87 0 0 1 50 88.81z"/><path fill="currentColor" d="M72.07 25.9L40.25 41.06 27.92 74.12l31.82-15.18v-.01l12.32-33.03zM57.84 54.4L44.9 42.58l21.1-10.06-8.17 21.9z"/>\x3c!--Created by iconoci from the Noun Project--\x3e</svg>',hoverScale:!0,collapsable:!0,tabbable:!0})).plugin=i.viewer.getPlugin("gyroscope"),i.plugin&&i.plugin.addEventListener(zk.type,Tk(i)),i}return kk(n,[{key:"destroy",value:function(){this.plugin&&this.plugin.removeEventListener(zk.type,this),Ak(Lk(n.prototype),"destroy",this).call(this)}},{key:"isSupported",value:function(){return!!this.plugin&&{initial:!1,promise:this.plugin.isSupported()}}},{key:"handleEvent",value:function(t){t instanceof zk&&this.toggleActive(t.gyroscopeEnabled)}},{key:"onClick",value:function(){this.plugin.toggle()}}]),n}(up);Rk.id="gyroscope";var Dk=new xm(0,0,1),Ik=new sg,Bk=new bm,Nk=new bm(-Math.sqrt(.5),0,0,Math.sqrt(.5)),jk=kk((function t(e){Mk(this,t),!1===window.isSecureContext&&console.error("THREE.DeviceOrientationControls: DeviceOrientationEvent is only available in secure contexts (https)");var n=this,i=new bm;this.object=e,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var r=function(t){n.deviceOrientation=t},a=function(){n.screenOrientation=window.orientation||0};this.connect=function(){a(),void 0!==window.DeviceOrientationEvent&&"function"===typeof window.DeviceOrientationEvent.requestPermission?window.DeviceOrientationEvent.requestPermission().then((function(t){"granted"==t&&(window.addEventListener("orientationchange",a),window.addEventListener("deviceorientation",r))})).catch((function(t){console.error("THREE.DeviceOrientationControls: Unable to use DeviceOrientation API:",t)})):(window.addEventListener("orientationchange",a),window.addEventListener("deviceorientation",r)),n.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",a),window.removeEventListener("deviceorientation",r),n.enabled=!1},this.update=function(){if(!1!==n.enabled){var t=n.deviceOrientation;if(t){var e=t.alpha?Jv.degToRad(t.alpha)+n.alphaOffset:0,r=t.beta?Jv.degToRad(t.beta):0,a=t.gamma?Jv.degToRad(t.gamma):0,o=n.screenOrientation?Jv.degToRad(n.screenOrientation):0;!function(t,e,n,i,r){Ik.set(n,e,-i,"YXZ"),t.setFromEuler(Ik),t.multiply(Nk),t.multiply(Bk.setFromAxisAngle(Dk,-r))}(n.object.quaternion,e,r,a,o),8*(1-i.dot(n.object.quaternion))>1e-6&&i.copy(n.object.quaternion)}}},this.dispose=function(){n.disconnect()},this.connect()})),Fk=gf.getConfigParser({touchmove:!0,absolutePosition:!1,moveMode:"smooth"},{moveMode:function(t,e){var n=e.defValue;return"smooth"!==t&&"fast"!==t?(gf.logWarn("GyroscopePlugin: invalid moveMode"),n):t}}),Uk=new xm,Hk=function(t){Ek(n,t);var e=Pk(n);function n(t,i){var r;return Mk(this,n),(r=e.call(this,t,i)).state={isSupported:r.__checkSupport(),alphaOffset:0,enabled:!1,config_moveInertia:!0,moveMode:r.config.moveMode},r}return kk(n,[{key:"init",value:function(){Ak(Lk(n.prototype),"init",this).call(this),this.viewer.addEventListener(xd.StopAllEvent.type,this),this.viewer.addEventListener(xd.BeforeRotateEvent.type,this),this.viewer.addEventListener(xd.BeforeRenderEvent.type,this)}},{key:"destroy",value:function(){this.viewer.removeEventListener(xd.StopAllEvent.type,this),this.viewer.removeEventListener(xd.BeforeRotateEvent.type,this),this.viewer.removeEventListener(xd.BeforeRenderEvent.type,this),this.stop(),delete this.controls,Ak(Lk(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){t instanceof xd.StopAllEvent?this.stop():t instanceof xd.BeforeRenderEvent?this.__onBeforeRender():t instanceof xd.BeforeRotateEvent&&this.__onBeforeRotate(t)}},{key:"isSupported",value:function(){return this.state.isSupported}},{key:"isEnabled",value:function(){return this.state.enabled}},{key:"start",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.moveMode;return this.state.isSupported.then((function(e){return e?t.__requestPermission():(gf.logWarn("gyroscope not available"),Promise.reject())})).then((function(t){return t?Promise.resolve():(gf.logWarn("gyroscope not allowed"),Promise.reject())})).then((function(){t.viewer.stopAll(),t.state.moveMode=e,t.state.config_moveInertia=t.viewer.config.moveInertia,t.viewer.config.moveInertia=!1,t.controls?t.controls.connect():t.controls=new jk(new Ag),t.controls.deviceOrientation=null,t.controls.screenOrientation=0,t.controls.alphaOffset=0,t.state.alphaOffset=t.config.absolutePosition?0:null,t.state.enabled=!0,t.dispatchEvent(new zk(!0))}))}},{key:"stop",value:function(){this.isEnabled()&&(this.controls.disconnect(),this.state.enabled=!1,this.viewer.config.moveInertia=this.state.config_moveInertia,this.dispatchEvent(new zk(!1)),this.viewer.resetIdleTimer())}},{key:"toggle",value:function(){this.isEnabled()?this.stop():this.start()}},{key:"__onBeforeRender",value:function(){if(this.isEnabled()&&this.controls.deviceOrientation){var t=this.viewer.getPosition();if(null===this.state.alphaOffset){this.controls.update(),this.controls.object.getWorldDirection(Uk);var e=this.viewer.dataHelper.vector3ToSphericalCoords(Uk);this.state.alphaOffset=e.yaw-t.yaw}else{this.controls.alphaOffset=this.state.alphaOffset,this.controls.update(),this.controls.object.getWorldDirection(Uk);var n=this.viewer.dataHelper.vector3ToSphericalCoords(Uk),i={yaw:n.yaw,pitch:-n.pitch},r="smooth"===this.state.moveMode?3:10;this.viewer.dynamics.position.goto(i,gf.getAngle(t,i)<.01?1:r)}}}},{key:"__onBeforeRotate",value:function(t){this.isEnabled()&&(t.preventDefault(),this.config.touchmove&&(this.state.alphaOffset-=t.position.yaw-this.viewer.getPosition().pitch))}},{key:"__checkSupport",value:function(){return"DeviceOrientationEvent"in window&&"function"===typeof DeviceOrientationEvent.requestPermission?Promise.resolve(!0):"DeviceOrientationEvent"in window?new Promise((function(t){var e=function e(n){t(!!n&&!gf.isNil(n.alpha)&&!isNaN(n.alpha)),window.removeEventListener("deviceorientation",e)};window.addEventListener("deviceorientation",e,!1),setTimeout(e,1e4)})):Promise.resolve(!1)}},{key:"__requestPermission",value:function(){return"function"===typeof DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(t){return"granted"===t})).catch((function(){return!1})):Promise.resolve(!0)}}]),n}(Mp);function Vk(t){return Vk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vk(t)}function Gk(){return Gk="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Kk(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},Gk.apply(this,arguments)}function Wk(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Xk(i.key),i)}}function Qk(t,e,n){return e&&Wk(t.prototype,e),n&&Wk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xk(t){var e=function(t,e){if("object"!==Vk(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Vk(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Vk(e)?e:String(e)}function Yk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jk(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zk(t,e)}function Zk(t,e){return Zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zk(t,e)}function qk(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Kk(t);if(e){var r=Kk(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Vk(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Kk(t){return Kk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kk(t)}Hk.id="gyroscope",Hk.configParser=Fk,Cp.lang[Rk.id]="Gyroscope",Dp(Rk,"caption:right");var $k=Object.defineProperty;!function(t,e){for(var n in e)$k(t,n,{get:e[n],enumerable:!0})}({},{ResolutionChangedEvent:function(){return tS}});var tS=function(t){Jk(n,t);var e=qk(n);function n(t){var i;return Yk(this,n),(i=e.call(this,n.type)).resolutionId=t,i}return Qk(n)}(Ad);tS.type="resolution-changed";var eS=gf.getConfigParser({resolutions:null,defaultResolution:null,showBadge:!0}),nS=function(t){Jk(n,t);var e=qk(n);function n(t,i){var r;return Yk(this,n),(r=e.call(this,t)).resolutions=[],r.resolutionsById={},r.state={resolution:null},r.config=eS(i),r.config.defaultResolution&&r.viewer.config.panorama&&gf.logWarn("ResolutionPlugin, a defaultResolution was provided but a panorama is already configured on the viewer, the defaultResolution will be ignored."),r}return Qk(n,[{key:"init",value:function(){var t=this;if(Gk(Kk(n.prototype),"init",this).call(this),this.settings=this.viewer.getPlugin("settings"),!this.settings)throw new Xf("Resolution plugin requires the Settings plugin");this.settings.addSetting({id:n.id,type:"options",label:this.viewer.config.lang.resolution,current:function(){return t.state.resolution},options:function(){return t.resolutions},apply:function(e){return t.__setResolutionIfExists(e)},badge:this.config.showBadge?function(){return t.state.resolution}:null}),this.viewer.addEventListener(xd.PanoramaLoadedEvent.type,this),this.config.resolutions&&(this.setResolutions(this.config.resolutions,this.viewer.config.panorama?null:this.config.defaultResolution),delete this.config.resolutions,delete this.config.defaultResolution)}},{key:"destroy",value:function(){this.viewer.removeEventListener(xd.PanoramaLoadedEvent.type,this),this.settings.removeSetting(n.id),Gk(Kk(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){t instanceof xd.PanoramaLoadedEvent&&this.__refreshResolution()}},{key:"setResolutions",value:function(t,e){var n=this;this.resolutions=t||[],this.resolutionsById={},t.forEach((function(t){if(!t.id)throw new Xf("Missing resolution id");if(!t.panorama)throw new Xf("Missing resolution panorama");n.resolutionsById[t.id]=t})),this.viewer.config.panorama||e||(e=t[0].id),e&&!this.resolutionsById[e]&&(gf.logWarn("Resolution ".concat(e," unknown")),e=t[0].id),e&&this.setResolution(e),this.__refreshResolution()}},{key:"setResolution",value:function(t){if(!this.resolutionsById[t])throw new Xf("Resolution ".concat(t," unknown"));return this.__setResolutionIfExists(t)}},{key:"__setResolutionIfExists",value:function(t){return this.resolutionsById[t]?this.viewer.setPanorama(this.resolutionsById[t].panorama,{transition:!1,showLoader:!1}):Promise.resolve()}},{key:"getResolution",value:function(){return this.state.resolution}},{key:"__refreshResolution",value:function(){var t,e=this,n=this.resolutions.find((function(t){return gf.deepEqual(e.viewer.config.panorama,t.panorama)}));this.state.resolution!==(null===n||void 0===n?void 0:n.id)&&(this.state.resolution=null===n||void 0===n?void 0:n.id,null===(t=this.settings)||void 0===t||t.updateButton(),this.dispatchEvent(new tS(this.state.resolution)))}}]),n}(Sp);function iS(t){return iS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iS(t)}function rS(){return rS="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dS(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},rS.apply(this,arguments)}function aS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,sS(i.key),i)}}function oS(t,e,n){return e&&aS(t.prototype,e),n&&aS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sS(t){var e=function(t,e){if("object"!==iS(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==iS(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===iS(e)?e:String(e)}function lS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uS(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cS(t,e)}function cS(t,e){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cS(t,e)}function hS(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=dS(t);if(e){var r=dS(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===iS(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fS(t)}(this,n)}}function fS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dS(t){return dS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dS(t)}nS.id="resolution",Cp.lang.resolution="Quality";var pS=Object.defineProperty;!function(t,e){for(var n in e)pS(t,n,{get:e[n],enumerable:!0})}({},{SettingChangedEvent:function(){return vS}});var vS=function(t){uS(n,t);var e=hS(n);function n(t,i){var r;return lS(this,n),(r=e.call(this,n.type)).settingId=t,r.settingValue=i,r}return oS(n)}(Ad);vS.type="setting-changed";var mS=function(t){uS(n,t);var e=hS(n);function n(t){var i;return lS(this,n),(i=e.call(this,t,{className:"psv-settings-button",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M98.4 43.7c-.8-.5-7-4.3-9.6-5.4l-3-7.5c.9-2.5 2.6-9.4 3-10.6a3.3 3.3 0 00-1-3.1L83 12.2a3.3 3.3 0 00-3-.9c-1 .2-8 2-10.7 3l-7.5-3.1c-1-2.4-4.8-8.6-5.4-9.6A3.3 3.3 0 0053.4 0h-6.8a3.4 3.4 0 00-2.9 1.6c-.5.8-4.2 7-5.4 9.6l-7.5 3-10.6-3a3.3 3.3 0 00-3.1 1L12.2 17a3.3 3.3 0 00-.9 3c.2 1 2 8 3 10.7l-3.1 7.5c-2.4 1-8.6 4.8-9.6 5.4A3.3 3.3 0 000 46.6v6.8a3.4 3.4 0 001.6 2.9c.8.5 7 4.2 9.6 5.4l3 7.5-3 10.6a3.3 3.3 0 001 3.1l4.8 4.9a3.3 3.3 0 003.1.9c1-.2 8-2 10.7-3l7.5 3c1 2.5 4.7 8.6 5.4 9.7a3.3 3.3 0 002.9 1.6h6.8a3.4 3.4 0 002.9-1.6c.5-.8 4.2-7 5.4-9.6l7.5-3c2.5.9 9.4 2.6 10.6 3a3.3 3.3 0 003.1-1l4.9-4.8a3.3 3.3 0 00.9-3.1c-.2-1-2-8-3-10.7l3-7.5c2.5-1 8.6-4.7 9.7-5.4a3.3 3.3 0 001.6-2.9v-6.8a3.3 3.3 0 00-1.6-2.9zM50 71.7A21.8 21.8 0 1171.8 50 21.8 21.8 0 0150 71.8z"/>\x3c!-- Created by i cons from the Noun Project --\x3e</svg>\n',hoverScale:!0,collapsable:!1,tabbable:!0})).plugin=i.viewer.getPlugin("settings"),i.badge=document.createElement("div"),i.badge.className="psv-settings-badge",i.badge.style.display="none",i.container.appendChild(i.badge),i}return oS(n,[{key:"isSupported",value:function(){return!!this.plugin}},{key:"onClick",value:function(){this.plugin.toggleSettings()}},{key:"setBadge",value:function(t){this.badge.innerText=t,this.badge.style.display=t?"":"none"}}]),n}(up);mS.id="settings";var gS='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M86.2 50.7l-44 44-9.9-9.9 34.1-34.1-34.7-34.8L41.6 6z"/>\x3c!-- Created by Renee Ramsey-Passmore from the Noun Project--\x3e</svg>\n',yS="psvSettings",wS="settingId",bS="optionId",xS="__back",AS="__enter",_S=gf.dasherize(wS),kS=gf.dasherize(bS),SS={options:function(t,e){return'\n<span class="psv-settings-item-label">'.concat(t.label,'</span>\n<span class="psv-settings-item-value">').concat(e(t),'</span>\n<span class="psv-settings-item-icon">').concat(gS,"</span>\n")},toggle:function(t){return'\n<span class="psv-settings-item-label">'.concat(t.label,'</span>\n<span class="psv-settings-item-value">').concat(t.active()?'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 100" width="2.4em" height="1.2em"><path fill="currentColor" transform="scale(1.88) translate(0, -25)" d="M72 73.2A21.6 21.6 0 1172 30a21.6 21.6 0 010 43.2M2.4 51.6A26.4 26.4 0 0028.8 78H72a26.4 26.4 0 000-52.8H28.8A26.4 26.4 0 002.4 51.6"/>\x3c!-- Created by Nikita from the Noun Project --\x3e</svg>\n':'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 100" width="2.4em" height="1.2em"><path fill="currentColor" transform="scale(1.88) translate(0, -25)" d="M72 73.2H44A26.4 26.4 0 0044 30h28a21.6 21.6 0 010 43.2M7.2 51.6a21.6 21.6 0 1143.2 0 21.6 21.6 0 01-43.2 0M72 25.2H28.8a26.4 26.4 0 000 52.8H72a26.4 26.4 0 000-52.8"/>\x3c!-- Created by Nikita from the Noun Project --\x3e</svg>\n',"</span>\n")}},MS=function(t){uS(n,t);var e=hS(n);function n(t,i){var r;return lS(this,n),(r=e.call(this,i,{className:"psv-settings psv--capture-event"})).plugin=t,r.container.addEventListener("click",fS(r)),r.container.addEventListener("transitionend",fS(r)),r.container.addEventListener("keydown",fS(r)),r.hide(),r}return oS(n,[{key:"handleEvent",value:function(t){switch(t.type){case"click":this.__click(t.target);break;case"transitionend":this.isVisible()?this.__focusFirstOption():this.container.innerHTML="";break;case"keydown":if(this.isVisible())switch(t.key){case tf.KEY_CODES.Escape:this.plugin.hideSettings();break;case tf.KEY_CODES.Enter:this.__click(t.target)}}}},{key:"show",value:function(t){if(this.__showSettings(!1),this.container.classList.add("psv-settings--open"),this.container.style.right="",this.container.style.left="",t){var e=this.viewer.container.getBoundingClientRect(),n=t.left-e.left,i=e.right-t.right,r=t.width,a=this.container.offsetWidth;a>=n+r?this.container.style.left="0px":n+a<e.width?this.container.style.left="".concat(n,"px"):this.container.style.right=a>=i+r?"0px":"".concat(i,"px")}else this.container.style.right="0px";this.state.visible=!0}},{key:"hide",value:function(){this.container.classList.remove("psv-settings--open"),this.state.visible=!1}},{key:"__click",value:function(t){var e=gf.getClosest(t,"li");if(e){var n=e.dataset[wS],i=e.dataset[bS],r=this.plugin.settings.find((function(t){return t.id===n}));switch(i){case xS:this.__showSettings(!0);break;case AS:switch(r.type){case"toggle":this.plugin.toggleSettingValue(r),this.__showSettings(!0);break;case"options":this.__showOptions(r)}break;default:if("options"===r.type)this.hide(),this.plugin.applySettingOption(r,i)}}}},{key:"__showSettings",value:function(t){var e,n;this.container.innerHTML=(e=this.plugin.settings,n=function(t){var e=t.current(),n=t.options().find((function(t){return t.id===e}));return null===n||void 0===n?void 0:n.label},'\n<ul class="psv-settings-list">\n  '.concat(e.map((function(t){return'\n    <li class="psv-settings-item" tabindex="0"\n        data-'.concat(_S,'="').concat(t.id,'" data-').concat(kS,'="').concat(AS,'">\n      ').concat(SS[t.type](t,n),"\n    </li>\n  ")})).join(""),"\n</ul>\n")),t&&this.__focusFirstOption()}},{key:"__showOptions",value:function(t){var e=t.current();this.container.innerHTML=function(t,e){return'\n<ul class="psv-settings-list">\n  <li class="psv-settings-item psv-settings-item--header" tabindex="0"\n      data-'.concat(_S,'="').concat(t.id,'" data-').concat(kS,'="').concat(xS,'">\n    <span class="psv-settings-item-icon">').concat(gS,'</span>\n    <span class="psv-settings-item-label">').concat(t.label,"</span>\n  </li>\n  ").concat(t.options().map((function(n){return'\n    <li class="psv-settings-item" tabindex="0"\n        data-'.concat(_S,'="').concat(t.id,'" data-').concat(kS,'="').concat(n.id,'">\n      <span class="psv-settings-item-icon">').concat(e(n)?'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 90"><polygon fill="currentColor" points="0,48 10,35 36,57 78,10 90,21 37,79 "/>\x3c!-- Created by Zahroe from the Noun Project --\x3e</svg>\n':"",'</span>\n      <span class="psv-settings-item-value">').concat(n.label,"</span>\n    </li>\n  ")})).join(""),"\n</ul>\n")}(t,(function(t){return t.id===e})),this.__focusFirstOption()}},{key:"__focusFirstOption",value:function(){var t;null===(t=this.container.querySelector("[tabindex]"))||void 0===t||t.focus()}}]),n}(sp);function ES(){return JSON.parse(localStorage.getItem(yS))||{}}var CS=gf.getConfigParser({persist:!1,storage:{set:function(t,e){var n=ES();n[t]=e,function(t){localStorage.setItem(yS,JSON.stringify(t))}(n)},get:function(t){return ES()[t]}}}),PS=function(t){uS(n,t);var e=hS(n);function n(t,i){var r;return lS(this,n),(r=e.call(this,t)).settings=[],r.config=CS(i),r.component=new MS(fS(r),r.viewer),r}return oS(n,[{key:"init",value:function(){var t=this;rS(dS(n.prototype),"init",this).call(this),this.viewer.addEventListener(xd.ClickEvent.type,this),this.viewer.addEventListener(xd.ShowPanelEvent.type,this),setTimeout((function(){return t.updateButton()}))}},{key:"destroy",value:function(){this.viewer.removeEventListener(xd.ClickEvent.type,this),this.viewer.removeEventListener(xd.ShowPanelEvent.type,this),this.component.destroy(),this.settings.length=0,rS(dS(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){(t instanceof xd.ClickEvent||t instanceof xd.ShowPanelEvent)&&this.component.isVisible()&&this.hideSettings()}},{key:"addSetting",value:function(t){var e=this;if(!t.id)throw new Xf("Missing setting id");if(!t.type)throw new Xf("Missing setting type");t.badge&&this.settings.some((function(t){return t.badge}))&&gf.logWarn("More than one setting with a badge are declared, the result is unpredictable."),this.settings.push(t),this.component.isVisible()&&this.component.show(),this.updateButton(),this.config.persist&&Promise.resolve(this.config.storage.get(t.id)).then((function(n){switch(t.type){case"toggle":var i=t;gf.isNil(n)||n===i.active()||(i.toggle(),e.dispatchEvent(new vS(i.id,i.active())));break;case"options":var r=t;gf.isNil(n)||n===r.current()||(r.apply(n),e.dispatchEvent(new vS(r.id,r.current())))}e.updateButton()}))}},{key:"removeSetting",value:function(t){var e=this.settings.findIndex((function(e){return e.id===t}));-1!==e&&(this.settings.splice(e,1),this.component.isVisible()&&this.component.show(),this.updateButton())}},{key:"toggleSettings",value:function(){this.component.isVisible()?this.hideSettings():this.showSettings()}},{key:"hideSettings",value:function(){this.component.hide(),this.updateButton()}},{key:"showSettings",value:function(){var t=this.viewer.navbar.getButton(mS.id,!1),e=null===t||void 0===t?void 0:t.container.getBoundingClientRect();this.component.show(e),this.updateButton()}},{key:"updateButton",value:function(){var t,e=null===(t=this.settings.find((function(t){return t.badge})))||void 0===t?void 0:t.badge(),n=this.viewer.navbar.getButton(mS.id,!1);null===n||void 0===n||n.toggleActive(this.component.isVisible()),null===n||void 0===n||n.setBadge(e)}},{key:"toggleSettingValue",value:function(t){var e=!t.active();t.toggle(),this.dispatchEvent(new vS(t.id,e)),this.config.persist&&this.config.storage.set(t.id,e),this.updateButton()}},{key:"applySettingOption",value:function(t,e){t.apply(e),this.dispatchEvent(new vS(t.id,e)),this.config.persist&&this.config.storage.set(t.id,e),this.updateButton()}}]),n}(Sp);function TS(t){return TS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TS(t)}function LS(){return LS="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=FS(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},LS.apply(this,arguments)}function OS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,RS(i.key),i)}}function zS(t,e,n){return e&&OS(t.prototype,e),n&&OS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function RS(t){var e=function(t,e){if("object"!==TS(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==TS(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===TS(e)?e:String(e)}function DS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IS(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BS(t,e)}function BS(t,e){return BS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},BS(t,e)}function NS(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=FS(t);if(e){var r=FS(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===TS(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jS(t)}(this,n)}}function jS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FS(t){return FS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},FS(t)}PS.id="settings",Cp.lang[mS.id]="Settings",Dp(mS,"fullscreen:left");var US=Object.defineProperty;!function(t,e){for(var n in e)US(t,n,{get:e[n],enumerable:!0})}({},{StereoUpdatedEvent:function(){return HS}});var HS=function(t){IS(n,t);var e=NS(n);function n(t){var i;return DS(this,n),(i=e.call(this,n.type)).stereoEnabled=t,i}return zS(n)}(Ad);HS.type="stereo-updated";var VS=function(t){IS(n,t);var e=NS(n);function n(t){var i;return DS(this,n),(i=e.call(this,t,{className:"psv-stereo-button",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -2 16 16"><path fill="currentColor" d="M13.104 0H2.896C2.332 0 1 .392 1 .875h14C15 .392 13.668 0 13.104 0zM15 1H1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h3.534a2 2 0 0 0 1.821-1.172l1.19-2.618a.5.5 0 0 1 .91 0l1.19 2.618A2 2 0 0 0 11.466 11H15a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM4 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm8 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"/>\x3c!--Created by Idev\xe3 Batista from the Noun Project--\x3e</svg>',hoverScale:!0,collapsable:!0,tabbable:!0})).plugin=i.viewer.getPlugin("stereo"),i.plugin&&i.plugin.addEventListener(HS.type,jS(i)),i}return zS(n,[{key:"destroy",value:function(){this.plugin&&this.plugin.removeEventListener(HS.type,this),LS(FS(n.prototype),"destroy",this).call(this)}},{key:"isSupported",value:function(){return!!this.plugin&&{initial:!1,promise:this.plugin.isSupported}}},{key:"handleEvent",value:function(t){t instanceof HS&&this.toggleActive(t.stereoEnabled)}},{key:"onClick",value:function(){this.plugin.toggle()}}]),n}(up);VS.id="stereo";var GS=zS((function t(e){DS(this,t);var n=new _A;n.aspect=.5;var i=new Zv;this.setEyeSeparation=function(t){n.eyeSep=t},this.setSize=function(t,n){e.setSize(t,n)},this.render=function(t,r){!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),null===r.parent&&!0===r.matrixWorldAutoUpdate&&r.updateMatrixWorld(),n.update(r),e.getSize(i),e.autoClear&&e.clear(),e.setScissorTest(!0),e.setScissor(0,0,i.width/2,i.height),e.setViewport(0,0,i.width/2,i.height),e.render(t,n.cameraL),e.setScissor(i.width/2,0,i.width/2,i.height),e.setViewport(i.width/2,0,i.width/2,i.height),e.render(t,n.cameraR),e.setScissorTest(!1)}})),WS="pleaseRotate",QS=function(t){IS(n,t);var e=NS(n);function n(t){var i;return DS(this,n),(i=e.call(this,t)).state={enabled:!1,wakeLock:null},i}return zS(n,[{key:"isSupported",get:function(){return this.gyroscope.isSupported()}},{key:"init",value:function(){if(LS(FS(n.prototype),"init",this).call(this),this.markers=this.viewer.getPlugin("markers"),this.compass=this.viewer.getPlugin("compass"),this.gyroscope=this.viewer.getPlugin("gyroscope"),!this.gyroscope)throw new Xf("Stereo plugin requires the Gyroscope plugin");this.viewer.addEventListener(xd.StopAllEvent.type,this),this.viewer.addEventListener(xd.ClickEvent.type,this)}},{key:"destroy",value:function(){this.viewer.removeEventListener(xd.StopAllEvent.type,this),this.viewer.removeEventListener(xd.ClickEvent.type,this),this.stop(),delete this.markers,delete this.compass,delete this.gyroscope,LS(FS(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){(t instanceof xd.StopAllEvent||t instanceof xd.ClickEvent)&&this.stop()}},{key:"isEnabled",value:function(){return this.state.enabled}},{key:"start",value:function(){var t=this;return this.viewer.enterFullscreen(),this.__startWakelock(),this.__lockOrientation(),this.gyroscope.start("fast").then((function(){var e,n;t.viewer.renderer.setCustomRenderer((function(t){return new GS(t)})),t.state.enabled=!0,null===(e=t.markers)||void 0===e||e.hideAllMarkers(),null===(n=t.compass)||void 0===n||n.hide(),t.viewer.navbar.hide(),t.viewer.panel.hide(),t.dispatchEvent(new HS(!0)),t.viewer.notification.show({content:t.viewer.config.lang.stereoNotification,timeout:3e3})}),(function(){return t.__unlockOrientation(),t.__stopWakelock(),t.viewer.exitFullscreen(),Promise.reject()}))}},{key:"stop",value:function(){var t,e;this.isEnabled()&&(this.viewer.renderer.setCustomRenderer(null),this.state.enabled=!1,null===(t=this.markers)||void 0===t||t.showAllMarkers(),null===(e=this.compass)||void 0===e||e.show(),this.viewer.navbar.show(),this.__unlockOrientation(),this.__stopWakelock(),this.viewer.exitFullscreen(),this.gyroscope.stop(),this.dispatchEvent(new HS(!1)))}},{key:"toggle",value:function(){this.isEnabled()?this.stop():this.start()}},{key:"__startWakelock",value:function(){var t=this;"wakeLock"in navigator?navigator.wakeLock.request("screen").then((function(e){t.state.wakeLock=e})).catch((function(){return gf.logWarn("Cannot acquire WakeLock")})):gf.logWarn("WakeLock is not available")}},{key:"__stopWakelock",value:function(){this.state.wakeLock&&(this.state.wakeLock.release(),this.state.wakeLock=null)}},{key:"__lockOrientation",value:function(){var t,e,n=this,i=function(){window.innerHeight>window.innerWidth&&n.viewer.overlay.show({id:WS,image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M66.7 19a14 14 0 0 1 13.8 12.1l-3.9-2.7c-.5-.3-1.1-.2-1.4.3-.3.5-.2 1.1.3 1.4l5.7 3.9.6.2c.3 0 .6-.2.8-.4l3.9-5.7c.3-.5.2-1.1-.3-1.4-.5-.3-1.1-.2-1.4.3l-2.4 3.5A16 16 0 0 0 66.7 17c-.6 0-1 .4-1 1s.4 1 1 1zM25 15h10c.6 0 1-.4 1-1s-.4-1-1-1H25c-.6 0-1 .4-1 1s.4 1 1 1zm-6.9 30H16l-2 .2a1 1 0 0 0-.8 1.2c.1.5.5.8 1 .8h.2l1.7-.2h2.1c.6 0 1-.4 1-1s-.5-1-1.1-1zm10 0h-4c-.6 0-1 .4-1 1s.4 1 1 1h4c.6 0 1-.4 1-1s-.4-1-1-1zM84 45H55V16A11 11 0 0 0 44 5H16A11 11 0 0 0 5 16v68a11 11 0 0 0 11 11h68a11 11 0 0 0 11-11V56a11 11 0 0 0-11-11zM16 93c-5 0-9-4-9-9V53.2c.3-.1.6-.3.7-.6a9.8 9.8 0 0 1 2-3c.4-.4.4-1 0-1.4a1 1 0 0 0-1.4 0l-1.2 1.5V16c0-5 4-9 9-9h28c5 0 9 4 9 9v68c0 5-4 9-9 9H16zm77-9c0 5-4 9-9 9H50.3c2.8-2 4.7-5.3 4.7-9V47h29c5 0 9 4 9 9v28zM38.1 45h-4c-.6 0-1 .4-1 1s.4 1 1 1h4c.6 0 1-.4 1-1s-.5-1-1-1zm9.9 0h-4c-.6 0-1 .4-1 1s.4 1 1 1h4c.6 0 1-.4 1-1s-.4-1-1-1zm38 19c-.6 0-1 .4-1 1v10c0 .6.4 1 1 1s1-.4 1-1V65c0-.6-.4-1-1-1z"/>\x3c!--Created by Anthony Bresset from the Noun Project--\x3e</svg>',title:n.viewer.config.lang.pleaseRotate,text:n.viewer.config.lang.tapToContinue}),e&&(clearTimeout(e),e=null)};null!==(t=window.screen)&&void 0!==t&&t.orientation?(window.screen.orientation.lock("landscape").then(null,(function(){return i()})),e=setTimeout((function(){return i()}),500)):i()}},{key:"__unlockOrientation",value:function(){var t;null!==(t=window.screen)&&void 0!==t&&t.orientation?window.screen.orientation.unlock():this.viewer.overlay.hide(WS)}}]),n}(Sp);function XS(t){return XS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XS(t)}function YS(){return YS="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=iM(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},YS.apply(this,arguments)}function JS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,qS(i.key),i)}}function ZS(t,e,n){return e&&JS(t.prototype,e),n&&JS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qS(t){var e=function(t,e){if("object"!==XS(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==XS(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===XS(e)?e:String(e)}function KS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $S(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tM(t,e)}function tM(t,e){return tM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tM(t,e)}function eM(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=iM(t);if(e){var r=iM(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===XS(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return nM(t)}(this,n)}}function nM(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iM(t){return iM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},iM(t)}QS.id="stereo",Cp.lang[VS.id]="Stereo view",Dp(VS,"caption:right"),Cp.lang.stereoNotification="Tap anywhere to exit stereo view.",Cp.lang.pleaseRotate="Please rotate your device",Cp.lang.tapToContinue="(or tap to continue)";var rM=Object.defineProperty;!function(t,e){for(var n in e)rM(t,n,{get:e[n],enumerable:!0})}({},{BufferEvent:function(){return uM},PlayPauseEvent:function(){return aM},ProgressEvent:function(){return lM},VolumeChangeEvent:function(){return oM}});var aM=function(t){$S(n,t);var e=eM(n);function n(t){var i;return KS(this,n),(i=e.call(this,n.type)).playing=t,i}return ZS(n)}(Ad);aM.type="play-pause";var oM=function(t){$S(n,t);var e=eM(n);function n(t){var i;return KS(this,n),(i=e.call(this,n.type)).volume=t,i}return ZS(n)}(Ad);oM.type="volume-change";var sM=function(t){$S(n,t);var e=eM(n);function n(t,i,r){var a;return KS(this,n),(a=e.call(this,n.type)).time=t,a.duration=i,a.progress=r,a}return ZS(n)}(Ad),lM=sM;lM.type="progress";var uM=function(t){$S(n,t);var e=eM(n);function n(t){var i;return KS(this,n),(i=e.call(this,n.type)).maxBuffer=t,i}return ZS(n)}(Ad);uM.type="buffer";var cM='<svg viewBox="76 5 550 550" xmlns="http://www.w3.org/2000/svg"><path fill="currentcolor" d="M351.1 5.6A274.1 274.1 0 0 0 76.7 280a274.1 274.1 0 0 0 274.4 274.4A274.1 274.1 0 0 0 625.5 280 274.1 274.1 0 0 0 351.1 5.6zm146.7 282.8-219 134.4c-6.6 4-15.6-.6-15.6-8.4V145.6c0-7.8 9-12.9 15.7-8.4l219 134.4a10 10 0 0 1 0 16.8z"/></svg>',hM=function(t){$S(n,t);var e=eM(n);function n(t){var i,r;return KS(this,n),(r=e.call(this,t,{className:"psv-video-play-button",hoverScale:!0,collapsable:!1,tabbable:!0,icon:cM,iconActive:'<svg viewBox="80 10 540 540" xmlns="http://www.w3.org/2000/svg"><path d="M80.58 279.67c0-148.76 120.33-269.09 269.09-269.09s269.75 120.33 269.75 269.09-121 269.75-269.75 269.75-269.1-120.99-269.1-269.75zm175.87 105.12V175.2c0-9.26 7.27-15.87 15.86-15.87h39.01c8.6 0 15.87 6.62 15.87 15.87v209.59c0 8.6-7.27 15.87-15.87 15.87h-39c-8.6 0-15.87-7.28-15.87-15.87zm116.36 0V175.2c0-9.26 7.27-15.87 15.86-15.87h38.35c9.26 0 15.87 6.62 15.87 15.87v209.59c0 8.6-6.61 15.87-15.87 15.87h-38.34c-8.6 0-15.87-7.28-15.87-15.87z" fill-rule="evenodd" fill="currentcolor"/></svg>'})).plugin=r.viewer.getPlugin("video"),null===(i=r.plugin)||void 0===i||i.addEventListener(aM.type,nM(r)),r}return ZS(n,[{key:"destroy",value:function(){var t;null===(t=this.plugin)||void 0===t||t.removeEventListener(aM.type,this),YS(iM(n.prototype),"destroy",this).call(this)}},{key:"isSupported",value:function(){return!!this.plugin}},{key:"handleEvent",value:function(t){t instanceof aM&&this.toggleActive(t.playing)}},{key:"onClick",value:function(){this.plugin.playPause()}}]),n}(up);function fM(t){var e=Math.round(t%60),n=Math.round(t-e)/60;return"".concat(n,":").concat(("0"+e).slice(-2))}hM.id="videoPlay",hM.groupId="video";var dM=function(t){$S(n,t);var e=eM(n);function n(t){var i;return KS(this,n),(i=e.call(this,t,{className:"psv-caption psv-video-time",hoverScale:!1,collapsable:!1,tabbable:!1})).contentElt=document.createElement("div"),i.contentElt.className="psv-caption-content",i.container.appendChild(i.contentElt),i.plugin=i.viewer.getPlugin("video"),i.plugin&&(i.viewer.addEventListener(xd.PanoramaLoadedEvent.type,nM(i)),i.plugin.addEventListener(lM.type,nM(i))),i}return ZS(n,[{key:"destroy",value:function(){this.plugin&&(this.viewer.removeEventListener(xd.PanoramaLoadedEvent.type,this),this.plugin.removeEventListener(lM.type,this)),delete this.plugin,YS(iM(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case xd.PanoramaLoadedEvent.type:case lM.type:this.contentElt.innerHTML="<strong>".concat(fM(this.plugin.getTime()),"</strong> / ").concat(fM(this.plugin.getDuration()))}}},{key:"onClick",value:function(){}}]),n}(up);dM.id="videoTime",dM.groupId="video";var pM=function(t){$S(n,t);var e=eM(n);function n(t){var i;return KS(this,n),(i=e.call(this,t,{className:"psv-video-volume-button",hoverScale:!0,collapsable:!1,tabbable:!0,icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="17 16 71 71"><path fill="currentColor" d="M20.19 61.66H32.9c.54 0 1.07.16 1.52.47L51.02 73.5a2.7 2.7 0 0 0 4.22-2.23V28.74a2.7 2.7 0 0 0-4.22-2.23L34.43 37.87c-.45.3-.98.47-1.52.47H20.19a2.7 2.7 0 0 0-2.7 2.7v17.92a2.7 2.7 0 0 0 2.7 2.7z"/><path id="lvl0" fill="currentColor" d="M63.802 58.834c.39.39.902.586 1.414.586s1.023-.195 1.414-.586l7.234-7.233 7.234 7.233c.39.39.902.586 1.414.586s1.023-.195 1.414-.586a2 2 0 0 0 0-2.828l-7.234-7.234 7.234-7.233a2 2 0 1 0-2.828-2.828l-7.234 7.233-7.234-7.233a2 2 0 1 0-2.828 2.828l7.234 7.233-7.234 7.234a2 2 0 0 0 0 2.828z"/><path id="lvl1" fill="currentColor" d="M59.573 59.65c.39.394.904.59 1.418.59.51 0 1.02-.194 1.41-.582A13.53 13.53 0 0 0 66.411 50a13.56 13.56 0 0 0-3.996-9.654 2 2 0 0 0-2.828 2.829A9.586 9.586 0 0 1 62.41 50a9.56 9.56 0 0 1-2.83 6.823 2 2 0 0 0-.008 2.828z"/><path id="lvl2" fill="currentColor" d="M72.501 50c0 5.267-2.055 10.227-5.786 13.967a2 2 0 0 0 2.832 2.825C74.03 62.297 76.5 56.333 76.5 50s-2.47-12.297-6.954-16.792a2 2 0 0 0-2.832 2.825c3.731 3.74 5.786 8.7 5.786 13.967z"/><path id="lvl3" fill="currentColor" d="M83.001 50c0 8.084-3.147 15.679-8.863 21.384a2 2 0 0 0 2.826 2.831C83.437 67.754 87 59.155 87 50c0-9.154-3.564-17.753-10.037-24.215a2 2 0 0 0-2.826 2.83C79.854 34.323 83 41.917 83 50z"/>\x3c!--Created by Rudez Studio from the Noun Project--\x3e</svg>'})).plugin=i.viewer.getPlugin("video"),i.plugin&&(i.rangeContainer=document.createElement("div"),i.rangeContainer.className="psv-video-volume__container",i.container.appendChild(i.rangeContainer),i.range=document.createElement("div"),i.range.className="psv-video-volume__range",i.rangeContainer.appendChild(i.range),i.trackElt=document.createElement("div"),i.trackElt.className="psv-video-volume__track",i.range.appendChild(i.trackElt),i.progressElt=document.createElement("div"),i.progressElt.className="psv-video-volume__progress",i.range.appendChild(i.progressElt),i.handleElt=document.createElement("div"),i.handleElt.className="psv-video-volume__handle",i.range.appendChild(i.handleElt),i.slider=new gf.Slider(i.range,gf.SliderDirection.VERTICAL,i.__onSliderUpdate.bind(nM(i))),i.viewer.addEventListener(xd.PanoramaLoadedEvent.type,nM(i)),i.plugin.addEventListener(aM.type,nM(i)),i.plugin.addEventListener(oM.type,nM(i)),i.__setVolume(0)),i}return ZS(n,[{key:"destroy",value:function(){this.plugin&&(this.viewer.removeEventListener(xd.PanoramaLoadedEvent.type,this),this.plugin.removeEventListener(aM.type,this),this.plugin.removeEventListener(oM.type,this)),this.slider.destroy(),YS(iM(n.prototype),"destroy",this).call(this)}},{key:"isSupported",value:function(){return!!this.plugin}},{key:"handleEvent",value:function(t){switch(t.type){case xd.PanoramaLoadedEvent.type:case aM.type:case oM.type:this.__setVolume(this.plugin.getVolume())}}},{key:"onClick",value:function(){this.plugin.setMute()}},{key:"__onSliderUpdate",value:function(t){t.mousedown&&this.plugin.setVolume(t.value)}},{key:"__setVolume",value:function(t){var e;e=0===t?0:t<.333?1:t<.666?2:3,gf.toggleClass(this.container,"psv-video-volume-button--0",0===e),gf.toggleClass(this.container,"psv-video-volume-button--1",1===e),gf.toggleClass(this.container,"psv-video-volume-button--2",2===e),gf.toggleClass(this.container,"psv-video-volume-button--3",3===e),this.handleElt.style.bottom="".concat(100*t,"%"),this.progressElt.style.height="".concat(100*t,"%")}}]),n}(up);pM.id="videoVolume",pM.groupId="video";var vM=function(t){$S(n,t);var e=eM(n);function n(t,i){var r;return KS(this,n),(r=e.call(this,i,{className:"psv-video-overlay"})).plugin=t,r.button=document.createElement("button"),r.button.className="psv-video-bigbutton psv--capture-event",r.button.innerHTML=cM,r.container.appendChild(r.button),r.viewer.addEventListener(xd.PanoramaLoadedEvent.type,nM(r)),r.plugin.addEventListener(aM.type,nM(r)),r.button.addEventListener("click",nM(r)),r}return ZS(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(xd.PanoramaLoadedEvent.type,this),this.plugin.removeEventListener(aM.type,this),YS(iM(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case xd.PanoramaLoadedEvent.type:case aM.type:gf.toggleClass(this.button,"psv-video-bigbutton--pause",!this.plugin.isPlaying());break;case"click":this.plugin.playPause()}}}]),n}(sp),mM=function(t){$S(n,t);var e=eM(n);function n(t,i){var r;return KS(this,n),(r=e.call(this,i,{className:"psv-video-progressbar"})).plugin=t,r.state={visible:!0,req:null,tooltip:null},r.bufferElt=document.createElement("div"),r.bufferElt.className="psv-video-progressbar__buffer",r.container.appendChild(r.bufferElt),r.progressElt=document.createElement("div"),r.progressElt.className="psv-video-progressbar__progress",r.container.appendChild(r.progressElt),r.handleElt=document.createElement("div"),r.handleElt.className="psv-video-progressbar__handle",r.container.appendChild(r.handleElt),r.slider=new gf.Slider(r.container,gf.SliderDirection.HORIZONTAL,r.__onSliderUpdate.bind(nM(r))),r.viewer.addEventListener(xd.PanoramaLoadedEvent.type,nM(r)),r.plugin.addEventListener(uM.type,nM(r)),r.plugin.addEventListener(lM.type,nM(r)),r.state.req=window.requestAnimationFrame((function(){return r.__updateProgress()})),r.hide(),r}return ZS(n,[{key:"destroy",value:function(){var t;this.viewer.removeEventListener(xd.PanoramaLoadedEvent.type,this),this.plugin.removeEventListener(uM.type,this),this.plugin.removeEventListener(lM.type,this),this.slider.destroy(),null===(t=this.state.tooltip)||void 0===t||t.hide(),window.cancelAnimationFrame(this.state.req),delete this.state.tooltip,YS(iM(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case xd.PanoramaLoadedEvent.type:case uM.type:case lM.type:this.bufferElt.style.width="".concat(100*this.plugin.getBufferProgress(),"%")}}},{key:"__updateProgress",value:function(){var t=this;this.progressElt.style.width="".concat(100*this.plugin.getProgress(),"%"),this.state.req=window.requestAnimationFrame((function(){return t.__updateProgress()}))}},{key:"__onSliderUpdate",value:function(t){if(t.mouseover){this.handleElt.style.display="block",this.handleElt.style.left="".concat(100*t.value,"%");var e=fM(this.plugin.getDuration()*t.value);this.state.tooltip?this.state.tooltip.update(e,{top:t.cursor.clientY,left:t.cursor.clientX}):this.state.tooltip=this.viewer.createTooltip({top:t.cursor.clientY,left:t.cursor.clientX,content:e})}else{var n;this.handleElt.style.display="none",null===(n=this.state.tooltip)||void 0===n||n.hide(),delete this.state.tooltip}t.click&&this.plugin.setProgress(t.value)}}]),n}(sp),gM=gf.getConfigParser({progressbar:!0,bigbutton:!0,keypoints:null}),yM=function(t){$S(n,t);var e=eM(n);function n(t,i){var r;if(KS(this,n),(r=e.call(this,t,i)).state={curve:null,start:null,end:null,keypoints:null},!r.viewer.adapter.constructor.id.includes("video"))throw new Xf("VideoPlugin can only be used with a video adapter.");return r.config.progressbar&&(r.progressbar=new mM(nM(r),t)),r.config.bigbutton&&(r.overlay=new vM(nM(r),t)),r}return ZS(n,[{key:"init",value:function(){var t;YS(iM(n.prototype),"init",this).call(this),this.markers=this.viewer.getPlugin("markers"),this.autorotate=this.viewer.getPlugin("autorotate"),this.autorotate&&(this.autorotate.config.autostartDelay=0,this.autorotate.config.autostartOnIdle=!1),this.config.keypoints&&(this.setKeypoints(this.config.keypoints),delete this.config.keypoints),null===(t=this.autorotate)||void 0===t||t.addEventListener("autorotate",this),this.viewer.addEventListener(xd.BeforeRenderEvent.type,this),this.viewer.addEventListener(xd.PanoramaLoadedEvent.type,this),this.viewer.addEventListener(xd.KeypressEvent.type,this)}},{key:"destroy",value:function(){var t;null===(t=this.autorotate)||void 0===t||t.removeEventListener("autorotate",this),this.viewer.removeEventListener(xd.BeforeRenderEvent.type,this),this.viewer.removeEventListener(xd.PanoramaLoadedEvent.type,this),this.viewer.removeEventListener(xd.KeypressEvent.type,this),delete this.progressbar,delete this.overlay,delete this.markers,YS(iM(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){var e;switch(t.type){case xd.BeforeRenderEvent.type:this.__autorotate();break;case"autorotate":this.__configureAutorotate();break;case xd.PanoramaLoadedEvent.type:this.__bindVideo(t.data),null===(e=this.progressbar)||void 0===e||e.show();break;case xd.KeypressEvent.type:this.__onKeyPress(t);break;case"play":case"pause":this.dispatchEvent(new aM(this.isPlaying()));break;case"progress":this.dispatchEvent(new uM(this.getBufferProgress()));break;case"volumechange":this.dispatchEvent(new oM(this.getVolume()));break;case"timeupdate":this.dispatchEvent(new lM(this.getTime(),this.getDuration(),this.getProgress()))}}},{key:"__bindVideo",value:function(t){this.video&&(this.video.removeEventListener("play",this),this.video.removeEventListener("pause",this),this.video.removeEventListener("progress",this),this.video.removeEventListener("volumechange",this),this.video.removeEventListener("timeupdate",this)),this.video=t.texture.image,this.video.addEventListener("play",this),this.video.addEventListener("pause",this),this.video.addEventListener("progress",this),this.video.addEventListener("volumechange",this),this.video.addEventListener("timeupdate",this)}},{key:"__onKeyPress",value:function(t){t.key===tf.KEY_CODES.Space&&(this.playPause(),t.preventDefault())}},{key:"getDuration",value:function(){var t,e;return null!==(t=null===(e=this.video)||void 0===e?void 0:e.duration)&&void 0!==t?t:0}},{key:"getTime",value:function(){var t,e;return null!==(t=null===(e=this.video)||void 0===e?void 0:e.currentTime)&&void 0!==t?t:0}},{key:"getProgress",value:function(){return this.video?this.video.currentTime/this.video.duration:0}},{key:"isPlaying",value:function(){return!!this.video&&!this.video.paused}},{key:"getVolume",value:function(){var t,e,n;return null!==(t=this.video)&&void 0!==t&&t.muted?0:null!==(e=null===(n=this.video)||void 0===n?void 0:n.volume)&&void 0!==e?e:0}},{key:"playPause",value:function(){this.video&&(this.video.paused?this.video.play():this.video.pause())}},{key:"play",value:function(){var t;null!==(t=this.video)&&void 0!==t&&t.paused&&this.video.play()}},{key:"pause",value:function(){this.video&&!this.video.paused&&this.video.pause()}},{key:"setVolume",value:function(t){this.video&&(this.video.muted=!1,this.video.volume=Jv.clamp(t,0,1))}},{key:"setMute",value:function(t){this.video&&(this.video.muted=void 0===t?!this.video.muted:t,this.video.muted||0!==this.video.volume||(this.video.volume=.1))}},{key:"setTime",value:function(t){this.video&&(this.video.currentTime=t)}},{key:"setProgress",value:function(t){this.video&&(this.video.currentTime=this.video.duration*t)}},{key:"getBufferProgress",value:function(){if(this.video){for(var t=0,e=this.video.buffered,n=0,i=e.length;n<i;n++)if(e.start(n)<=this.video.currentTime&&e.end(n)>=this.video.currentTime){t=e.end(n);break}return Math.max(this.video.currentTime,t)/this.video.duration}return 0}},{key:"setKeypoints",value:function(t){var e=this;if(!this.autorotate)throw new Xf("Video keypoints required the AutorotatePlugin");if(!t)return this.state.keypoints=null,void this.__configureAutorotate();if(t.length<2)throw new Xf("At least two points are required");this.state.keypoints=gf.clone(t),this.state.keypoints&&(this.state.keypoints.forEach((function(t,n){if(!t.position)throw new Xf("Keypoint #".concat(n," is missing marker or position"));if(t.position=e.viewer.dataHelper.cleanPosition(t.position),gf.isNil(t.time))throw new Xf("Keypoint #".concat(n," is missing time"))})),this.state.keypoints.sort((function(t,e){return t.time-e.time}))),this.__configureAutorotate()}},{key:"__configureAutorotate",value:function(){delete this.state.curve,delete this.state.start,delete this.state.end,this.autorotate.isEnabled()&&this.state.keypoints&&this.viewer.dynamics.position.stop()}},{key:"__autorotate",value:function(){var t;if(null!==(t=this.autorotate)&&void 0!==t&&t.isEnabled()&&this.state.keypoints){var e=this.getTime(),n=this.state;if((!n.curve||e<n.start.time||e>=n.end.time)&&this.__autorotateNext(e),n.start===n.end)this.viewer.rotate(n.start.position);else{var i=(e-n.start.time)/(n.end.time-n.start.time),r=n.curve.getPoint(1/3+i/3);this.viewer.dynamics.position.goto({yaw:r.x,pitch:r.y})}}}},{key:"__autorotateNext",value:function(t){var e=null,n=null,i=this.state.keypoints,r=i.length-1;t<i[0].time&&(e=0,n=0);for(var a=0;a<r;a++)if(t>=i[a].time&&t<i[a+1].time){e=a,n=a+1;break}t>=i[r].time&&(e=r,n=r);for(var o=[i[Math.max(0,e-1)].position,i[e].position,i[n].position,i[Math.min(r,n+1)].position],s=[new Zv(o[0].yaw,o[0].pitch)],l=0,u=1;u<=3;u++){var c=o[u-1].yaw-o[u].yaw;c>Math.PI?l+=1:c<-Math.PI&&(l-=1),0!==l&&1===u&&(s[0].x-=2*l*Math.PI,l=0),s.push(new Zv(o[u].yaw+2*l*Math.PI,o[u].pitch))}this.state.curve=new ib(s),this.state.start=i[e],this.state.end=i[n]}}]),n}(Mp);function wM(t){return wM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wM(t)}function bM(t){return function(t){if(Array.isArray(t))return EM(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||MM(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xM(){return xM="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=DM(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},xM.apply(this,arguments)}function AM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function _M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?AM(Object(n),!0).forEach((function(e){kM(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kM(t,e,n){return(e=TM(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SM(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}}(t,e)||MM(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MM(t,e){if(t){if("string"===typeof t)return EM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EM(t,e):void 0}}function EM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function CM(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,TM(i.key),i)}}function PM(t,e,n){return e&&CM(t.prototype,e),n&&CM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TM(t){var e=function(t,e){if("object"!==wM(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==wM(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===wM(e)?e:String(e)}function LM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OM(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zM(t,e)}function zM(t,e){return zM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zM(t,e)}function RM(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=DM(t);if(e){var r=DM(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===wM(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function DM(t){return DM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},DM(t)}yM.id="video",yM.configParser=gM,yM.readonlyOptions=Object.keys(gM.defaults),Cp.lang[hM.id]="Play/Pause",Cp.lang[pM.id]="Volume",Dp(hM),Dp(pM),Dp(dM),Cp.navbar.unshift(hM.groupId);var IM=Object.defineProperty;!function(t,e){for(var n in e)IM(t,n,{get:e[n],enumerable:!0})}({},{NodeChangedEvent:function(){return BM}});var BM=function(t){OM(n,t);var e=RM(n);function n(t,i){var r;return LM(this,n),(r=e.call(this,n.type)).node=t,r.data=i,r}return PM(n)}(Ad);BM.type="node-changed";var NM={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"},uuid:"8B1A6E5B-A7CC-4471-9CA0-BD64D80ABB79",type:"BufferGeometry",data:{attributes:{position:{itemSize:3,type:"Float32Array",array:[-25,-15,-2.5,0,0,-2.5,0,-5,-2.5,0,-5,-2.5,0,0,-2.5,25,-15,-2.5,0,-5,-2.5,25,-15,-2.5,25,-20,-2.5,0,-5,-2.5,-25,-20,-2.5,-25,-15,-2.5,25,-15,2.5,25,-20,2.5,25,-15,-2.5,25,-15,-2.5,25,-20,2.5,25,-20,-2.5,25,-20,2.5,0,-5,2.5,25,-20,-2.5,25,-20,-2.5,0,-5,2.5,0,-5,-2.5,0,-5,2.5,-25,-20,2.5,0,-5,-2.5,0,-5,-2.5,-25,-20,2.5,-25,-20,-2.5,-25,-20,2.5,-25,-15,2.5,-25,-20,-2.5,-25,-20,-2.5,-25,-15,2.5,-25,-15,-2.5,-25,-15,2.5,0,0,2.5,-25,-15,-2.5,-25,-15,-2.5,0,0,2.5,0,0,-2.5,0,0,2.5,25,-15,2.5,0,0,-2.5,0,0,-2.5,25,-15,2.5,25,-15,-2.5,25,-20,2.5,25,-15,2.5,0,-5,2.5,0,-5,2.5,25,-15,2.5,0,0,2.5,0,-5,2.5,0,0,2.5,-25,-15,2.5,-25,-15,2.5,-25,-20,2.5,0,-5,2.5],normalized:!1},normal:{itemSize:3,type:"Float32Array",array:[0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-.514495,-.857492,0,-.514495,-.857492,0,-.514495,-.857492,0,-.514495,-.857492,0,-.514495,-.857492,0,-.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-.514495,.857492,0,-.514495,.857492,0,-.514495,.857492,0,-.514495,.857492,0,-.514495,.857492,0,-.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1],normalized:!1}},boundingSphere:{center:[0,-10,0],radius:27.041634}}},jM={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"},uuid:"B12A1453-6E56-40AC-840B-BA7DF5DB9E2A",type:"BufferGeometry",data:{attributes:{position:{itemSize:3,type:"Float32Array",array:[-26,-21.766189,-3.5,-26,-14.433809,-3.5,0,-6.16619,-3.5,0,-6.16619,-3.5,-26,-14.433809,-3.5,0,1.16619,-3.5,0,-6.16619,-3.5,0,1.16619,-3.5,26,-14.43381,-3.5,26,-14.43381,-3.5,26,-21.766191,-3.5,0,-6.16619,-3.5,-26,-14.433809,3.5,0,1.16619,3.5,-26,-14.433809,-3.5,-26,-14.433809,-3.5,0,1.16619,3.5,0,1.16619,-3.5,0,1.16619,3.5,26,-14.43381,3.5,0,1.16619,-3.5,0,1.16619,-3.5,26,-14.43381,3.5,26,-14.43381,-3.5,26,-14.43381,3.5,26,-21.766191,3.5,26,-14.43381,-3.5,26,-14.43381,-3.5,26,-21.766191,3.5,26,-21.766191,-3.5,26,-21.766191,3.5,0,-6.16619,3.5,26,-21.766191,-3.5,26,-21.766191,-3.5,0,-6.16619,3.5,0,-6.16619,-3.5,0,-6.16619,3.5,-26,-21.766189,3.5,0,-6.16619,-3.5,0,-6.16619,-3.5,-26,-21.766189,3.5,-26,-21.766189,-3.5,-26,-21.766189,3.5,-26,-14.433809,3.5,-26,-21.766189,-3.5,-26,-21.766189,-3.5,-26,-14.433809,3.5,-26,-14.433809,-3.5,-26,-21.766189,3.5,0,-6.16619,3.5,-26,-14.433809,3.5,-26,-14.433809,3.5,0,-6.16619,3.5,0,1.16619,3.5,0,1.16619,3.5,0,-6.16619,3.5,26,-14.43381,3.5,26,-14.43381,3.5,0,-6.16619,3.5,26,-21.766191,3.5],normalized:!1},normal:{itemSize:3,type:"Float32Array",array:[0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,-.514495,.857492,0,-.514495,.857492,0,-.514495,.857492,0,-.514495,.857492,0,-.514495,.857492,0,-.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-.514495,-.857492,0,-.514495,-.857492,0,-.514495,-.857492,0,-.514495,-.857492,0,-.514495,-.857492,0,-.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1],normalized:!1}},boundingSphere:{center:[0,-10.3,0],radius:28.630814}}},FM="tourLink",UM="__tour-link__",HM={html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 210 210" x="0px" y="0px"><path fill="currentColor" transform="translate(0 10)" d="M0 181l105 -181 105 181 -105 -61 -105 61zm105 -167l0 99 86 50 -86 -148z"/>\x3c!-- Created by Saifurrijal from the Noun Project --\x3e</svg>\n',size:{width:80,height:80},scale:[.5,2],anchor:"top center",className:"psv-virtual-tour__marker",style:{color:"rgba(0, 208, 255, 0.8)"}},VM=function(){var t=(new mA).parseGeometries([NM,jM]),e=t[NM.uuid],n=t[jM.uuid],i=.015,r=Math.PI/2;return e.scale(i,i,i),e.rotateX(r),n.scale(i,i,i),n.rotateX(r),{ARROW_GEOM:e,ARROW_OUTLINE_GEOM:n}}(),GM=VM.ARROW_GEOM,WM=VM.ARROW_OUTLINE_GEOM,QM=function(){function t(e,n){LM(this,t),this.plugin=e,this.viewer=n,this.nodes={}}return PM(t,[{key:"destroy",value:function(){}},{key:"checkNode",value:function(t){var e,n;if(!t.id)throw new Xf("No id given for node");if(!t.panorama)throw new Xf("No panorama provided for node ".concat(t.id));if("position"in t&&(gf.logWarn('Use the "gps" property to configure the GPS position of a virtual node'),t.gps=t.position),this.plugin.isGps&&!((null===(e=t.gps)||void 0===e?void 0:e.length)>=2))throw new Xf("No GPS position provided for node ".concat(t.id));if(!this.plugin.isGps&&null!==(n=t.markers)&&void 0!==n&&n.some((function(t){return t.gps&&!t.position})))throw new Xf("Cannot use GPS positioning for markers in manual mode")}},{key:"checkLink",value:function(t,e){if(!e.nodeId)throw new Xf("Link of node ".concat(t.id," has no target id"));if(Array.isArray(e.position)&&(gf.logWarn('Use the "gps" property to configure the GPS position of a virtual link'),e.gps=e.position,delete e.position),gf.isExtendedPosition(e)&&(gf.logWarn('Use the "position" property to configure the position of a virtual link'),e.position=this.viewer.dataHelper.cleanPosition(e)),!this.plugin.isGps&&!gf.isExtendedPosition(e.position))throw new Xf("No position provided for link ".concat(e.nodeId," of node ").concat(t.id));if(this.plugin.isGps&&!e.gps)throw new Xf("No GPS position provided for link ".concat(e.nodeId," of node ").concat(t.id))}}]),t}(),XM=function(t){OM(n,t);var e=RM(n);function n(){return LM(this,n),e.apply(this,arguments)}return PM(n,[{key:"loadNode",value:function(t){return this.nodes[t]?Promise.resolve(this.nodes[t]):Promise.reject(new Xf("Node ".concat(t," not found")))}},{key:"setNodes",value:function(t){var e=this;if(null===t||void 0===t||!t.length)throw new Xf("No nodes provided");var n={},i={};t.forEach((function(t){if(e.checkNode(t),n[t.id])throw new Xf("Duplicate node ".concat(t.id));t.links||(gf.logWarn("Node ".concat(t.id," has no links")),t.links=[]),n[t.id]=t})),t.forEach((function(t){t.links.forEach((function(r){if(!n[r.nodeId])throw new Xf("Target node ".concat(r.nodeId," of node ").concat(t.id," does not exists"));r.gps=r.gps||n[r.nodeId].gps,r.name=r.name||n[r.nodeId].name,e.checkLink(t,r),i[r.nodeId]=!0}))})),t.forEach((function(t){i[t.id]||gf.logWarn("Node ".concat(t.id," is never linked to"))})),this.nodes=n}}]),n}(QM),YM=function(t){OM(n,t);var e=RM(n);function n(t,i){var r;if(LM(this,n),r=e.call(this,t,i),!t.config.getNode)throw new Xf("Missing getNode() option.");return r.nodeResolver=t.config.getNode,r}return PM(n,[{key:"loadNode",value:function(t){var e=this;return this.nodes[t]?Promise.resolve(this.nodes[t]):Promise.resolve(this.nodeResolver(t)).then((function(n){return e.checkNode(n),n.links||(gf.logWarn("Node ".concat(n.id," has no links")),n.links=[]),n.links.forEach((function(t){e.nodes[t.nodeId]&&(t.gps=t.gps||e.nodes[t.nodeId].gps,t.name=t.name||e.nodes[t.nodeId].name),e.checkLink(n,t)})),e.nodes[t]=n,n}))}}]),n}(QM);function JM(t,e){t.material.color.set(e)}function ZM(t,e){var n,i,r=[Jv.degToRad(t[0]),Jv.degToRad(t[1])],a=[Jv.degToRad(e[0]),Jv.degToRad(e[1])],o=null!==(n=t[2])&&void 0!==n?n:0,s=null!==(i=e[2])&&void 0!==i?i:0,l=0;o!==s&&(l=Math.atan((s-o)/function(t,e){return 6371e3*gf.greatArcDistance(t,e)}(r,a)));var u=function(t,e){var n=SM(t,2),i=n[0],r=n[1],a=SM(e,2),o=a[0],s=a[1],l=Math.sin(o-i)*Math.cos(s),u=Math.cos(r)*Math.sin(s)-Math.sin(r)*Math.cos(s)*Math.cos(o-i);return Math.atan2(l,u)}(r,a);return{yaw:u,pitch:l}}var qM=gf.getConfigParser({dataMode:"client",positionMode:"manual",renderMode:"3d",nodes:null,getNode:null,startNodeId:null,preload:!1,rotateSpeed:"20rpm",transition:tf.DEFAULT_TRANSITION,linksOnCompass:!0,markerStyle:HM,arrowStyle:{color:"#aaaaaa",hoverColor:"#aa5500",outlineColor:"#000000",scale:[.5,2]},markerPitchOffset:-.1,arrowPosition:"bottom",map:null},{dataMode:function(t){if("client"!==t&&"server"!==t)throw new Xf("VirtualTourPlugin: invalid dataMode");return t},positionMode:function(t){if("gps"!==t&&"manual"!==t)throw new Xf("VirtualTourPlugin: invalid positionMode");return t},renderMode:function(t){if("3d"!==t&&"markers"!==t)throw new Xf("VirtualTourPlugin: invalid renderMode");return t},markerStyle:function(t,e){return _M(_M({},e.defValue),t)},arrowStyle:function(t,e){return _M(_M({},e.defValue),t)},map:function(t,e){var n=e.rawConfig;if(t){if("server"===n.dataMode)return gf.logWarn("VirtualTourPlugin: The map cannot be used in server side mode"),null;if(!t.imageUrl)return gf.logWarn('VirtualTourPlugin: configuring the map requires at least "imageUrl"'),null}return t}}),KM=function(t){OM(n,t);var e=RM(n);function n(t,i){var r;if(LM(this,n),(r=e.call(this,t,i)).state={currentNode:null,currentTooltip:null,loadingNode:null,preload:{}},r.is3D){r.arrowsGroup=new Py;var a=new aA(16777215,1,0);a.position.set(0,"bottom"===r.config.arrowPosition?2:-2,0),r.arrowsGroup.add(a)}return r}return PM(n,[{key:"is3D",get:function(){return"3d"===this.config.renderMode}},{key:"isServerSide",get:function(){return"server"===this.config.dataMode}},{key:"isGps",get:function(){return"gps"===this.config.positionMode}},{key:"init",value:function(){var t;if(xM(DM(n.prototype),"init",this).call(this),this.markers=this.viewer.getPlugin("markers"),this.compass=this.viewer.getPlugin("compass"),this.gallery=this.viewer.getPlugin("gallery"),!this.is3D&&!this.markers)throw new Xf("VirtualTour plugin requires the Markers plugin in markers mode.");null!==(t=this.markers)&&void 0!==t&&t.config.markers&&(gf.logWarn("No default markers can be configured on Markers plugin when using VirtualTour plugin. Consider defining `markers` on each tour node."),delete this.markers.config.markers),this.config.map&&(this.map=this.viewer.getPlugin("map"),this.map||gf.logWarn("The map is configured on the VirtualTourPlugin but the MapPlugin is not loaded.")),this.datasource=this.isServerSide?new YM(this,this.viewer):new XM(this,this.viewer),this.is3D?(this.viewer.observeObjects(FM),this.viewer.addEventListener(xd.PositionUpdatedEvent.type,this),this.viewer.addEventListener(xd.ZoomUpdatedEvent.type,this),this.viewer.addEventListener(xd.ClickEvent.type,this),this.viewer.addEventListener(xd.ObjectEnterEvent.type,this),this.viewer.addEventListener(xd.ObjectHoverEvent.type,this),this.viewer.addEventListener(xd.ObjectLeaveEvent.type,this),this.viewer.addEventListener(xd.ReadyEvent.type,this,{once:!0})):this.markers.addEventListener("select-marker",this),this.map&&(this.map.addEventListener("select-hotspot",this),this.map.setImage(this.config.map.imageUrl)),this.isServerSide?this.config.startNodeId&&this.setCurrentNode(this.config.startNodeId):this.config.nodes&&(this.setNodes(this.config.nodes,this.config.startNodeId),delete this.config.nodes)}},{key:"destroy",value:function(){var t;this.markers&&this.markers.removeEventListener("select-marker",this),this.arrowsGroup&&this.viewer.renderer.removeObject(this.arrowsGroup),null===(t=this.map)||void 0===t||t.removeEventListener("select-hotspot",this),this.viewer.removeEventListener(xd.PositionUpdatedEvent.type,this),this.viewer.removeEventListener(xd.ZoomUpdatedEvent.type,this),this.viewer.removeEventListener(xd.ClickEvent.type,this),this.viewer.removeEventListener(xd.ObjectEnterEvent.type,this),this.viewer.removeEventListener(xd.ObjectHoverEvent.type,this),this.viewer.removeEventListener(xd.ObjectLeaveEvent.type,this),this.viewer.removeEventListener(xd.ReadyEvent.type,this),this.viewer.unobserveObjects(FM),this.datasource.destroy(),delete this.datasource,delete this.markers,delete this.compass,delete this.gallery,delete this.arrowsGroup,xM(DM(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){if(t instanceof xd.ReadyEvent){this.__positionArrows(),this.viewer.renderer.addObject(this.arrowsGroup);var e=new lA(16777215,1);this.viewer.renderer.addObject(e),this.viewer.needsUpdate()}else if(t instanceof xd.PositionUpdatedEvent||t instanceof xd.ZoomUpdatedEvent)this.__positionArrows();else if(t instanceof xd.ClickEvent){var n,i=null===(n=t.data.objects.find((function(t){return t.userData[FM]})))||void 0===n?void 0:n.userData[FM];i&&this.setCurrentNode(i.nodeId,i)}else if("select-marker"===t.type){var r,a=null===(r=t.marker.data)||void 0===r?void 0:r[FM];a&&this.setCurrentNode(a.nodeId,a)}else if(t instanceof xd.ObjectEnterEvent)t.userDataKey===FM&&this.__onEnterObject(t.object,t.viewerPoint);else if(t instanceof xd.ObjectLeaveEvent)t.userDataKey===FM&&this.__onLeaveObject(t.object);else if(t instanceof xd.ObjectHoverEvent)t.userDataKey===FM&&this.__onHoverObject(t.viewerPoint);else if("select-hotspot"===t.type){var o=t.hotspotId;o.startsWith(UM)&&this.setCurrentNode(o.substring(13))}}},{key:"setNodes",value:function(t,e){var n=this;if(this.isServerSide)throw new Xf("Cannot set nodes in server side mode");this.datasource.setNodes(t),e?this.datasource.nodes[e]||(e=t[0].id,gf.logWarn("startNodeId not found is provided nodes, resetted to ".concat(e))):e=t[0].id,this.setCurrentNode(e),this.gallery&&this.gallery.setItems(t.map((function(t){return{id:t.id,panorama:t.panorama,name:t.name,thumbnail:t.thumbnail,options:{caption:t.caption,panoData:t.panoData,sphereCorrection:t.sphereCorrection,description:t.description}}})),(function(t){n.setCurrentNode(t)})),this.map&&this.map.setHotspots(bM(t.map((function(t){return _M(_M(_M({},t.map||{}),n.__getNodeMapPosition(t)),{},{id:UM+t.id,tooltip:t.name})}))))}},{key:"setCurrentNode",value:function(t,e){var n,i=this;if(t===(null===(n=this.state.currentNode)||void 0===n?void 0:n.id))return Promise.resolve(!0);this.viewer.hideError(),this.state.loadingNode=t;var r=this.state.currentNode,a=r&&e?this.__getLinkPosition(r,e):null;return Promise.all([Promise.resolve(this.state.preload[t]).then((function(){if(i.state.loadingNode!==t)throw gf.getAbortError();return i.datasource.loadNode(t)})),Promise.resolve(!!a&&this.config.rotateSpeed).then((function(t){if(t)return i.viewer.animate(_M(_M({},a),{},{speed:t}))})).then((function(){i.viewer.loader.show()}))]).then((function(e){var n,r,a,o,s=SM(e,1)[0];if(i.state.loadingNode!==t)throw gf.getAbortError();(i.state.currentNode=s,i.state.currentTooltip&&(i.state.currentTooltip.hide(),i.state.currentTooltip=null),i.is3D)&&(o=i.arrowsGroup).remove.apply(o,bM(i.arrowsGroup.children.filter((function(t){return t.isMesh}))));if(null===(n=i.gallery)||void 0===n||n.hide(),null===(r=i.markers)||void 0===r||r.clearMarkers(),null===(a=i.compass)||void 0===a||a.clearHotspots(),i.map){i.map.minimize();var l=i.__getNodeMapPosition(s);"number"===typeof i.config.transition?setTimeout((function(){return i.map.setCenter(l)}),i.config.transition/2):i.map.setCenter(l)}return i.viewer.setPanorama(s.panorama,{transition:i.config.transition,caption:s.caption,description:s.description,panoData:s.panoData,sphereCorrection:s.sphereCorrection}).then((function(t){if(!t)throw gf.getAbortError()}))})).then((function(){if(i.state.loadingNode!==t)throw gf.getAbortError();var n=i.state.currentNode;return n.markers&&i.__addNodeMarkers(n),i.__renderLinks(n),i.__preload(n),i.dispatchEvent(new BM(n,{fromNode:r,fromLink:e,fromLinkPosition:a})),i.state.loadingNode=null,!0})).catch((function(t){if(gf.isAbortError(t))return!1;throw i.viewer.showError(i.viewer.config.lang.loadError),i.viewer.loader.hide(),i.viewer.navbar.setCaption(""),i.state.loadingNode=null,t}))}},{key:"__renderLinks",value:function(t){var e=this,n=[];t.links.forEach((function(i){var r=e.__getLinkPosition(t,i);if(n.push(r),e.is3D){var a,o,s=new cy(GM,new vx);s.userData=kM({},FM,i),s.rotation.order="YXZ",s.rotateY(-r.yaw),e.viewer.dataHelper.sphericalCoordsToVector3({yaw:r.yaw,pitch:0},s.position).multiplyScalar(1/tf.SPHERE_RADIUS);var l=new cy(WM,new Ig({side:_v}));l.position.copy(s.position),l.rotation.copy(s.rotation),JM(s,(null===(a=i.arrowStyle)||void 0===a?void 0:a.color)||e.config.arrowStyle.color),JM(l,(null===(o=i.arrowStyle)||void 0===o?void 0:o.outlineColor)||e.config.arrowStyle.outlineColor),e.arrowsGroup.add(s),e.arrowsGroup.add(l)}else e.isGps&&(r.pitch+=e.config.markerPitchOffset),e.markers.addMarker(_M(_M(_M({},e.config.markerStyle),i.markerStyle),{},{position:r,id:UM+i.nodeId,tooltip:i.name,visible:!0,hideList:!0,data:kM({},FM,i)}),!1)})),this.is3D?this.__positionArrows():this.markers.renderMarkers(),this.config.linksOnCompass&&this.compass&&this.compass.setHotspots(n)}},{key:"__getLinkPosition",value:function(t,e){return this.isGps?ZM(t.gps,e.gps):this.viewer.dataHelper.cleanPosition(e.position)}},{key:"__onEnterObject",value:function(t,e){var n,i=t.userData[FM];JM(t,(null===(n=i.arrowStyle)||void 0===n?void 0:n.hoverColor)||this.config.arrowStyle.hoverColor),i.name&&(this.state.currentTooltip=this.viewer.createTooltip({left:e.x,top:e.y,content:i.name})),this.viewer.needsUpdate()}},{key:"__onHoverObject",value:function(t){this.state.currentTooltip&&this.state.currentTooltip.move({left:t.x,top:t.y})}},{key:"__onLeaveObject",value:function(t){var e;JM(t,(null===(e=t.userData[FM].arrowStyle)||void 0===e?void 0:e.color)||this.config.arrowStyle.color),this.state.currentTooltip&&(this.state.currentTooltip.hide(),this.state.currentTooltip=null),this.viewer.needsUpdate()}},{key:"__positionArrows",value:function(){this.arrowsGroup.position.copy(this.viewer.state.direction).multiplyScalar(.5);var t=this.config.arrowStyle.scale,e=t[1]+(t[0]-t[1])*(this.viewer.getZoomLevel()/100),n=2.5-this.viewer.getZoomLevel()/100*1.5;this.arrowsGroup.position.y+="bottom"===this.config.arrowPosition?-n:n,this.arrowsGroup.scale.set(e,e,e)}},{key:"__preload",value:function(t){var e=this;this.config.preload&&(this.state.preload[t.id]=!0,this.state.currentNode.links.filter((function(t){return!e.state.preload[t.nodeId]})).filter((function(t){return"function"!==typeof e.config.preload||e.config.preload(e.state.currentNode,t)})).forEach((function(t){e.state.preload[t.nodeId]=e.datasource.loadNode(t.nodeId).then((function(t){return e.viewer.textureLoader.preloadPanorama(t.panorama)})).then((function(){e.state.preload[t.nodeId]=!0})).catch((function(){delete e.state.preload[t.nodeId]}))})))}},{key:"__addNodeMarkers",value:function(t){var e=this;this.markers?this.markers.setMarkers(t.markers.map((function(n){var i;n.gps&&e.isGps&&(n.position=ZM(t.gps,n.gps),null!==(i=n.data)&&void 0!==i&&i.map&&e.map&&Object.assign(n.data.map,e.__getGpsMapPosition(n.gps)));return n}))):gf.logWarn("Node ".concat(t.id," markers ignored because the plugin is not loaded."))}},{key:"__getNodeMapPosition",value:function(t){var e=this.__getGpsMapPosition(t.gps);return e||(t.map?{x:t.map.x,y:t.map.y}:null)}},{key:"__getGpsMapPosition",value:function(t){var e=this.config.map;return this.isGps&&e.extent&&e.size?{x:Jv.mapLinear(t[0],e.extent[0],e.extent[2],0,e.size.width),y:Jv.mapLinear(t[1],e.extent[1],e.extent[3],0,e.size.height)}:null}}]),n}(Mp);function $M(t){return $M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$M(t)}function tE(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,eE(i.key),i)}}function eE(t){var e=function(t,e){if("object"!==$M(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==$M(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===$M(e)?e:String(e)}function nE(){return nE="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=aE(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},nE.apply(this,arguments)}function iE(t,e){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},iE(t,e)}function rE(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=aE(t);if(e){var r=aE(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===$M(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function aE(t){return aE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},aE(t)}KM.id="virtual-tour",KM.configParser=qM,KM.readonlyOptions=Object.keys(qM.defaults);var oE=1e-6,sE=gf.getConfigParser({verticalRange:null,horizontalRange:null,usePanoData:!1}),lE=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iE(t,e)}(a,t);var e,n,i,r=rE(a);function a(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this,t,e)}return e=a,n=[{key:"init",value:function(){nE(aE(a.prototype),"init",this).call(this),this.autorotate=this.viewer.getPlugin("autorotate"),this.viewer.addEventListener(xd.PanoramaLoadedEvent.type,this),this.viewer.addEventListener(xd.PositionUpdatedEvent.type,this),this.viewer.addEventListener(xd.ZoomUpdatedEvent.type,this),this.viewer.addEventListener(xd.BeforeAnimateEvent.type,this),this.viewer.addEventListener(xd.BeforeRotateEvent.type,this),this.setVerticalRange(this.config.verticalRange),this.setHorizontalRange(this.config.horizontalRange)}},{key:"destroy",value:function(){this.viewer.removeEventListener(xd.PanoramaLoadedEvent.type,this),this.viewer.removeEventListener(xd.PositionUpdatedEvent.type,this),this.viewer.removeEventListener(xd.ZoomUpdatedEvent.type,this),this.viewer.removeEventListener(xd.BeforeAnimateEvent.type,this),this.viewer.removeEventListener(xd.BeforeRotateEvent.type,this),nE(aE(a.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case xd.PanoramaLoadedEvent.type:this.config.usePanoData&&this.setRangesFromPanoData();break;case xd.BeforeRotateEvent.type:case xd.BeforeAnimateEvent.type:var e=t,n=this.__applyRanges(e.position,e.zoomLevel).rangedPosition;e.position=n;break;case xd.PositionUpdatedEvent.type:var i,r=t.position,a=this.__applyRanges(r),o=a.sidesReached,s=a.rangedPosition;(o.left||o.right)&&null!==(i=this.autorotate)&&void 0!==i&&i.isEnabled()?this.__reverseAutorotate(o.left,o.right):(Math.abs(r.yaw-s.yaw)>oE||Math.abs(r.pitch-s.pitch)>oE)&&this.viewer.dynamics.position.setValue(s);break;case xd.ZoomUpdatedEvent.type:var l=this.viewer.getPosition(),u=this.__applyRanges(l).rangedPosition;(Math.abs(l.yaw-u.yaw)>oE||Math.abs(l.pitch-u.pitch)>oE)&&this.viewer.dynamics.position.setValue(u)}}},{key:"setVerticalRange",value:function(t){t&&2!==t.length&&(gf.logWarn("vertical range must have exactly two elements"),t=null),t?(this.config.verticalRange=t.map((function(t){return gf.parseAngle(t,!0)})),this.config.verticalRange[0]>this.config.verticalRange[1]&&(gf.logWarn("vertical range values must be ordered"),this.config.verticalRange=[this.config.verticalRange[1],this.config.verticalRange[0]]),this.viewer.state.ready&&this.viewer.rotate(this.viewer.getPosition())):this.config.verticalRange=null}},{key:"setHorizontalRange",value:function(t){t&&2!==t.length&&(gf.logWarn("horizontal range must have exactly two elements"),t=null),t?(this.config.horizontalRange=t.map((function(t){return gf.parseAngle(t)})),this.viewer.state.ready&&this.viewer.rotate(this.viewer.getPosition())):this.config.horizontalRange=null}},{key:"setRangesFromPanoData",value:function(){this.setVerticalRange(this.__getPanoVerticalRange()),this.setHorizontalRange(this.__getPanoHorizontalRange())}},{key:"__getPanoVerticalRange",value:function(){var t=this.viewer.state.panoData;if(t.croppedHeight===t.fullHeight)return null;var e=function(e){return Math.PI*(1-e/t.fullHeight)-Math.PI/2};return[e(t.croppedY+t.croppedHeight),e(t.croppedY)]}},{key:"__getPanoHorizontalRange",value:function(){var t=this.viewer.state.panoData;if(t.croppedWidth===t.fullWidth)return null;var e=function(e){return 2*Math.PI*(e/t.fullWidth)-Math.PI};return[e(t.croppedX),e(t.croppedX+t.croppedWidth)]}},{key:"__applyRanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.viewer.getPosition(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.viewer.getZoomLevel(),n={yaw:t.yaw,pitch:t.pitch},i={},r=this.viewer.dataHelper.zoomLevelToFov(e),a=this.viewer.dataHelper.vFovToHFov(r);if(this.config.horizontalRange){var o=gf.clone(this.config.horizontalRange),s=Jv.degToRad(a)/2;o[0]=gf.parseAngle(o[0]+s),o[1]=gf.parseAngle(o[1]-s),o[0]>o[1]?t.yaw>o[1]&&t.yaw<o[0]&&(t.yaw>o[0]/2+o[1]/2?(n.yaw=o[0],i.left=!0):(n.yaw=o[1],i.right=!0)):t.yaw<o[0]?(n.yaw=o[0],i.left=!0):t.yaw>o[1]&&(n.yaw=o[1],i.right=!0)}if(this.config.verticalRange){var l=gf.clone(this.config.verticalRange),u=Jv.degToRad(r)/2;l[0]=gf.parseAngle(l[0]+u,!0),l[1]=gf.parseAngle(l[1]-u,!0),l[0]>l[1]&&(l[0]=(l[0]+l[1])/2,l[1]=l[0]),t.pitch<l[0]?(n.pitch=l[0],i.bottom=!0):t.pitch>l[1]&&(n.pitch=l[1],i.top=!0)}return{rangedPosition:n,sidesReached:i}}},{key:"__reverseAutorotate",value:function(t,e){t&&this.autorotate.config.autorotateSpeed>0||e&&this.autorotate.config.autorotateSpeed<0||this.autorotate.reverse()}}],n&&tE(e.prototype,n),i&&tE(e,i),Object.defineProperty(e,"prototype",{writable:!1}),a}(Mp);function uE(t){return uE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uE(t)}function cE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function hE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cE(Object(n),!0).forEach((function(e){fE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fE(t,e,n){return(e=bE(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dE(t){return function(t){if(Array.isArray(t))return gE(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||mE(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pE(){return pE="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ME(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},pE.apply(this,arguments)}function vE(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}}(t,e)||mE(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mE(t,e){if(t){if("string"===typeof t)return gE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gE(t,e):void 0}}function gE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function yE(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,bE(i.key),i)}}function wE(t,e,n){return e&&yE(t.prototype,e),n&&yE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bE(t){var e=function(t,e){if("object"!==uE(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==uE(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===uE(e)?e:String(e)}function xE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AE(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_E(t,e)}function _E(t,e){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_E(t,e)}function kE(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=ME(t);if(e){var r=ME(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===uE(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return SE(t)}(this,n)}}function SE(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ME(t){return ME=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ME(t)}lE.id="visible-range",lE.configParser=sE,lE.readonlyOptions=["horizontalRange","verticalRange"];var EE=Object.defineProperty;!function(t,e){for(var n in e)EE(t,n,{get:e[n],enumerable:!0})}({},{SelectHotspot:function(){return CE}});var CE=function(t){AE(n,t);var e=kE(n);function n(t){var i;return xE(this,n),(i=e.call(this,n.type)).hotspotId=t,i}return wE(n)}(Ad);CE.type="select-hotspot";var PE="__marker__";function TE(t,e,n){return{x:(Math.cos(-e)*t.x-Math.sin(-e)*t.y)*n,y:(Math.sin(-e)*t.x+Math.cos(-e)*t.y)*n}}function LE(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"black";t.shadowOffsetX=e*rp.pixelRatio,t.shadowOffsetY=n*rp.pixelRatio,t.shadowBlur=i*rp.pixelRatio,t.shadowColor=r}function OE(t,e,n){var i=e.width,r=e.height;zE(t,e,-n/2,-r/i*n/2,n,r/i*n)}function zE(t,e,n,i,r,a){t.drawImage(e,0,0,e.width,e.height,n*rp.pixelRatio,i*rp.pixelRatio,r*rp.pixelRatio,a*rp.pixelRatio)}var RE={top:"bottom",bottom:"top",left:"right",right:"left"};var DE=function(t){AE(n,t);var e=kE(n);function n(t,i){var r;return xE(this,n),(r=e.call(this,t,{})).map=t,r.position=i,r}return wE(n,[{key:"applyConfig",value:function(){this.container.className="psv-map__button psv-map__button--".concat(function(t,e){switch(e){case 1:return[RE[t[0]],RE[t[1]]];case 2:return[t[0],RE[t[1]]];case 3:return[RE[t[0]],t[1]];default:return t}}(this.map.config.position,this.position).join("-")),this.update()}},{key:"update",value:function(){}}]),n}(sp),IE=function(t){AE(n,t);var e=kE(n);function n(t){var i;return xE(this,n),(i=e.call(this,t,0)).container.addEventListener("click",(function(e){t.toggleCollapse(),e.stopPropagation()})),i}return wE(n,[{key:"applyConfig",value:function(){pE(ME(n.prototype),"applyConfig",this).call(this),this.container.classList.add("psv-map__button-close")}},{key:"update",value:function(){this.container.innerHTML=this.map.collapsed?'<svg viewBox="114 45 472 472" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="M383.6 196a67.3 67.3 0 1 0-134.5.1 67.3 67.3 0 0 0 134.5-.1zm-100.8 0a33.6 33.6 0 1 1 67.3 0 33.6 33.6 0 0 1-67.3 0z"/><path d="M584 340.8a16.8 16.8 0 0 0-15.6-10.4H403.8c25.2-40.2 47-88 47-133.4A135 135 0 0 0 316.4 61.6 135 135 0 0 0 182 197c0 55.8 33 115.3 64.7 159.8L120.4 469a16.8 16.8 0 0 0 11.2 29.4H434c4.5 0 8.7-1.8 11.9-5l134.4-134.3c4.8-4.8 6.2-12 3.6-18.3zM215.5 197c0-56.1 45.2-101.8 100.8-101.8 55.6 0 100.8 45.6 100.8 101.8 0 65-57.1 144.2-100.8 192.8C273 341.7 215.6 262.3 215.6 197zM427 464.8H175.8l91.3-81.1a575.6 575.6 0 0 0 37.4 42.6 16.8 16.8 0 0 0 23.8 0c2.2-2.2 26.3-26.7 52.6-62.3h147z"/></g>\x3c!-- Created by Ayub Irawan from Noun Project --\x3e</svg>':tf.ICONS.close,this.container.title=this.map.collapsed?this.viewer.config.lang.map:this.viewer.config.lang.close}}]),n}(DE),BE=function(t){AE(n,t);var e=kE(n);function n(t){var i;return xE(this,n),(i=e.call(this,t,3)).container.innerHTML='<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M50,0L70,50L50,100L30,50Z M50,86L64,50L36,50Z" fill="currentColor"/></svg>',i.container.querySelector("svg").style.width="80%",i.container.addEventListener("click",(function(e){i.viewer.dynamics.position.goto({yaw:-t.config.rotation},2),e.stopPropagation()})),i}return wE(n,[{key:"rotate",value:function(t){this.container.querySelector("svg").style.transform="rotate3d(0, 0, 1, ".concat(-t,"rad)")}}]),n}(DE),NE={"bottom-left":0,"bottom-right":-90,"top-right":180,"top-left":90},jE=function(t){AE(n,t);var e=kE(n);function n(t){var i;return xE(this,n),(i=e.call(this,t,1)).container.addEventListener("click",(function(e){t.toggleMaximized(),e.stopPropagation()})),i}return wE(n,[{key:"update",value:function(){this.container.innerHTML=this.map.maximized?'<svg viewBox="95 25 510 510" xmlns="http://www.w3.org/2000/svg"><path d="M109.8 25.8h481c7.8 0 14 6.1 14 14v481c0 7.8-6.2 14-14 14H358.4c-7.8 0-14-6.2-14-14s6.2-14 14-14h217.8v-453H123.8v216.7c0 7.8-6.2 14-14 14-7.9 0-14-6.2-14-14V39.8c0-7.9 6.1-14 14-14zm176.4 508.4H109.8c-7.9 0-14-6.1-14-14V343.8c0-7.8 6.1-14 14-14h176.4c7.8 0 14 6.2 14 14v176.4c0 7.9-6.8 14-14 14zm-14-176.4H123.8v148.4h148.4zm64.4-191.5c-7.9 0-14 6.2-14 14v113.1c0 7.9 6.1 14 14 14h113c8 0 14-6.1 14-14s-6-14-14-14h-79.4l141-141a13.5 13.5 0 0 0 0-19.7 13.5 13.5 0 0 0-19.5 0L350.6 259.8v-79.5c0-7.8-6.2-14-14-14z" fill="currentColor"/>\x3c!-- Created by Gregor Cresnar from Noun Project --\x3e</svg>':'<svg viewBox="95 25 510 510" xmlns="http://www.w3.org/2000/svg"><path d="M604.2 39.8v481c0 7.8-6.1 14-14 14H358.4c-7.8 0-14-6.2-14-14s6.2-14 14-14h217.8v-453H123.8v216.7c0 7.8-6.2 14-14 14-7.9 0-14-6.2-14-14V39.8c0-7.9 6.1-14 14-14h481c7.3 0 13.4 6.1 13.4 14zm-304 304v176.4c0 7.9-6.2 14-14 14H109.8c-7.9 0-14-6.1-14-14V343.8c0-7.8 6.1-14 14-14h176.4c7.2 0 14 6.8 14 14zm-28 14H123.8v148.4h148.4zm215.6-195.4v79.5c0 7.9 6.1 14 14 14 7.8 0 14-6.1 14-14V128.2c0-7.8-6.2-14-14-14H388.6c-7.8 0-14 6.2-14 14 0 7.9 6.2 14 14 14h79L326.5 283.4a13.5 13.5 0 0 0 0 19.6c2.8 2.8 6.1 3.9 10 3.9 4 0 7.3-1.1 10.1-4z" fill="currentColor"/>\x3c!-- Created by Gregor Cresnar from Noun Project --\x3e</svg>',this.container.querySelector("svg").style.transform="rotate3d(0, 0, 1, ".concat(NE[this.map.config.position.join("-")],"deg)"),this.container.title=this.map.maximized?this.viewer.config.lang.mapMinimize:this.viewer.config.lang.mapMaximize}}]),n}(DE),FE=function(t){AE(n,t);var e=kE(n);function n(t){var i;return xE(this,n),(i=e.call(this,t,2)).container.title=i.viewer.config.lang.mapReset,i.container.innerHTML='<svg viewBox="170 100 360 360" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="M518.6 269h-18.5a150.8 150.8 0 0 0-138-137.9v-20.9c0-5.8-4.7-10.6-10.5-10.6h-3.2c-5.8 0-10.6 4.8-10.6 10.6v21A150.8 150.8 0 0 0 200 269h-18.5c-5.9 0-10.6 4.7-10.6 10.6v3.2c0 5.8 4.7 10.5 10.6 10.5h18.5c6 73.4 64.6 132 138 138v18.5c0 5.8 4.7 10.6 10.5 10.6h3.2c5.8 0 10.6-4.8 10.6-10.6v-18.6c73.3-5.9 132-64.5 137.9-137.9h18.5c5.9 0 10.6-4.7 10.6-10.5v-3.2c0-5.9-4.7-10.6-10.6-10.6zM362.2 414.4v-9.8c0-5.9-4.8-10.6-10.6-10.6h-3.2c-5.8 0-10.6 4.7-10.6 10.6v9.8a134 134 0 0 1-121-121h9.8c5.9 0 10.6-4.8 10.6-10.6v-3.2c0-5.9-4.7-10.6-10.6-10.6h-9.8a134 134 0 0 1 121-121v7.5c0 5.8 4.8 10.5 10.6 10.5h3.2c5.8 0 10.6-4.7 10.6-10.5V148a134 134 0 0 1 121 121h-9.8c-5.9 0-10.6 4.7-10.6 10.6v3.2c0 5.8 4.7 10.5 10.6 10.5h9.8a134 134 0 0 1-121 121z"/><path d="M355.4 222a6 6 0 0 0-10.7 0L291 320a8.3 8.3 0 0 0 9.7 12l39.2-11.7c6.6-2 13.6-2 20.2 0l39.2 11.7a8.3 8.3 0 0 0 9.7-12z"/></g>\x3c!-- Created by muhammad benani from Noun Project --\x3e</svg>',i.container.querySelector("svg").style.width="80%",i.container.addEventListener("click",(function(e){t.reset(),e.stopPropagation()})),i}return wE(n)}(DE),UE=function(t){AE(n,t);var e=kE(n);function n(t){var i;xE(this,n),(i=e.call(this,t,{className:"psv-map__toolbar"})).map=t,i.handler=new gf.PressHandler(100),i.container.innerHTML="".concat('<svg viewBox="128 58 444 444" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M350 58.2a221.8 221.8 0 1 0 0 443.6 221.8 221.8 0 0 0 0-443.6zm130.3 252.7H219.7a31 31 0 1 1 0-61.8h260.6a31 31 0 1 1 0 61.8z"/>\x3c!-- Created by Iconika from Noun Project --\x3e</svg>','<span class="psv-map__toolbar-text">100%</span>').concat('<svg viewBox="143.8 73.8 412.5 412.5" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M350 73.8a206.2 206.2 0 1 0 0 412.4 206.2 206.2 0 0 0 0-412.4zm117.3 234H378v89.5a27.9 27.9 0 1 1-55.8 0V308h-89.4a27.9 27.9 0 1 1 0-55.8H322v-89.5a27.9 27.9 0 1 1 55.8 0v89.5h89.5a27.9 27.9 0 1 1 0 55.8z"/>\x3c!-- Created by Iconika from Noun Project --\x3e</svg>'),i.zoomIndicator=i.container.querySelector(".psv-map__toolbar-text");var r=i.container.querySelectorAll("svg");return r[0].dataset.delta="-1",r[1].dataset.delta="1",i.container.addEventListener("mousedown",SE(i)),window.addEventListener("mouseup",SE(i)),i.container.addEventListener("touchstart",SE(i)),window.addEventListener("touchend",SE(i)),i}return wE(n,[{key:"destroy",value:function(){window.removeEventListener("mouseup",this),window.removeEventListener("touchend",this),pE(ME(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){var e=this;switch(t.type){case"mousedown":case"touchstart":var n=gf.getClosest(t.target,"svg"),i=null===n||void 0===n?void 0:n.dataset.delta;i&&(cancelAnimationFrame(this.animation),this.handler.down(),this.time=performance.now(),this.animateZoom(parseInt(i,10)),t.preventDefault(),t.stopPropagation());break;case"mouseup":case"touchend":this.animation&&(this.handler.up((function(){cancelAnimationFrame(e.animation),e.animation=null})),t.preventDefault(),t.stopPropagation())}}},{key:"setText",value:function(t){this.zoomIndicator.innerText="".concat(Math.round(100*Math.exp(t)),"%")}},{key:"animateZoom",value:function(t){var e=this;this.animation=requestAnimationFrame((function(n){e.map.zoom(t*(n-e.time)/1e3),e.time=n,e.animateZoom(t)}))}}]),n}(sp),HE=function(t){AE(n,t);var e=kE(n);function n(t,i){var r;xE(this,n),(r=e.call(this,t,{className:"psv-map psv--capture-event"})).plugin=i,r.state={visible:!1,maximized:!1,collapsed:!1,imgScale:1,zoom:r.config.defaultZoom,offset:{x:0,y:0},mouseX:null,mouseY:null,mousedown:!1,pinchDist:0,pinchAngle:0,hotspotPos:{},hotspotId:null,hotspotTooltip:null,markers:[],forceRender:!1,needsUpdate:!1,renderLoop:null,images:{}};var a=document.createElement("div");a.className="psv-map__container",a.addEventListener("mousedown",SE(r)),window.addEventListener("mousemove",SE(r)),window.addEventListener("mouseup",SE(r)),a.addEventListener("touchstart",SE(r)),window.addEventListener("touchmove",SE(r)),window.addEventListener("touchend",SE(r)),a.addEventListener("wheel",SE(r)),r.canvas=document.createElement("canvas"),a.appendChild(r.canvas),r.overlay=document.createElement("div"),r.overlay.className="psv-map__overlay",a.appendChild(r.overlay),r.container.appendChild(a),r.container.addEventListener("transitionstart",SE(r)),r.container.addEventListener("transitionend",SE(r)),r.resetButton=new FE(SE(r)),r.maximizeButton=new jE(SE(r)),r.closeButton=new IE(SE(r)),r.compassButton=new BE(SE(r)),r.zoomToolbar=new UE(SE(r));return function t(){r.isVisible()&&(r.state.needsUpdate||r.state.forceRender)&&(r.render(),r.state.needsUpdate=!1),r.state.renderLoop=requestAnimationFrame(t)}(),r.applyConfig(),r.hide(),r.config.visibleOnLoad||r.toggleCollapse(),r}return wE(n,[{key:"config",get:function(){return this.plugin.config}},{key:"maximized",get:function(){return this.state.maximized}},{key:"collapsed",get:function(){return this.state.collapsed}},{key:"destroy",value:function(){window.removeEventListener("touchmove",this),window.removeEventListener("mousemove",this),window.removeEventListener("touchend",this),window.removeEventListener("mouseup",this),cancelAnimationFrame(this.state.renderLoop),pE(ME(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case"mousedown":var e=t;this.state.mouseX=e.clientX,this.state.mouseY=e.clientY,this.state.mousedown=!0,t.stopPropagation();break;case"touchstart":var n=t;if(1===n.touches.length)this.state.mouseX=n.touches[0].clientX,this.state.mouseY=n.touches[0].clientY,this.state.mousedown=!0;else if(2===n.touches.length){var i=gf.getTouchData(n);this.state.pinchDist=i.distance,this.state.pinchAngle=i.angle;var r=i.center;this.state.mouseX=r.x,this.state.mouseY=r.y}t.stopPropagation(),t.preventDefault();break;case"mousemove":var a=t;this.state.mousedown?(this.__move(a.clientX,a.clientY),t.stopPropagation()):this.__handleHotspots(a.clientX,a.clientY);break;case"touchmove":var o=t;if(this.state.mousedown&&1===o.touches.length)this.__move(o.touches[0].clientX,o.touches[0].clientY),t.stopPropagation();else if(this.state.mousedown&&2===o.touches.length){var s=gf.getTouchData(o),l=(s.distance-this.state.pinchDist)/rp.pixelRatio;this.zoom(l/100),this.__move(s.center.x,s.center.y),this.state.maximized&&!this.config.static&&this.viewer.dynamics.position.step({yaw:this.state.pinchAngle-s.angle},0),this.state.pinchDist=s.distance,this.state.pinchAngle=s.angle,t.stopPropagation()}break;case"mouseup":case"touchend":var u,c=(null===(u=t.changedTouches)||void 0===u?void 0:u[0])||t;this.state.mousedown&&(this.state.mousedown=!1,t.stopPropagation()),this.__clickHotspot(c.clientX,c.clientY);break;case"wheel":var h=t,f=h.deltaY/Math.abs(h.deltaY);this.zoom(-f/10),t.stopPropagation(),t.preventDefault();break;case"transitionstart":this.state.forceRender=!0;break;case"transitionend":this.state.maximized||(this.overlay.style.display=""),this.state.forceRender=!1,this.update()}}},{key:"applyConfig",value:function(){this.container.classList.remove("psv-map--top-right","psv-map--top-left","psv-map--bottom-right","psv-map--bottom-left"),this.container.classList.add("psv-map--".concat(this.config.position.join("-"))),this.container.style.width=this.config.size,this.container.style.height=this.config.size,this.overlay.innerHTML=function(t){return t?t.includes("<svg")?t:'<img src="'.concat(t,'">'):""}(this.config.overlayImage),this.resetButton.applyConfig(),this.closeButton.applyConfig(),this.compassButton.applyConfig(),this.maximizeButton.applyConfig(),this.config.static&&(this.compassButton.rotate(0),this.overlay.style.transform=""),this.update()}},{key:"isVisible",value:function(){return this.state.visible&&!this.state.collapsed}},{key:"show",value:function(){pE(ME(n.prototype),"show",this).call(this),this.update(),this.state.maximized||(this.overlay.style.display="")}},{key:"hide",value:function(){pE(ME(n.prototype),"hide",this).call(this),this.state.forceRender=!1}},{key:"update",value:function(){this.state.needsUpdate=!0}},{key:"reload",value:function(t){delete this.state.images[this.config.imageUrl],this.config.imageUrl=t,this.state.imgScale=1,this.__loadImage(this.config.imageUrl,!0),this.recenter()}},{key:"reset",value:function(){this.state.zoom=this.config.defaultZoom,this.recenter()}},{key:"recenter",value:function(){this.state.offset.x=0,this.state.offset.y=0,this.update()}},{key:"toggleCollapse",value:function(){this.state.maximized&&this.toggleMaximized(),this.state.collapsed=!this.state.collapsed,gf.toggleClass(this.container,"psv-map--collapsed",this.state.collapsed),this.state.collapsed||this.reset(),this.closeButton.update()}},{key:"toggleMaximized",value:function(){this.state.collapsed||(this.state.maximized=!this.state.maximized,gf.toggleClass(this.container,"psv-map--maximized",this.state.maximized),this.state.maximized&&(this.overlay.style.display="none"),this.maximizeButton.update())}},{key:"zoom",value:function(t){this.state.zoom=Jv.clamp(this.state.zoom+t,this.config.minZoom,this.config.maxZoom),this.update()}},{key:"setMarkers",value:function(t){this.state.markers=t,this.update()}},{key:"render",value:function(){var t=this;if(this.config.center){var e=this.__loadImage(this.config.imageUrl);if(e){this.state.hotspotPos={},this.__resetHotspot();var n=this.viewer.getPosition().yaw,i=Math.exp(this.state.zoom)/this.state.imgScale,r=this.config.center.x*this.state.imgScale,a=this.config.center.y*this.state.imgScale,o={x:this.state.offset.x*this.state.imgScale,y:this.state.offset.y*this.state.imgScale},s=this.config.rotation,l=this.config.static?0:n+s;this.config.static||(this.overlay.style.transform="rotate(".concat(-l,"rad)"),this.compassButton.rotate(l)),this.zoomToolbar.setText(this.state.zoom),this.canvas.width=this.container.clientWidth*rp.pixelRatio,this.canvas.height=this.container.clientHeight*rp.pixelRatio;var u=gf.getPosition(this.canvas),c=this.canvas.width,h=this.canvas.height,f=c/2/rp.pixelRatio,d=h/2/rp.pixelRatio,p=this.canvas.getContext("2d");p.clearRect(0,0,c,h);var v=e.width,m=e.height;p.save(),p.translate(c/2,h/2),p.rotate(-l),p.scale(i,i),LE(p,0,0,10),zE(p,e,-r-o.x,-a-o.y,v,m),p.restore(),[].concat(dE(this.config.hotspots),dE(this.state.markers)).forEach((function(e){var n=t.__loadImage(e.image||t.config.spotImage),c=hE({},o);if("yaw"in e&&"distance"in e){var h=gf.parseAngle(e.yaw)+s;c.x+=Math.sin(-h)*e.distance*t.state.imgScale,c.y+=Math.cos(-h)*e.distance*t.state.imgScale}else{if(!("x"in e)||!("y"in e))return void gf.logWarn("Hotspot ".concat(e.id," is missing position (yaw+distance or x+y)"));c.x+=r-e.x*t.state.imgScale,c.y+=a-e.y*t.state.imgScale}var v=TE(c,l,i),m=f-v.x,g=d-v.y,y=e.size||t.config.spotSize;t.state.hotspotPos[e.id]={x:m+u.x,y:g+u.y,s:y},p.save(),p.translate(m*rp.pixelRatio,g*rp.pixelRatio),LE(p,2,2,4),n?OE(p,n,y):(p.fillStyle=e.color||t.config.spotColor,p.beginPath(),p.arc(0,0,y*rp.pixelRatio/2,0,2*Math.PI),p.fill()),p.restore()}));var g=this.__loadImage(this.config.pinImage);if(g){var y=TE(o,l,i),w=f-y.x,b=d-y.y,x=this.config.pinSize,A=this.config.static?n+s:0;p.save(),p.translate(w*rp.pixelRatio,b*rp.pixelRatio),p.rotate(A),LE(p,2,2,4),OE(p,g,x),p.restore()}}}}},{key:"__move",value:function(t,e){var n=this.viewer.getPosition().yaw,i=Math.exp(this.state.zoom),r=function(t,e,n){return{x:(Math.cos(e)*t.x-Math.sin(e)*t.y)/n,y:(Math.sin(e)*t.x+Math.cos(e)*t.y)/n}}({x:this.state.mouseX-t,y:this.state.mouseY-e},this.config.static?0:n+this.config.rotation,i);this.state.offset.x+=r.x,this.state.offset.y+=r.y,this.update(),this.state.mouseX=t,this.state.mouseY=e}},{key:"__findHotspot",value:function(t,e){for(var n=this.config.spotSize/2,i=null,r=0,a=Object.entries(this.state.hotspotPos);r<a.length;r++){var o=vE(a[r],2),s=o[0],l=o[1],u=l.x,c=l.y;if(t>u-n&&t<u+n&&e>c-n&&e<c+n){i=s;break}}return i}},{key:"__handleHotspots",value:function(t,e){var n=this.__findHotspot(t,e);if(this.state.hotspotId!==n){if(this.__resetHotspot(),n){var i,r,a;if(n.startsWith(PE))i=null===(r=this.state.markers.find((function(t){return t.id===n})))||void 0===r?void 0:r.tooltip;else i=null===(a=this.config.hotspots.find((function(t){return t.id===n})))||void 0===a?void 0:a.tooltip;if(i){var o=this.state.hotspotPos[n],s=gf.getPosition(this.viewer.container);this.state.hotspotTooltip=this.viewer.createTooltip({content:i,left:o.x-s.x,top:o.y-s.y,box:{width:o.s,height:o.s}})}}this.state.hotspotId=n}}},{key:"__clickHotspot",value:function(t,e){var n=this.__findHotspot(t,e);if(n){if(this.plugin.dispatchEvent(new CE(n)),n.startsWith(PE)){var i=n.substring(10);this.viewer.getPlugin("markers").gotoMarker(i)}this.maximized&&this.toggleMaximized()}this.__resetHotspot()}},{key:"__resetHotspot",value:function(){var t;null===(t=this.state.hotspotTooltip)||void 0===t||t.hide(),this.state.hotspotTooltip=null,this.state.hotspotId=null}},{key:"__loadImage",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;if(!this.state.images[t]){var i=function(t){var e=document.createElement("img");if(t.includes("<svg")){if(!/<svg[^>]*width="/.test(t)&&t.includes("viewBox")){var n=vE(/viewBox="([0-9-]+) ([0-9-]+) ([0-9]+) ([0-9]+)"/.exec(t),5),i=n[3],r=n[4];t=t.replace("<svg",'<svg width="'.concat(i,'px" height="').concat(r,'px"'))}var a="data:image/svg+xml;base64,".concat(window.btoa(t));e.src=a}else e.src=t;return e}(t);return this.state.images[t]={loading:!0,value:i},i.onload=function(){if(n&&Math.max(i.width,i.height)>rp.maxCanvasWidth){e.state.imgScale=rp.maxCanvasWidth/Math.max(i.width,i.height);var r=document.createElement("canvas");r.width=i.width*e.state.imgScale,r.height=i.height*e.state.imgScale,r.getContext("2d").drawImage(i,0,0,r.width,r.height),e.state.images[t].value=r}e.state.images[t].loading=!1,e.update(),n&&e.show()},null}return this.state.images[t].loading?null:this.state.images[t].value}}]),n}(sp),VE=gf.getConfigParser({imageUrl:null,center:null,rotation:0,size:"200px",position:["bottom","left"],visibleOnLoad:!0,overlayImage:'<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">\n    <defs>\n        <radialGradient id="gradient">\n            <stop offset="80%" stop-color="rgba(255, 255, 255, 0)"/>\n            <stop offset="90%" stop-color="rgba(255, 255, 255, .5)"/>\n        </radialGradient>\n    </defs>\n    <circle cx="250" cy="250" r="250" fill="url(#gradient)"/>\n    <circle cx="250" cy="250" r="245" fill="none" stroke="rgba(255, 255, 255, 0.8)" stroke-width="10"/>\n    <g fill="#222">\n        <rect x="1" y="248" width="18" height="4"/>\n        <rect x="481" y="248" width="18" height="4"/>\n        <rect x="248" y="1" width="4" height="18"/>\n        <rect x="248" y="481" width="4" height="18"/>\n    </g>\n</svg>',compassImage:null,pinImage:'<svg viewBox="-20 -20 740 740" xmlns="http://www.w3.org/2000/svg">\n    <path d="M350 540a189.4 189.4 0 0 1-189.2-189.1c0-92.4 47.7-143 98.3-225L350-20l90.9 146c50.6 81.9 98.2 132.5 98.2 224.9A189.4 189.4 0 0 1 350 540z" fill="white"/>\n    <circle cx="350" cy="350" r="150" fill="#1E78E6"/>\n</svg>\n',pinSize:35,spotColor:"white",spotImage:null,spotSize:15,static:!1,defaultZoom:100,minZoom:20,maxZoom:200,hotspots:[]},{overlayImage:function(t,e){var n=e.rawConfig;return n.compassImage?(gf.logWarn('map: "compassImage" is deprecated, use "overlayImage" instead'),n.compassImage):t},position:function(t,e){var n=e.defValue;return gf.cleanCssPosition(t,{allowCenter:!1,cssOrder:!0})||n},rotation:function(t){return gf.parseAngle(t)},defaultZoom:function(t){return Math.log(t/100)},maxZoom:function(t){return Math.log(t/100)},minZoom:function(t){return Math.log(t/100)}}),GE=function(t){AE(n,t);var e=kE(n);function n(t,i){var r;return xE(this,n),(r=e.call(this,t,i)).component=new HE(r.viewer,SE(r)),r}return wE(n,[{key:"init",value:function(){pE(ME(n.prototype),"init",this).call(this),this.markers=this.viewer.getPlugin("markers"),this.viewer.addEventListener(xd.PositionUpdatedEvent.type,this),this.viewer.addEventListener(xd.SizeUpdatedEvent.type,this),this.viewer.addEventListener(xd.ReadyEvent.type,this,{once:!0}),this.setHotspots(this.config.hotspots,!1),this.markers&&this.markers.addEventListener("set-markers",this)}},{key:"destroy",value:function(){this.viewer.removeEventListener(xd.PositionUpdatedEvent.type,this),this.viewer.removeEventListener(xd.SizeUpdatedEvent.type,this),this.viewer.removeEventListener(xd.ReadyEvent.type,this),this.markers&&this.markers.removeEventListener("set-markers",this),this.component.destroy(),delete this.markers,pE(ME(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case xd.ReadyEvent.type:this.component.reload(this.config.imageUrl);break;case xd.PositionUpdatedEvent.type:this.component.update();break;case xd.SizeUpdatedEvent.type:this.component.maximized&&this.component.update();break;case"set-markers":this.component.setMarkers(this.__markersToHotspots(t.markers))}}},{key:"setOptions",value:function(t){pE(ME(n.prototype),"setOptions",this).call(this,t),this.component.applyConfig()}},{key:"hide",value:function(){this.component.hide()}},{key:"show",value:function(){this.component.show()}},{key:"close",value:function(){this.component.collapsed||this.component.toggleCollapse()}},{key:"open",value:function(){this.component.collapsed&&this.component.toggleCollapse()}},{key:"minimize",value:function(){this.component.maximized&&this.component.toggleMaximized()}},{key:"maximize",value:function(){this.component.maximized||this.component.toggleMaximized()}},{key:"setImage",value:function(t,e,n){gf.isNil(n)||(this.config.rotation=gf.parseAngle(n)),gf.isNil(e)||(this.config.center=e),this.component.reload(t)}},{key:"setCenter",value:function(t){this.config.center=t,this.component.recenter()}},{key:"setHotspots",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],i=1;null===t||void 0===t||t.forEach((function(t){t.id?n.includes(t.id)?gf.logWarn('Duplicated hotspot id "'.concat(t.id)):n.push(t.id):t.id="__generated__"+i++})),this.config.hotspots=t||[],e&&this.component.update()}},{key:"clearHotspots",value:function(){this.setHotspots(null)}},{key:"__markersToHotspots",value:function(t){return t.filter((function(t){var e;return null===(e=t.data)||void 0===e?void 0:e.map})).map((function(t){var e,n=t.data.map,i=hE(hE({},n),{},{id:PE+t.id,tooltip:null===(e=t.config.tooltip)||void 0===e?void 0:e.content});if("distance"in n)i.yaw=t.state.position.yaw;else if(!("x"in n)||!("y"in n))return gf.logWarn("Marker ".concat(t.id,' "map" data is missing position (distance or x+y)')),null;return i})).filter((function(t){return t}))}}]),n}(Mp);function WE(){WE=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(C){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),s=new S(r||[]);return i(o,"_invoke",{value:x(t,n,s)}),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(C){return{type:"throw",arg:C}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var v={};l(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(M([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=p.prototype=f.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(i,a,o,s){var l=c(t[i],t,a);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==$E(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(h).then((function(t){u.value=t,o(u)}),(function(t){return r("throw",t,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function x(t,e,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return E()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=A(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(t,e,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function A(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=c(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function M(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=p,i(y,"constructor",{value:p,configurable:!0}),i(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),l(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new b(u(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},w(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=M,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return o.type="throw",o.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:M(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function QE(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,r)}function XE(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){QE(a,i,r,o,s,"next",t)}function s(t){QE(a,i,r,o,s,"throw",t)}o(void 0)}))}}function YE(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,JE(i.key),i)}}function JE(t){var e=function(t,e){if("object"!==$E(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==$E(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===$E(e)?e:String(e)}function ZE(t,e){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ZE(t,e)}function qE(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=KE(t);if(e){var r=KE(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===$E(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function KE(t){return KE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},KE(t)}function $E(t){return $E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$E(t)}GE.id="map",GE.configParser=VE,GE.readonlyOptions=["imageUrl","center","visibleOnLoad","hotspots","defaultZoom"],Cp.lang.map="Map",Cp.lang.mapMaximize="Maximize",Cp.lang.mapMinimize="Minimize",Cp.lang.mapReset="Reset";var tC=[0,2,4,5,3,1],eC=["left","right","top","bottom","back","front"];function nC(t){return t&&"object"===$E(t)&&eC.every((function(e){return e in t}))}function iC(t){var e=[];if(6!==t.length)throw new Xf("A cubemap array must contain exactly 6 images.");for(var n=0;n<6;n++)e[n]=t[tC[n]];return e}function rC(t){var e=[];if(!nC(t))throw new Xf("A cubemap object must contain exactly left, front, right, back, top, bottom images.");return eC.forEach((function(n,i){e[i]=t[n]})),e}var aC=gf.getConfigParser({flipTopBottom:!1,blur:!1}),oC=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZE(t,e)}(a,t);var e,n,i,r=qE(a);function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=r.call(this,t)).config=aC(e),n}return e=a,n=[{key:"supportsTransition",value:function(){return!0}},{key:"supportsPreload",value:function(){return!0}},{key:"loadTexture",value:function(){var t=XE(WE().mark((function t(e){var n,i,r;return WE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.viewer.config.fisheye&&gf.logWarn("fisheye effect with cubemap texture can generate distorsion"),n=Array.isArray(e)||nC(e)?{type:"separate",paths:e}:e,t.t0=n.type,t.next="separate"===t.t0?5:"stripe"===t.t0?10:"net"===t.t0?14:18;break;case 5:return r=Array.isArray(n.paths)?iC(n.paths):rC(n.paths),t.next=8,this.loadTexturesSeparate(r);case 8:case 12:case 16:return i=t.sent,t.abrupt("break",19);case 10:return t.next=12,this.loadTexturesStripe(n.path,n.order);case 14:return t.next=16,this.loadTexturesNet(n.path);case 18:throw new Xf("Invalid cubemap panorama, are you using the right adapter?");case 19:return t.abrupt("return",{panorama:e,texture:i});case 20:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"loadTexturesSeparate",value:function(t){for(var e=this,n=[],i=[0,0,0,0,0,0],r=function(r){n.push(e.viewer.textureLoader.loadImage(t[r],(function(t){i[r]=t,e.viewer.loader.setProgress(gf.sum(i)/6)})).then((function(t){return e.createCubemapTexture(t)})))},a=0;a<6;a++)r(a);return Promise.all(n)}},{key:"createCubemapTexture",value:function(t){if(t.width!==t.height&&gf.logWarn("Invalid cubemap image, the width should equal the height"),this.config.blur||t.width>rp.maxTextureWidth){var e=Math.min(1,rp.maxCanvasWidth/t.width),n=document.createElement("canvas");n.width=t.width*e,n.height=t.height*e;var i=n.getContext("2d");return this.config.blur&&(i.filter="blur(1px)"),i.drawImage(t,0,0,n.width,n.height),gf.createTexture(n)}return gf.createTexture(t)}},{key:"loadTexturesStripe",value:function(){var t=XE(WE().mark((function t(e){var n,i,r,a,o,s,l,u,c=this,h=arguments;return WE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:["left","front","right","back","top","bottom"],t.next=3,this.viewer.textureLoader.loadImage(e,(function(t){return c.viewer.loader.setProgress(t)}));case 3:for((i=t.sent).width!==6*i.height&&gf.logWarn("Invalid cubemap image, the width should be six times the height"),r=Math.min(1,rp.maxCanvasWidth/i.height),a=i.height*r,o={},s=0;s<6;s++)(l=document.createElement("canvas")).width=a,l.height=a,u=l.getContext("2d"),this.config.blur&&(u.filter="blur(1px)"),u.drawImage(i,i.height*s,0,i.height,i.height,0,0,a,a),o[n[s]]=gf.createTexture(l);return t.abrupt("return",rC(o));case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"loadTexturesNet",value:function(){var t=XE(WE().mark((function t(e){var n,i,r,a,o,s,l,u,c=this;return WE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.viewer.textureLoader.loadImage(e,(function(t){return c.viewer.loader.setProgress(t)}));case 2:for((n=t.sent).width/4!==n.height/3&&gf.logWarn("Invalid cubemap image, the width should be 4/3rd of the height"),i=Math.min(1,rp.maxCanvasWidth/(n.width/4)),r=n.width/4*i,a=[[0,1/3],[.5,1/3],[1/4,0],[1/4,2/3],[3/4,1/3],[1/4,1/3]],o=[],s=0;s<6;s++)(l=document.createElement("canvas")).width=r,l.height=r,u=l.getContext("2d"),this.config.blur&&(u.filter="blur(1px)"),u.drawImage(n,n.width*a[s][0],n.height*a[s][1],n.width/4,n.height/3,0,0,r,r),o[s]=gf.createTexture(l);return t.abrupt("return",o);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"createMesh",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=2*tf.SPHERE_RADIUS*t,n=new fy(e,e,e).scale(1,1,-1),i=[],r=0;r<6;r++)i.push(ep.createOverlayMaterial({additionalUniforms:{rotation:{value:0}},overrideVertexShader:"\nuniform float rotation;\nvarying vec2 vUv;\nconst float mid = 0.5;\nvoid main() {\n  if (rotation == 0.0) {\n    vUv = uv;\n  } else {\n    vUv = vec2(\n      cos(rotation) * (uv.x - mid) + sin(rotation) * (uv.y - mid) + mid,\n      cos(rotation) * (uv.y - mid) - sin(rotation) * (uv.x - mid) + mid\n    );\n  }\n  gl_Position = projectionMatrix *  modelViewMatrix * vec4( position, 1.0 );\n}"}));return new cy(n,i)}},{key:"setTexture",value:function(t,e){for(var n=e.texture,i="net"===e.panorama.type?!this.config.flipTopBottom:this.config.flipTopBottom,r=0;r<6;r++)!i||2!==r&&3!==r||this.__setUniform(t,r,"rotation",Math.PI),this.__setUniform(t,r,ep.OVERLAY_UNIFORMS.panorama,n[r]);this.setOverlay(t,null,0)}},{key:"setOverlay",value:function(t,e,n){for(var i=0;i<6;i++)this.__setUniform(t,i,ep.OVERLAY_UNIFORMS.overlayOpacity,n),e?this.__setUniform(t,i,ep.OVERLAY_UNIFORMS.overlay,e.texture[i]):this.__setUniform(t,i,ep.OVERLAY_UNIFORMS.overlay,new ym)}},{key:"setTextureOpacity",value:function(t,e){for(var n=0;n<6;n++)this.__setUniform(t,n,ep.OVERLAY_UNIFORMS.globalOpacity,e),t.material[n].transparent=e<1}},{key:"disposeTexture",value:function(t){var e;null===(e=t.texture)||void 0===e||e.forEach((function(t){return t.dispose()}))}},{key:"__setUniform",value:function(t,e,n,i){t.material[e].uniforms[n].value instanceof ym&&t.material[e].uniforms[n].value.dispose(),t.material[e].uniforms[n].value=i}}],n&&YE(e.prototype,n),i&&YE(e,i),Object.defineProperty(e,"prototype",{writable:!1}),a}(ep);function sC(){return sC="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=hC(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},sC.apply(this,arguments)}function lC(t,e){return lC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lC(t,e)}function uC(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=hC(t);if(e){var r=hC(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===fC(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return cC(t)}(this,n)}}function cC(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hC(t){return hC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hC(t)}function fC(t){return fC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fC(t)}function dC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function pC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dC(Object(n),!0).forEach((function(e){vC(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vC(t,e,n){return(e=wC(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gC(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,wC(i.key),i)}}function yC(t,e,n){return e&&gC(t.prototype,e),n&&gC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wC(t){var e=function(t,e){if("object"!==fC(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==fC(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===fC(e)?e:String(e)}oC.id="cubemap",oC.supportsDownload=!1,oC.supportsOverlay=!0;var bC=function(){function t(e,n,i){mC(this,t),this.id=e,this.priority=n,this.fn=i,this.status=1}return yC(t,[{key:"start",value:function(){var t=this;return this.status=2,this.fn(this).then((function(){t.status=4}),(function(){t.status=5}))}},{key:"cancel",value:function(){this.status=3}},{key:"isCancelled",value:function(){return 3===this.status}}]),t}(),xC=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;mC(this,t),this.concurency=e,this.runningTasks={},this.tasks={}}return yC(t,[{key:"enqueue",value:function(t){this.tasks[t.id]=t}},{key:"clear",value:function(){Object.values(this.tasks).forEach((function(t){return t.cancel()})),this.tasks={},this.runningTasks={}}},{key:"setPriority",value:function(t,e){var n=this.tasks[t];n&&(n.priority=e,0===n.status&&(n.status=1))}},{key:"disableAllTasks",value:function(){Object.values(this.tasks).forEach((function(t){t.status=0}))}},{key:"start",value:function(){var t=this;if(!(Object.keys(this.runningTasks).length>=this.concurency)){var e=Object.values(this.tasks).filter((function(t){return 1===t.status})).sort((function(t,e){return e.priority-t.priority})).pop();e&&(this.runningTasks[e.id]=!0,e.start().then((function(){e.isCancelled()||(delete t.tasks[e.id],delete t.runningTasks[e.id],t.start())})),this.start())}}}]),t}();var AC=["dodgerblue","limegreen","indianred"];function _C(t){return!!t.levels}function kC(t,e,n){return pC(pC({},t),{},{level:e,tileSize:t.faceSize/t.nbTiles,facesByTile:n.CUBE_SEGMENTS/t.nbTiles})}function SC(t,e,n){return _C(t)&&t.levels[e]?kC(t.levels[e],e,n):null}function MC(t,e){if("object"!==fC(t)||!t.tileUrl)throw new Xf("Invalid panorama configuration, are you using the right adapter?");_C(t)?(t.levels.forEach((function(t){return EC(t,e)})),function(t){var e=0;t.forEach((function(n,i){if(!n.zoomRange||2!==n.zoomRange.length)throw new Xf("Tiles level ".concat(i,' is missing "zoomRange" property'));if(n.zoomRange[0]>=n.zoomRange[1]||n.zoomRange[0]!==e||0===i&&0!==n.zoomRange[0]||i===t.length-1&&100!==n.zoomRange[1])throw new Xf('Tiles levels\' "zoomRange" are not orderer or are not covering the whole 0-100 range');e=n.zoomRange[1]}))}(t.levels)):EC(t,e)}function EC(t,e){if(!t.faceSize||!t.nbTiles)throw new Xf("Invalid panorama configuration, are you using the right adapter?");if(t.nbTiles>e.CUBE_SEGMENTS)throw new Xf("Panorama nbTiles must not be greater than ".concat(e.CUBE_SEGMENTS,"."));if(!Jv.isPowerOfTwo(t.nbTiles))throw new Xf("Panorama nbTiles must be power of 2.")}function CC(t){return 2===t||3===t}var PC=16,TC=1536,LC="uv",OC="originaluv",zC=["left","right","top","bottom","back","front"];function RC(t){return"".concat(t.face,":").concat(t.col,"x").concat(t.row,"/").concat(t.config.level)}var DC=gf.getConfigParser({flipTopBottom:!1,showErrorTile:!0,baseBlur:!0,blur:!1,debug:!1}),IC=new ky,BC=new qm,NC=new xm,jC=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lC(t,e)}(n,t);var e=uC(n);function n(t,i){var r;return mC(this,n),(r=e.call(this,t)).state={tileConfig:null,tiles:{},faces:{},geom:null,materials:[],errorMaterial:null,inTransition:!1},r.queue=new xC,r.config=DC(i),r.viewer.config.requestHeaders?gf.logWarn('CubemapTilesAdapter fallbacks to file loader because "requestHeaders" where provided. Consider removing "requestHeaders" if you experience performances issues.'):(r.loader=new Wx,r.viewer.config.withCredentials&&r.loader.setWithCredentials(!0)),r.viewer.addEventListener(xd.PositionUpdatedEvent.type,cC(r)),r.viewer.addEventListener(xd.ZoomUpdatedEvent.type,cC(r)),r}return yC(n,[{key:"destroy",value:function(){var t,e,i;this.viewer.addEventListener(xd.PositionUpdatedEvent.type,this),this.viewer.addEventListener(xd.ZoomUpdatedEvent.type,this),this.__cleanup(),null===(t=this.state.errorMaterial)||void 0===t||null===(e=t.map)||void 0===e||e.dispose(),null===(i=this.state.errorMaterial)||void 0===i||i.dispose(),delete this.state.geom,delete this.state.errorMaterial,sC(hC(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){(t instanceof xd.PositionUpdatedEvent||t instanceof xd.ZoomUpdatedEvent)&&this.__refresh()}},{key:"supportsTransition",value:function(t){return!!t.baseUrl}},{key:"supportsPreload",value:function(t){return!!t.baseUrl}},{key:"loadTexture",value:function(t){try{MC(t,{CUBE_SEGMENTS:PC})}catch(e){return Promise.reject(e)}if(t.baseUrl){if(!this.adapter){if(!oC)throw new Xf("CubemapTilesAdapter requires CubemapAdapter");this.adapter=new oC(this.viewer,{blur:this.config.baseBlur})}return this.adapter.loadTexture(t.baseUrl).then((function(e){return{panorama:t,texture:e.texture}}))}return Promise.resolve({panorama:t,texture:null})}},{key:"createMesh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=2*tf.SPHERE_RADIUS*t,n=new fy(e,e,e,PC,PC,PC).scale(1,1,-1).toNonIndexed();n.clearGroups();for(var i=0,r=0;i<9216;i+=6)n.addGroup(i,6,r++);return n.setAttribute(OC,n.getAttribute(LC).clone()),new cy(n,[])}},{key:"setTexture",value:function(t,e,n){var i=this,r=e.texture;if(n)return this.state.inTransition=!0,void this.__setTexture(t,r);if(this.__cleanup(),this.__setTexture(t,r),this.state.materials=t.material,this.state.geom=t.geometry,this.state.geom.setAttribute(LC,this.state.geom.getAttribute(OC).clone()),this.config.debug){var a=function(t){var e=new ax(t),n=new Ew(e);return n.material.depthTest=!1,n.material.opacity=.25,n.material.transparent=!0,n}(this.state.geom);this.viewer.renderer.addObject(a),this.viewer.renderer.setSphereCorrection(this.viewer.config.sphereCorrection,a)}setTimeout((function(){return i.__refresh()}))}},{key:"__setTexture",value:function(t,e){for(var n=0;n<6;n++){var i=void 0;e?(this.config.flipTopBottom&&CC(n)&&(e[n].center=new Zv(.5,.5),e[n].rotation=Math.PI),i=new Ig({map:e[n]})):i=new Ig({opacity:0,transparent:!0});for(var r=0;r<256;r++)t.material.push(i)}}},{key:"setTextureOpacity",value:function(t,e){for(var n=0;n<6;n++)t.material[256*n].opacity=e,t.material[256*n].transparent=e<1}},{key:"setOverlay",value:function(){throw new Xf("EquirectangularTilesAdapter does not support overlay")}},{key:"disposeTexture",value:function(t){var e;null===(e=t.texture)||void 0===e||e.forEach((function(t){return t.dispose()}))}},{key:"__refresh",value:function(){if(this.state.geom&&!this.state.inTransition){var t=this.viewer.renderer.camera;t.updateMatrixWorld(),BC.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),IC.setFromProjectionMatrix(BC);for(var e=this.viewer.config.panorama,n=function(t,e,n){var i,r;return _C(t)?(r=function(t,e){return t.findIndex((function(t){return e>=t.zoomRange[0]&&e<=t.zoomRange[1]}))}(t.levels,e),i=t.levels[r]):(r=0,i=pC(pC({},t),{},{zoomRange:[0,100]})),kC(i,r,n)}(e,this.viewer.getZoomLevel(),{CUBE_SEGMENTS:PC}),i=this.state.geom.getAttribute("position"),r={},a=0;a<9216;a+=1)if(NC.fromBufferAttribute(i,a),NC.applyEuler(this.viewer.renderer.sphereCorrection),IC.containsPoint(NC))for(var o=Math.floor(a/TC),s=Math.floor((a-o*TC)/6),l=Math.floor(s/PC),u=s-l*PC,c=n;c;){var h=Math.floor(l/c.facesByTile),f=Math.floor(u/c.facesByTile),d=NC.angleTo(this.viewer.state.direction),p={face:o,row:h,col:f,angle:d,config:c,url:null};this.config.flipTopBottom&&CC(o)&&(f=c.nbTiles-f-1,h=c.nbTiles-h-1);var v=RC(p);if(r[v]){r[v].angle=Math.min(r[v].angle,d);break}if(p.url=e.tileUrl(zC[o],f,h,c.level),p.url){r[v]=p;break}c=SC(e,c.level-1,{CUBE_SEGMENTS:PC})}this.state.tileConfig=n,this.__loadTiles(Object.values(r))}}},{key:"__loadTiles",value:function(t){var e=this;this.queue.disableAllTasks(),t.forEach((function(t){var n=RC(t);e.state.tiles[n]?e.queue.setPriority(n,t.angle):(e.state.tiles[n]=!0,e.queue.enqueue(new bC(n,t.angle,(function(n){return e.__loadTile(t,n)}))))})),this.queue.start()}},{key:"__loadTile",value:function(t,e){var n=this;return this.__loadImage(t.url).then((function(i){if(!e.isCancelled()){n.config.debug&&(i=function(t,e,n){var i=document.createElement("canvas");i.width=t.width,i.height=t.height;var r=i.getContext("2d");r.fillStyle=AC[e%AC.length],r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="multiply",r.drawImage(t,0,0);var a=t.width/7;return r.globalCompositeOperation="source-over",r.fillStyle="white",r.font="".concat(a,"px monospace"),r.textAlign="center",n.split("\n").forEach((function(e,n){r.fillText(e,t.width/2,t.height/2+a*(.3+n))})),i}(i,t.config.level,function(t){return"".concat(RC(t),"\n").concat(zC[t.face])}(t)));var r=new Ig({map:gf.createTexture(i)});n.__swapMaterial(t,r,!1),n.viewer.needsUpdate()}})).catch((function(){!e.isCancelled()&&n.config.showErrorTile&&(n.state.errorMaterial||(n.state.errorMaterial=function(){var t=document.createElement("canvas");t.width=512,t.height=512;var e=t.getContext("2d");e.fillStyle="#333",e.fillRect(0,0,t.width,t.height),e.font="".concat(t.width/5,"px serif"),e.fillStyle="#a22",e.textAlign="center",e.textBaseline="middle",e.fillText("\u26a0",t.width/2,t.height/2);var n=new Nw(t);return new Ig({map:n})}()),n.__swapMaterial(t,n.state.errorMaterial,!0),n.viewer.needsUpdate())}))}},{key:"__loadImage",value:function(t){var e=this;return this.loader?new Promise((function(n,i){e.loader.load(t,n,void 0,i)})):this.viewer.textureLoader.loadImage(t)}},{key:"__swapMaterial",value:function(t,e,n){for(var i=this,r=this.state.geom.getAttribute(LC),a=0;a<t.config.facesByTile;a++)for(var o=function(){var o=t.col*t.config.facesByTile+a,l=t.row*t.config.facesByTile+s,u=t.face*TC+6*(PC*l+o);if(n&&i.state.faces[u]>-1)return"continue";if(i.state.faces[u]>t.config.level)return"continue";i.state.faces[u]=n?-1:t.config.level;var c=i.state.geom.groups.find((function(t){return t.start===u})).materialIndex;i.state.materials[c]=e;var h=1-s/t.config.facesByTile,f=1-(s+1)/t.config.facesByTile,d=a/t.config.facesByTile,p=(a+1)/t.config.facesByTile;i.config.flipTopBottom&&CC(t.face)&&(h=1-h,f=1-f,d=1-d,p=1-p),r.setXY(u,d,h),r.setXY(u+1,d,f),r.setXY(u+2,p,h),r.setXY(u+3,d,f),r.setXY(u+4,p,f),r.setXY(u+5,p,h)},s=0;s<t.config.facesByTile;s++)o();r.needsUpdate=!0}},{key:"__cleanup",value:function(){this.queue.clear(),this.state.tiles={},this.state.faces={},this.state.inTransition=!1,this.state.materials.forEach((function(t){var e;null===t||void 0===t||null===(e=t.map)||void 0===e||e.dispose(),null===t||void 0===t||t.dispose()})),this.state.materials.length=0}}]),n}(ep);function FC(t){return FC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FC(t)}function UC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HC(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,GC(i.key),i)}}function VC(t,e,n){return e&&HC(t.prototype,e),n&&HC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GC(t){var e=function(t,e){if("object"!==FC(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==FC(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===FC(e)?e:String(e)}function WC(){return WC="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ZC(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},WC.apply(this,arguments)}function QC(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XC(t,e)}function XC(t,e){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},XC(t,e)}function YC(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=ZC(t);if(e){var r=ZC(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===FC(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return JC(t)}(this,n)}}function JC(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZC(t){return ZC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ZC(t)}jC.id="cubemap-tiles",jC.supportsDownload=!1,jC.supportsOverlay=!1;var qC=function(t){QC(n,t);var e=YC(n);function n(t){var i;return UC(this,n),(i=e.call(this,t)).viewer.addEventListener(xd.BeforeRenderEvent.type,JC(i)),i}return VC(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(xd.BeforeRenderEvent.type,this),this.__removeVideo(),WC(ZC(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){t instanceof xd.BeforeRenderEvent&&this.viewer.needsUpdate()}},{key:"supportsPreload",value:function(){return!1}},{key:"supportsTransition",value:function(){return!1}},{key:"loadTexture",value:function(t){if("object"!==FC(t)||!t.source)return Promise.reject(new Xf("Invalid panorama configuration, are you using the right adapter?"));if(!this.viewer.getPlugin("video"))return Promise.reject(new Xf("Video adapters require VideoPlugin to be loaded too."));var e=this.__createVideo(t.source);return this.__videoLoadPromise(e).then((function(){var n=new Iw(e);return{panorama:t,texture:n}}))}},{key:"switchVideo",value:function(t){var e,n,i=!this.config.autoplay,r=this.config.muted,a=1;if(this.video){var o=this.video;e=o.currentTime,n=o.duration,i=o.paused,r=o.muted,a=o.volume}this.__removeVideo(),this.video=t.image,this.video.duration===n&&(this.video.currentTime=e),this.video.muted=r,this.video.volume=a,i||this.video.play()}},{key:"setTextureOpacity",value:function(t,e){t.material.opacity=e,t.material.transparent=e<1}},{key:"setOverlay",value:function(){throw new Xf("VideoAdapter does not support overlay")}},{key:"disposeTexture",value:function(t){var e;if(t.texture){var n=t.texture.image;n.pause(),this.viewer.container.removeChild(n)}null===(e=t.texture)||void 0===e||e.dispose()}},{key:"__removeVideo",value:function(){this.video&&(this.video.pause(),this.viewer.container.removeChild(this.video),delete this.video)}},{key:"__createVideo",value:function(t){var e=document.createElement("video");return e.crossOrigin=this.viewer.config.withCredentials?"use-credentials":"anonymous",e.loop=!0,e.playsInline=!0,e.style.display="none",e.muted=this.config.muted,e.src=t,e.preload="metadata",this.viewer.container.appendChild(e),e}},{key:"__videoLoadPromise",value:function(t){var e=this;return new Promise((function(n,i){t.addEventListener("loadedmetadata",(function i(){e.video&&t.duration===e.video.duration?n(e.__videoBufferPromise(t,e.video.currentTime)):n(),t.removeEventListener("loadedmetadata",i)})),t.addEventListener("error",(function e(n){i(n),t.removeEventListener("error",e)}))}))}},{key:"__videoBufferPromise",value:function(t,e){return new Promise((function(n){function i(){for(var e=t.buffered,r=0,a=e.length;r<a;r++)if(e.start(r)<=t.currentTime&&e.end(r)>=t.currentTime){t.pause(),t.removeEventListener("buffer",i),t.removeEventListener("progress",i),n();break}}t.currentTime=Math.min(e+2e3,t.duration),t.muted=!0,t.addEventListener("buffer",i),t.addEventListener("progress",i),t.play()}))}}]),n}(ep);qC.supportsDownload=!1,qC.supportsOverlay=!1;var KC=gf.getConfigParser({equiangular:!0,autoplay:!1,muted:!1}),$C=function(t){QC(n,t);var e=YC(n);function n(t,i){var r;return UC(this,n),(r=e.call(this,t)).config=KC(i),r}return VC(n,[{key:"createMesh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=2*tf.SPHERE_RADIUS*t,n=new fy(e,e,e).scale(1,1,-1).toNonIndexed();n.clearGroups();var i=n.getAttribute("uv"),r=1/3,a=2/3,o=.5;i.setXY(0,0,1),i.setXY(1,0,o),i.setXY(2,r,1),i.setXY(3,0,o),i.setXY(4,r,o),i.setXY(5,r,1),i.setXY(6,a,1),i.setXY(7,a,o),i.setXY(8,1,1),i.setXY(9,a,o),i.setXY(10,1,o),i.setXY(11,1,1),i.setXY(12,1,o),i.setXY(13,a,o),i.setXY(14,1,0),i.setXY(15,a,o),i.setXY(16,a,0),i.setXY(17,1,0),i.setXY(18,r,o),i.setXY(19,0,o),i.setXY(20,r,0),i.setXY(21,0,o),i.setXY(22,0,0),i.setXY(23,r,0),i.setXY(24,a,o),i.setXY(25,r,o),i.setXY(26,a,0),i.setXY(27,r,o),i.setXY(28,r,0),i.setXY(29,a,0),i.setXY(30,r,1),i.setXY(31,r,o),i.setXY(32,a,1),i.setXY(33,r,o),i.setXY(34,a,o),i.setXY(35,a,1);var s=new py({uniforms:{mapped:{value:null},contCorrect:{value:1},faceWH:{value:new Zv(1/3,.5)},vidWH:{value:new Zv(1,1)}},vertexShader:"\nvarying vec2 vUv;\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}",fragmentShader:"\nvarying vec2 vUv;\nuniform sampler2D mapped;\nuniform vec2 faceWH;\nuniform vec2 vidWH;\nuniform float contCorrect;\n\nconst float PI = 3.1415926535897932384626433832795;\n\nvoid main() {\n  vec2 corner = vUv - mod(vUv, faceWH) + vec2(0, contCorrect / vidWH.y);\n  vec2 faceWHadj = faceWH - vec2(0, contCorrect * 2. / vidWH.y);\n  vec2 p = (vUv - corner) / faceWHadj - .5;\n  vec2 q = ".concat(this.config.equiangular?"2. / PI * atan(2. * p) + .5":"p + .5",";\n  vec2 eUv = corner + q * faceWHadj;\n  gl_FragColor = texture2D(mapped, eUv);\n}")});return new cy(n,s)}},{key:"setTexture",value:function(t,e){var n,i=e.texture,r=i.image;null===(n=t.material.uniforms.mapped.value)||void 0===n||n.dispose(),t.material.uniforms.mapped.value=i,t.material.uniforms.vidWH.value.set(r.videoWidth,r.videoHeight),this.switchVideo(e.texture)}}]),n}(qC);function tP(){return tP="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rP(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},tP.apply(this,arguments)}function eP(t,e){return eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},eP(t,e)}function nP(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=rP(t);if(e){var r=rP(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===aP(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return iP(t)}(this,n)}}function iP(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rP(t){return rP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rP(t)}function aP(t){return aP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aP(t)}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function sP(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oP(Object(n),!0).forEach((function(e){lP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lP(t,e,n){return(e=fP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,fP(i.key),i)}}function hP(t,e,n){return e&&cP(t.prototype,e),n&&cP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fP(t){var e=function(t,e){if("object"!==aP(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==aP(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===aP(e)?e:String(e)}$C.id="cubemap-video";var dP=function(){function t(e,n,i){uP(this,t),this.id=e,this.priority=n,this.fn=i,this.status=1}return hP(t,[{key:"start",value:function(){var t=this;return this.status=2,this.fn(this).then((function(){t.status=4}),(function(){t.status=5}))}},{key:"cancel",value:function(){this.status=3}},{key:"isCancelled",value:function(){return 3===this.status}}]),t}(),pP=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;uP(this,t),this.concurency=e,this.runningTasks={},this.tasks={}}return hP(t,[{key:"enqueue",value:function(t){this.tasks[t.id]=t}},{key:"clear",value:function(){Object.values(this.tasks).forEach((function(t){return t.cancel()})),this.tasks={},this.runningTasks={}}},{key:"setPriority",value:function(t,e){var n=this.tasks[t];n&&(n.priority=e,0===n.status&&(n.status=1))}},{key:"disableAllTasks",value:function(){Object.values(this.tasks).forEach((function(t){t.status=0}))}},{key:"start",value:function(){var t=this;if(!(Object.keys(this.runningTasks).length>=this.concurency)){var e=Object.values(this.tasks).filter((function(t){return 1===t.status})).sort((function(t,e){return e.priority-t.priority})).pop();e&&(this.runningTasks[e.id]=!0,e.start().then((function(){e.isCancelled()||(delete t.tasks[e.id],delete t.runningTasks[e.id],t.start())})),this.start())}}}]),t}();var vP=["dodgerblue","limegreen","indianred"];function mP(t){return!!t.levels}function gP(t,e,n){return sP(sP({},t),{},{level:e,colSize:t.width/t.cols,rowSize:t.width/2/t.rows,facesByCol:n.SPHERE_SEGMENTS/t.cols,facesByRow:n.SPHERE_HORIZONTAL_SEGMENTS/t.rows})}function yP(t,e,n){var i,r;return mP(t)?(r=function(t,e){return t.findIndex((function(t){return e>=t.zoomRange[0]&&e<=t.zoomRange[1]}))}(t.levels,e),i=t.levels[r]):(r=0,i=sP(sP({},t),{},{zoomRange:[0,100]})),gP(i,r,n)}function wP(t,e,n){return mP(t)&&t.levels[e]?gP(t.levels[e],e,n):null}function bP(t,e){if("object"!==aP(t)||!t.tileUrl)throw new Xf("Invalid panorama configuration, are you using the right adapter?");mP(t)?(t.levels.forEach((function(t){return xP(t,e)})),function(t){var e=0;t.forEach((function(n,i){if(!n.zoomRange||2!==n.zoomRange.length)throw new Xf("Tiles level ".concat(i,' is missing "zoomRange" property'));if(n.zoomRange[0]>=n.zoomRange[1]||n.zoomRange[0]!==e||0===i&&0!==n.zoomRange[0]||i===t.length-1&&100!==n.zoomRange[1])throw new Xf('Tiles levels\' "zoomRange" are not orderer or are not covering the whole 0-100 range');e=n.zoomRange[1]}))}(t.levels)):xP(t,e)}function xP(t,e){if(!t.width||!t.cols||!t.rows)throw new Xf("Invalid panorama configuration, are you using the right adapter?");if(t.cols>e.SPHERE_SEGMENTS)throw new Xf("Panorama cols must not be greater than ".concat(e.SPHERE_SEGMENTS,"."));if(t.rows>e.SPHERE_HORIZONTAL_SEGMENTS)throw new Xf("Panorama rows must not be greater than ".concat(e.SPHERE_HORIZONTAL_SEGMENTS,"."));if(!Jv.isPowerOfTwo(t.cols)||!Jv.isPowerOfTwo(t.rows))throw new Xf("Panorama cols and rows must be powers of 2.")}var AP="uv",_P="originaluv";function kP(t){return"".concat(t.col,"x").concat(t.row,"/").concat(t.config.level)}var SP=gf.getConfigParser({resolution:64,showErrorTile:!0,baseBlur:!0,blur:!1,debug:!1},{resolution:function(t){if(!t||!Jv.isPowerOfTwo(t))throw new Xf("EquirectangularTilesAdapter resolution must be power of two");return t}}),MP=new ky,EP=new qm,CP=new xm,PP=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eP(t,e)}(n,t);var e=nP(n);function n(t,i){var r;return uP(this,n),(r=e.call(this,t)).state={tileConfig:null,tiles:{},faces:{},geom:null,materials:[],errorMaterial:null,inTransition:!1},r.queue=new pP,r.config=SP(i),r.viewer.config.useXmpData=!1,r.SPHERE_SEGMENTS=r.config.resolution,r.SPHERE_HORIZONTAL_SEGMENTS=r.SPHERE_SEGMENTS/2,r.NB_VERTICES=2*r.SPHERE_SEGMENTS*3+(r.SPHERE_HORIZONTAL_SEGMENTS-2)*r.SPHERE_SEGMENTS*6,r.NB_GROUPS=r.SPHERE_SEGMENTS*r.SPHERE_HORIZONTAL_SEGMENTS,r.viewer.config.requestHeaders?gf.logWarn('EquirectangularTilesAdapter fallbacks to file loader because "requestHeaders" where provided. Consider removing "requestHeaders" if you experience performances issues.'):(r.loader=new Wx,r.viewer.config.withCredentials&&r.loader.setWithCredentials(!0)),r.viewer.addEventListener(xd.PositionUpdatedEvent.type,iP(r)),r.viewer.addEventListener(xd.ZoomUpdatedEvent.type,iP(r)),r}return hP(n,[{key:"destroy",value:function(){var t,e,i;this.viewer.addEventListener(xd.PositionUpdatedEvent.type,this),this.viewer.addEventListener(xd.ZoomUpdatedEvent.type,this),this.__cleanup(),null===(t=this.state.errorMaterial)||void 0===t||null===(e=t.map)||void 0===e||e.dispose(),null===(i=this.state.errorMaterial)||void 0===i||i.dispose(),delete this.state.geom,delete this.state.errorMaterial,tP(rP(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){(t instanceof xd.PositionUpdatedEvent||t instanceof xd.ZoomUpdatedEvent)&&this.__refresh()}},{key:"supportsTransition",value:function(t){return!!t.baseUrl}},{key:"supportsPreload",value:function(t){return!!t.baseUrl}},{key:"loadTexture",value:function(t){try{bP(t,this)}catch(i){return Promise.reject(i)}var e=yP(t,0,this),n={fullWidth:e.width,fullHeight:e.width/2,croppedWidth:e.width,croppedHeight:e.width/2,croppedX:0,croppedY:0,poseHeading:0,posePitch:0,poseRoll:0};return t.baseUrl?(this.adapter||(this.adapter=new op(this.viewer,{blur:this.config.baseBlur})),this.adapter.loadTexture(t.baseUrl,t.basePanoData).then((function(e){return{panorama:t,texture:e.texture,panoData:n}}))):Promise.resolve({panorama:t,panoData:n,texture:null})}},{key:"createMesh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=new tx(tf.SPHERE_RADIUS*t,this.SPHERE_SEGMENTS,this.SPHERE_HORIZONTAL_SEGMENTS,-Math.PI/2).scale(-1,1,1).toNonIndexed();e.clearGroups();for(var n=0,i=0;n<3*this.SPHERE_SEGMENTS;n+=3)e.addGroup(n,3,i++);for(;n<this.NB_VERTICES-3*this.SPHERE_SEGMENTS;n+=6)e.addGroup(n,6,i++);for(;n<this.NB_VERTICES;n+=3)e.addGroup(n,3,i++);return e.setAttribute(_P,e.getAttribute(AP).clone()),new cy(e,[])}},{key:"setTexture",value:function(t,e,n){var i=this,r=e.texture;if(n)return this.state.inTransition=!0,void this.__setTexture(t,r);if(this.__cleanup(),this.__setTexture(t,r),this.state.materials=t.material,this.state.geom=t.geometry,this.state.geom.setAttribute(AP,this.state.geom.getAttribute(_P).clone()),this.config.debug){var a=function(t){var e=new ax(t),n=new Ew(e);return n.material.depthTest=!1,n.material.opacity=.25,n.material.transparent=!0,n}(this.state.geom);this.viewer.renderer.addObject(a),this.viewer.renderer.setSphereCorrection(this.viewer.config.sphereCorrection,a)}setTimeout((function(){return i.__refresh()}))}},{key:"__setTexture",value:function(t,e){var n;n=new Ig(e?{map:e}:{opacity:0,transparent:!0});for(var i=0;i<this.NB_GROUPS;i++)t.material.push(n)}},{key:"setTextureOpacity",value:function(t,e){t.material[0].opacity=e,t.material[0].transparent=e<1}},{key:"setOverlay",value:function(){throw new Xf("EquirectangularTilesAdapter does not support overlay")}},{key:"disposeTexture",value:function(t){var e;null===(e=t.texture)||void 0===e||e.dispose()}},{key:"__refresh",value:function(){if(this.state.geom&&!this.state.inTransition){var t=this.viewer.renderer.camera;t.updateMatrixWorld(),EP.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),MP.setFromProjectionMatrix(EP);for(var e=this.viewer.config.panorama,n=yP(e,this.viewer.getZoomLevel(),this),i=this.state.geom.getAttribute("position"),r={},a=0;a<this.NB_VERTICES;a+=1)if(CP.fromBufferAttribute(i,a),CP.applyEuler(this.viewer.renderer.sphereCorrection),MP.containsPoint(CP)){var o=void 0;o=a<3*this.SPHERE_SEGMENTS?Math.floor(a/3):a<this.NB_VERTICES-3*this.SPHERE_SEGMENTS?Math.floor((a/3-this.SPHERE_SEGMENTS)/2)+this.SPHERE_SEGMENTS:Math.floor((a-this.NB_VERTICES-3*this.SPHERE_SEGMENTS)/3)+this.SPHERE_HORIZONTAL_SEGMENTS*(this.SPHERE_SEGMENTS-1);for(var s=Math.floor(o/this.SPHERE_SEGMENTS),l=o-s*this.SPHERE_SEGMENTS,u=n;u;){var c=Math.floor(s/u.facesByRow),h=Math.floor(l/u.facesByCol),f=CP.angleTo(this.viewer.state.direction);0!==c&&c!==u.rows-1||(f*=2);var d={row:c,col:h,angle:f,config:u,url:null},p=kP(d);if(r[p]){r[p].angle=Math.min(r[p].angle,f);break}if(d.url=e.tileUrl(h,c,u.level),d.url){r[p]=d;break}u=wP(e,u.level-1,this)}}this.state.tileConfig=n,this.__loadTiles(Object.values(r))}}},{key:"__loadTiles",value:function(t){var e=this;this.queue.disableAllTasks(),t.forEach((function(t){var n=kP(t);e.state.tiles[n]?e.queue.setPriority(n,t.angle):(e.state.tiles[n]=!0,e.queue.enqueue(new dP(n,t.angle,(function(n){return e.__loadTile(t,n)}))))})),this.queue.start()}},{key:"__loadTile",value:function(t,e){var n=this;return this.__loadImage(t.url).then((function(i){if(!e.isCancelled()){n.config.debug&&(i=function(t,e,n){var i=document.createElement("canvas");i.width=t.width,i.height=t.height;var r=i.getContext("2d");r.fillStyle=vP[e%vP.length],r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="multiply",r.drawImage(t,0,0);var a=t.width/7;return r.globalCompositeOperation="source-over",r.fillStyle="white",r.font="".concat(a,"px monospace"),r.textAlign="center",n.split("\n").forEach((function(e,n){r.fillText(e,t.width/2,t.height/2+a*(.3+n))})),i}(i,t.config.level,kP(t)));var r=new Ig({map:gf.createTexture(i)});n.__swapMaterial(t,r,!1),n.viewer.needsUpdate()}})).catch((function(){!e.isCancelled()&&n.config.showErrorTile&&(n.state.errorMaterial||(n.state.errorMaterial=function(){var t=document.createElement("canvas");t.width=512,t.height=512;var e=t.getContext("2d");e.fillStyle="#333",e.fillRect(0,0,t.width,t.height),e.font="".concat(t.width/5,"px serif"),e.fillStyle="#a22",e.textAlign="center",e.textBaseline="middle",e.fillText("\u26a0",t.width/2,t.height/2);var n=new Nw(t);return new Ig({map:n})}()),n.__swapMaterial(t,n.state.errorMaterial,!0),n.viewer.needsUpdate())}))}},{key:"__loadImage",value:function(t){var e=this;return this.loader?new Promise((function(n,i){e.loader.load(t,n,void 0,i)})):this.viewer.textureLoader.loadImage(t)}},{key:"__swapMaterial",value:function(t,e,n){for(var i=this,r=this.state.geom.getAttribute(AP),a=0;a<t.config.facesByCol;a++)for(var o=function(){var o,l=t.col*t.config.facesByCol+a,u=t.row*t.config.facesByRow+s,c=0===u,h=u===i.SPHERE_HORIZONTAL_SEGMENTS-1;if(o=c?3*l:h?i.NB_VERTICES-3*i.SPHERE_SEGMENTS+3*l:3*i.SPHERE_SEGMENTS+(u-1)*i.SPHERE_SEGMENTS*6+6*l,n&&i.state.faces[o]>-1)return"continue";if(i.state.faces[o]>t.config.level)return"continue";i.state.faces[o]=n?-1:t.config.level;var f=i.state.geom.groups.find((function(t){return t.start===o})).materialIndex;i.state.materials[f]=e;var d=1-s/t.config.facesByRow,p=1-(s+1)/t.config.facesByRow,v=a/t.config.facesByCol,m=(a+1)/t.config.facesByCol;c?(r.setXY(o,(v+m)/2,d),r.setXY(o+1,v,p),r.setXY(o+2,m,p)):h?(r.setXY(o,m,d),r.setXY(o+1,v,d),r.setXY(o+2,(v+m)/2,p)):(r.setXY(o,m,d),r.setXY(o+1,v,d),r.setXY(o+2,m,p),r.setXY(o+3,v,d),r.setXY(o+4,v,p),r.setXY(o+5,m,p))},s=0;s<t.config.facesByRow;s++)o();r.needsUpdate=!0}},{key:"__cleanup",value:function(){this.queue.clear(),this.state.tiles={},this.state.faces={},this.state.inTransition=!1,this.state.materials.forEach((function(t){var e;null===t||void 0===t||null===(e=t.map)||void 0===e||e.dispose(),null===t||void 0===t||t.dispose()})),this.state.materials.length=0}}]),n}(ep);function TP(t){return TP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TP(t)}function LP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,RP(i.key),i)}}function zP(t,e,n){return e&&OP(t.prototype,e),n&&OP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function RP(t){var e=function(t,e){if("object"!==TP(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==TP(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===TP(e)?e:String(e)}function DP(){return DP="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=FP(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},DP.apply(this,arguments)}function IP(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BP(t,e)}function BP(t,e){return BP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},BP(t,e)}function NP(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=FP(t);if(e){var r=FP(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===TP(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jP(t)}(this,n)}}function jP(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FP(t){return FP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},FP(t)}PP.id="equirectangular-tiles",PP.supportsDownload=!1,PP.supportsOverlay=!1;var UP=function(t){IP(n,t);var e=NP(n);function n(t){var i;return LP(this,n),(i=e.call(this,t)).viewer.addEventListener(xd.BeforeRenderEvent.type,jP(i)),i}return zP(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(xd.BeforeRenderEvent.type,this),this.__removeVideo(),DP(FP(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){t instanceof xd.BeforeRenderEvent&&this.viewer.needsUpdate()}},{key:"supportsPreload",value:function(){return!1}},{key:"supportsTransition",value:function(){return!1}},{key:"loadTexture",value:function(t){if("object"!==TP(t)||!t.source)return Promise.reject(new Xf("Invalid panorama configuration, are you using the right adapter?"));if(!this.viewer.getPlugin("video"))return Promise.reject(new Xf("Video adapters require VideoPlugin to be loaded too."));var e=this.__createVideo(t.source);return this.__videoLoadPromise(e).then((function(){var n=new Iw(e);return{panorama:t,texture:n}}))}},{key:"switchVideo",value:function(t){var e,n,i=!this.config.autoplay,r=this.config.muted,a=1;if(this.video){var o=this.video;e=o.currentTime,n=o.duration,i=o.paused,r=o.muted,a=o.volume}this.__removeVideo(),this.video=t.image,this.video.duration===n&&(this.video.currentTime=e),this.video.muted=r,this.video.volume=a,i||this.video.play()}},{key:"setTextureOpacity",value:function(t,e){t.material.opacity=e,t.material.transparent=e<1}},{key:"setOverlay",value:function(){throw new Xf("VideoAdapter does not support overlay")}},{key:"disposeTexture",value:function(t){var e;if(t.texture){var n=t.texture.image;n.pause(),this.viewer.container.removeChild(n)}null===(e=t.texture)||void 0===e||e.dispose()}},{key:"__removeVideo",value:function(){this.video&&(this.video.pause(),this.viewer.container.removeChild(this.video),delete this.video)}},{key:"__createVideo",value:function(t){var e=document.createElement("video");return e.crossOrigin=this.viewer.config.withCredentials?"use-credentials":"anonymous",e.loop=!0,e.playsInline=!0,e.style.display="none",e.muted=this.config.muted,e.src=t,e.preload="metadata",this.viewer.container.appendChild(e),e}},{key:"__videoLoadPromise",value:function(t){var e=this;return new Promise((function(n,i){t.addEventListener("loadedmetadata",(function i(){e.video&&t.duration===e.video.duration?n(e.__videoBufferPromise(t,e.video.currentTime)):n(),t.removeEventListener("loadedmetadata",i)})),t.addEventListener("error",(function e(n){i(n),t.removeEventListener("error",e)}))}))}},{key:"__videoBufferPromise",value:function(t,e){return new Promise((function(n){function i(){for(var e=t.buffered,r=0,a=e.length;r<a;r++)if(e.start(r)<=t.currentTime&&e.end(r)>=t.currentTime){t.pause(),t.removeEventListener("buffer",i),t.removeEventListener("progress",i),n();break}}t.currentTime=Math.min(e+2e3,t.duration),t.muted=!0,t.addEventListener("buffer",i),t.addEventListener("progress",i),t.play()}))}}]),n}(ep);UP.supportsDownload=!1,UP.supportsOverlay=!1;var HP=gf.getConfigParser({resolution:64,autoplay:!1,muted:!1,blur:!1},{resolution:function(t){if(!t||!Jv.isPowerOfTwo(t))throw new Xf("EquirectangularTilesAdapter resolution must be power of two");return t}}),VP=function(t){IP(n,t);var e=NP(n);function n(t,i){var r;return LP(this,n),(r=e.call(this,t)).config=HP(i),r.SPHERE_SEGMENTS=r.config.resolution,r.SPHERE_HORIZONTAL_SEGMENTS=r.SPHERE_SEGMENTS/2,r}return zP(n,[{key:"loadTexture",value:function(t){return DP(FP(n.prototype),"loadTexture",this).call(this,t).then((function(e){var n=e.texture,i=n.image,r={fullWidth:i.videoWidth,fullHeight:i.videoHeight,croppedWidth:i.videoWidth,croppedHeight:i.videoHeight,croppedX:0,croppedY:0,poseHeading:0,posePitch:0,poseRoll:0};return{panorama:t,texture:n,panoData:r}}))}},{key:"createMesh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=new tx(tf.SPHERE_RADIUS*t,this.SPHERE_SEGMENTS,this.SPHERE_HORIZONTAL_SEGMENTS,-Math.PI/2).scale(-1,1,1),n=new Ig;return new cy(e,n)}},{key:"setTexture",value:function(t,e){var n;null===(n=t.material.map)||void 0===n||n.dispose(),t.material.map=e.texture,this.switchVideo(e.texture)}}]),n}(UP);function GP(t){return GP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GP(t)}function WP(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return QP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QP(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function QP(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function XP(){return XP="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=eT(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},XP.apply(this,arguments)}function YP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,ZP(i.key),i)}}function JP(t,e,n){return e&&YP(t.prototype,e),n&&YP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZP(t){var e=function(t,e){if("object"!==GP(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==GP(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===GP(e)?e:String(e)}function qP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KP(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$P(t,e)}function $P(t,e){return $P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$P(t,e)}function tT(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=eT(t);if(e){var r=eT(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===GP(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function eT(t){return eT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},eT(t)}VP.id="equirectangular-video";var nT=function(t){KP(n,t);var e=tT(n);function n(){var t;qP(this,n),(t=e.call(this,n.Geometry,new Ig({opacity:0,transparent:!0}))).isLensflare=!0,t.type="Lensflare",t.frustumCulled=!1,t.renderOrder=1/0;var i=new xm,r=new xm,a=new Bw(16,16,Pv),o=new Bw(16,16,Pv),s=n.Geometry,l=new ux({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:"\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tuniform vec3 screenPosition;\n\t\t\t\tuniform vec2 scale;\n\n\t\t\t\tattribute vec3 position;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tgl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );\n\n\t\t\t\t}",fragmentShader:"\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );\n\n\t\t\t\t}",depthTest:!0,depthWrite:!1,transparent:!1}),u=new ux({uniforms:{map:{value:a},scale:{value:null},screenPosition:{value:null}},vertexShader:"\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tuniform vec3 screenPosition;\n\t\t\t\tuniform vec2 scale;\n\n\t\t\t\tattribute vec3 position;\n\t\t\t\tattribute vec2 uv;\n\n\t\t\t\tvarying vec2 vUV;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvUV = uv;\n\n\t\t\t\t\tgl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );\n\n\t\t\t\t}",fragmentShader:"\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tuniform sampler2D map;\n\n\t\t\t\tvarying vec2 vUV;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tgl_FragColor = texture2D( map, vUV );\n\n\t\t\t\t}",depthTest:!1,depthWrite:!1,transparent:!1}),c=new cy(s,l),h=[],f=iT.Shader,d=new ux({uniforms:{map:{value:null},occlusionMap:{value:o},color:{value:new dm(16777215)},scale:{value:new Zv},screenPosition:{value:new xm}},vertexShader:f.vertexShader,fragmentShader:f.fragmentShader,blending:2,transparent:!0,depthWrite:!1}),p=new cy(s,d);t.addElement=function(t){h.push(t)};var v=new Zv,m=new Zv,g=new SA,y=new wm;return t.onBeforeRender=function(t,e,n){t.getCurrentViewport(y);var f=y.w/y.z,w=y.z/2,b=y.w/2,x=16/y.w;if(v.set(x*f,x),g.min.set(y.x,y.y),g.max.set(y.x+(y.z-16),y.y+(y.w-16)),r.setFromMatrixPosition(this.matrixWorld),r.applyMatrix4(n.matrixWorldInverse),!(r.z>0)&&(i.copy(r).applyMatrix4(n.projectionMatrix),m.x=y.x+i.x*w+w-8,m.y=y.y+i.y*b+b-8,g.containsPoint(m))){t.copyFramebufferToTexture(m,a);var A=l.uniforms;A.scale.value=v,A.screenPosition.value=i,t.renderBufferDirect(n,null,s,l,c,null),t.copyFramebufferToTexture(m,o),(A=u.uniforms).scale.value=v,A.screenPosition.value=i,t.renderBufferDirect(n,null,s,u,c,null);for(var _=2*-i.x,k=2*-i.y,S=0,M=h.length;S<M;S++){var E=h[S],C=d.uniforms;C.color.value.copy(E.color),C.map.value=E.texture,C.screenPosition.value.x=i.x+_*E.distance,C.screenPosition.value.y=i.y+k*E.distance,x=E.size/y.w;var P=y.w/y.z;C.scale.value.set(x*P,x),d.uniformsNeedUpdate=!0,t.renderBufferDirect(n,null,s,d,p,null)}}},t.dispose=function(){l.dispose(),u.dispose(),d.dispose(),a.dispose(),o.dispose();for(var t=0,e=h.length;t<e;t++)h[t].texture.dispose()},t}return JP(n)}(cy),iT=JP((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new dm(16777215);qP(this,t),this.texture=e,this.size=n,this.distance=i,this.color=r}));iT.Shader={uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:"\n\n\t\tprecision highp float;\n\n\t\tuniform vec3 screenPosition;\n\t\tuniform vec2 scale;\n\n\t\tuniform sampler2D occlusionMap;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\n\t\tvarying vec2 vUV;\n\t\tvarying float vVisibility;\n\n\t\tvoid main() {\n\n\t\t\tvUV = uv;\n\n\t\t\tvec2 pos = position.xy;\n\n\t\t\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\n\n\t\t\tvVisibility =        visibility.r / 9.0;\n\t\t\tvVisibility *= 1.0 - visibility.g / 9.0;\n\t\t\tvVisibility *=       visibility.b / 9.0;\n\n\t\t\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tprecision highp float;\n\n\t\tuniform sampler2D map;\n\t\tuniform vec3 color;\n\n\t\tvarying vec2 vUV;\n\t\tvarying float vVisibility;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texture = texture2D( map, vUV );\n\t\t\ttexture.a *= vVisibility;\n\t\t\tgl_FragColor = texture;\n\t\t\tgl_FragColor.rgb *= color;\n\n\t\t}"},nT.Geometry=function(){var t=new Zg,e=new Float32Array([-1,-1,0,0,0,1,-1,0,1,0,1,1,0,1,1,-1,1,0,0,1]),n=new zy(e,5);return t.setIndex([0,1,2,0,2,3]),t.setAttribute("position",new Dy(n,3,0,!1)),t.setAttribute("uv",new Dy(n,2,3,!1)),t}();var rT="psvLensflare";gf.dasherize(rT);var aT=function(){function t(e,n){var i=this;if(qP(this,t),this.viewer=e,this.config=n,this.visible=!0,this.state={dynamicSize:!1,anchor:null,visible:!1,position:null,position2D:null,positions3D:null,size:null},this.refreshAfterLoad=function(t){t.anisotropy=4,i.viewer.needsUpdate()},!n.id)throw new Xf("missing lensflare id");this.loader=new Qx,this.textureFlare={},this.textureFlare.light=this.loader.load("data:image/png;base64,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",this.refreshAfterLoad),this.textureFlare.flare1=this.loader.load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAIAAAB7GkOtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpGQkMyNkM0QkNCNUFFMDExQjZBNjgzNDc0RDE0NzY2QyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxOTUwNTY2MDUzMUMxMUUwOTA3Qzg4QzFDQkY2MUZCQiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxOTUwNTY1RjUzMUMxMUUwOTA3Qzg4QzFDQkY2MUZCQiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjAxODAxMTc0MDcyMDY4MTE5NDU3OUVEN0U5QjAxNEY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkZCQzI2QzRCQ0I1QUUwMTFCNkE2ODM0NzREMTQ3NjZDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+J87OtwAABgBJREFUeNrs2jEOgzAQRUHspUCyRMn9L0lpHANSbhCl2Jkm/S/8YotyHMd5ngsAmbTWlm3bDAGQzTz8a0QYAiCbefhXKwDkJAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAAAmACAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAA/ma9I1DrGMMWAHmUUtb3ZzIHQB7zr/97AxAAgFwingA8zz+egAASGWO8AZinvxsAQKoA+AoIIKvvDQCAVDeA5wnoui5bAKTSe/cEBJCUAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAIgAkABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABABAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABABAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAOBnAei9WwEgm3n4r/u+R4QtAFJprX0EGAAFhyfXeeWZyAAAAABJRU5ErkJggg==",this.refreshAfterLoad),this.textureFlare.flare2=this.loader.load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAIAAAB7GkOtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MUY2OTVBMjM1MzFFMTFFMDkwN0M4OEMxQ0JGNjFGQkIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MUY2OTVBMjQ1MzFFMTFFMDkwN0M4OEMxQ0JGNjFGQkIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxRjY5NUEyMTUzMUUxMUUwOTA3Qzg4QzFDQkY2MUZCQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxRjY5NUEyMjUzMUUxMUUwOTA3Qzg4QzFDQkY2MUZCQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PslCyYYAAASvSURBVHja7NkNb5swEABQQPv//3jcvBiM8UempdnUqu9VIgc4TuqQO+wsCwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB+1GgIGl8W6DndTEBHbtqVt36zYtt/HU5vc/uW38dpT1398UX/gH3rxveVxzuOZg+F7KB9KDurtWz4OFAC+UfbPQbfbnkr1IMeVpWxG2hP9q8zrUHQXbZxXcjkV9ys8Rtd5/P03IkbNYvIqcS8Vx9mSlOtcnIJ931NwbqPE5dR1Ng51mxyXznPHdf91oAZQ/DAEPMn+w1xcUvas8SMjXvl9O1xxDnIlqHevdrcycb1iuQv+EuqMfKTp2HNOf2yjistjnLtrbnP2UGrGVTzqm/37LOEoS02zehrnUkcB4H+sIJUkmFPPmbP2XERKasszicmSS8x6/uSpv54HNGk3WnuuE9UQ9XOQaF5CTkcB4POlv/XxN5lJPLbXBCLXgHS3mw5E/OxXh9avvFYZS4zS/bWQf/6bqf7tdUXsRzWNQywSPe+7VzMEzG7h5z8G3I7UK0LNmn7dQV0Pmg4ZzRvyxOd8XNZqQakNuuNtb8MAfAOZFoDlzz/Jzp5eJ7X2YJ1/JKPROD8bvX4M+xLyJDbgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv8EuAAQDmbqQRXFC3OAAAAABJRU5ErkJggg==",this.refreshAfterLoad),this.textureFlare.flare3=this.loader.load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAIAAABMXPacAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Qzk3MDg1MDY1MzMzMTFFMDkwN0M4OEMxQ0JGNjFGQkIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Qzk3MDg1MDc1MzMzMTFFMDkwN0M4OEMxQ0JGNjFGQkIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOTcwODUwNDUzMzMxMUUwOTA3Qzg4QzFDQkY2MUZCQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOTcwODUwNTUzMzMxMUUwOTA3Qzg4QzFDQkY2MUZCQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Po4pkJAAAA9KSURBVHja7F0JdqMw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",this.refreshAfterLoad),this.textureFlare.diaphragm=this.loader.load("data:image/png;base64,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",this.refreshAfterLoad),n.color||(this.config.color={h:.08,s:.2,l:.5}),n.position||(this.config.position={yaw:0,pitch:0}),this.state.position=this.viewer.dataHelper.cleanPosition(this.config.position),n.size||(this.config.size={width:1,height:1}),this.element=this.__createMesh(),this.viewer.config.withCredentials&&this.loader.setWithCredentials(!0),this.update(n)}return JP(t,[{key:"id",get:function(){return this.config.id}},{key:"domElement",get:function(){return null}},{key:"threeElement",get:function(){return this.element}},{key:"destroy",value:function(){delete this.threeElement.children[0].userData[rT]}},{key:"addLight",value:function(t,e,n,i,r,a){var o=new aA(16777215,1.5,2e3);o.color.setHSL(t,e,n),o.position.set(i,r,a),this.config.type;var s=new nT;return s.addElement(new iT(this.textureFlare.light,700,0,o.color)),s.addElement(new iT(this.textureFlare.flare2,800,.1)),s.addElement(new iT(this.textureFlare.diaphragm,130,.45,new dm(195090))),s.addElement(new iT(this.textureFlare.diaphragm,110,.55,new dm(65298))),s.addElement(new iT(this.textureFlare.flare3,70,.7,new dm(140195))),s.addElement(new iT(this.textureFlare.flare3,80,.8,new dm(195090))),s.addElement(new iT(this.textureFlare.flare3,120,.85)),o.add(s),o}},{key:"update",value:function(t){gf.isExtendedPosition(t)&&(gf.logWarn('Use the "position" property to configure the position of a lensflare'),t.position=this.viewer.dataHelper.cleanPosition(t)),"width"in t&&"height"in t&&(gf.logWarn('Use the "size" property to configure the size of a lensflare'),t.size={width:t.width,height:t.height}),this.config=gf.deepmerge(this.config,t),this.config.scale&&Array.isArray(this.config.scale)&&(this.config.scale={zoom:this.config.scale}),this.visible=!1!==this.config.visible,this.state.anchor=gf.parsePoint(this.config.anchor),this.__update3d()}},{key:"__update3d",value:function(){var t,e=this.threeElement;if(!gf.isExtendedPosition(this.config.position))throw new Xf("missing lensflare position");switch(this.state.dynamicSize=!1,this.state.position=this.viewer.dataHelper.cleanPosition(this.config.position),this.state.positions3D=[this.viewer.dataHelper.sphericalCoordsToVector3(this.state.position)],e.children[0].position.set(this.state.anchor.x-.5,this.state.anchor.y-.5,0),e.children[0].material.opacity=null!==(t=this.config.opacity)&&void 0!==t?t:1,e.position.copy(this.state.positions3D[0]),this.config.orientation){case"horizontal":e.lookAt(0,e.position.y,0),e.rotateX(this.state.position.pitch<0?-Math.PI/2:Math.PI/2);break;case"vertical-left":e.lookAt(0,0,0),e.rotateY(.4*-Math.PI);break;case"vertical-right":e.lookAt(0,0,0),e.rotateY(.4*Math.PI);break;default:e.lookAt(0,0,0)}e.scale.set(this.config.size.width/100,this.config.size.height/100,1)}},{key:"__createMesh",value:function(){var t,e,n,i=this.viewer.dataHelper.sphericalCoordsToVector3(this.state.position),r=this.addLight(this.config.color.h,this.config.color.s,this.config.color.l,i.x,i.y,1),a=new Ig({transparent:!0,opacity:1,depthTest:!1}),o=new Sy(0,0),s=new cy(o,a);s.userData=(t={},n=this,(e=ZP(e=rT))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t);var l=(new Py).add(s).add(r);return Object.defineProperty(l,"visible",{enumerable:!0,get:function(){return this.children[0].userData[rT].visible},set:function(t){this.children[0].userData[rT].visible=t}}),l}}]),t}(),oT=function(t){KP(n,t);var e=tT(n);function n(){return qP(this,n),e.apply(this,arguments)}return JP(n)}(Ad),sT=function(t){KP(n,t);var e=tT(n);function n(t,i){var r;return qP(this,n),(r=e.call(this,n.type)).lensflare=t,r.visible=i,r}return JP(n)}(oT);sT.type="lensflare-visibility";var lT=function(t){KP(n,t);var e=tT(n);function n(t){var i;return qP(this,n),(i=e.call(this,n.type)).lensflares=t,i}return JP(n)}(oT);lT.type="set-lensflares";var uT=gf.getConfigParser({lensflares:null}),cT=function(t){KP(n,t);var e=tT(n);function n(t,i){var r;return qP(this,n),(r=e.call(this,t)).lensflares={},r.state={visible:!0,currentLensflare:null,hoveringLensflare:null},r.config=uT(i),r.renderLensflares(),r}return JP(n,[{key:"init",value:function(){XP(eT(n.prototype),"init",this).call(this),this.viewer.addEventListener(xd.RenderEvent.type,this),this.viewer.addEventListener(xd.ReadyEvent.type,this,{once:!0})}},{key:"destroy",value:function(){this.clearLensflares(!1),this.viewer.removeEventListener(xd.RenderEvent.type,this),this.viewer.removeEventListener(xd.ReadyEvent.type,this),XP(eT(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case xd.ReadyEvent.type:this.config.lensflares&&(this.setLensflares(this.config.lensflares),delete this.config.lensflares);break;case xd.RenderEvent.type:this.renderLensflares()}}},{key:"toggleAllLensflares",value:function(){var t,e=WP(this.getLensflares());try{for(e.s();!(t=e.n()).done;){var n=t.value;this.toggleLensflare(n)}}catch(i){e.e(i)}finally{e.f()}}},{key:"showAllLensflares",value:function(){var t,e=WP(this.getLensflares());try{for(e.s();!(t=e.n()).done;){var n=t.value;this.toggleLensflare(n,!0)}}catch(i){e.e(i)}finally{e.f()}}},{key:"hideAllLensflares",value:function(){var t,e=WP(this.getLensflares());try{for(e.s();!(t=e.n()).done;){var n=t.value;this.toggleLensflare(n,!1)}}catch(i){e.e(i)}finally{e.f()}}},{key:"getNbLensflares",value:function(){return Object.keys(this.lensflares).length}},{key:"getLensflares",value:function(){return Object.values(this.lensflares)}},{key:"addLensflare",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.lensflares[t.id])throw new Xf('lensflare "'.concat(t.id,'" already exists'));var n=new aT(this.viewer,t);this.viewer.renderer.addObject(n.threeElement),this.lensflares[n.id]=n,e&&this.__afterChangerLensflares()}},{key:"getLensflare",value:function(t){var e="object"===GP(t)?t.id:t;if(!this.lensflares[e])throw new Xf('cannot find lensflare "'.concat(e,'"'));return this.lensflares[e]}},{key:"getCurrentLensflare",value:function(){return this.state.currentLensflare}},{key:"updateLensflare",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.getLensflare(t.id).update(t),e&&this.__afterChangerLensflares()}},{key:"removeLensflare",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getLensflare(t);this.viewer.renderer.removeObject(n.threeElement),this.state.currentLensflare===n&&(this.state.currentLensflare=null),n.destroy(),delete this.lensflares[n.id],e&&this.__afterChangerLensflares()}},{key:"removeLensflares",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.forEach((function(t){return e.removeLensflare(t,!1)})),n&&this.__afterChangerLensflares()}},{key:"setLensflares",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clearLensflares(!1),null===t||void 0===t||t.forEach((function(t){e.addLensflare(t,!1)})),n&&this.__afterChangerLensflares()}},{key:"clearLensflares",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object.keys(this.lensflares).forEach((function(e){t.removeLensflare(e,!1)})),e&&this.__afterChangerLensflares()}},{key:"hideLensflare",value:function(t){this.toggleLensflare(t,!1)}},{key:"showLensflare",value:function(t){this.toggleLensflare(t,!0)}},{key:"toggleLensflare",value:function(t,e){var n=this.getLensflare(t);n.visible=void 0===e?!n.visible:e,this.viewer.needsUpdate()}},{key:"renderLensflares",value:function(){var t=this;Object.values(this.lensflares).forEach((function(e){var n,i=t.state.visible&&e.visible;n=e.state.visible!==i,e.state.visible=i,e.state.position2D=null,n&&t.dispatchEvent(new sT(e,i))}))}},{key:"__afterChangerLensflares",value:function(){this.viewer.needsUpdate(),this.dispatchEvent(new lT(this.getLensflares()))}}]),n}(Sp);cT.id="lensflare";tv('/*!\n * PhotoSphereViewer.MarkersPlugin 5.1.4\n * @copyright 2023 Damien "Mistic" Sorel\n * @licence MIT (https://opensource.org/licenses/MIT)\n */\n/* src/style.scss */\n.psv-markers {\n  user-select: none;\n  position: absolute;\n  z-index: 10;\n  width: 100%;\n  height: 100%;\n}\n.psv-markers-svg-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 20;\n}\n.psv-marker {\n  display: none;\n}\n.psv-marker--normal {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 30;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n.psv-marker--transparent {\n  display: block;\n  opacity: 0;\n}\n.psv-marker--visible {\n  display: block;\n}\n.psv-marker--has-tooltip,\n.psv-marker--has-content {\n  cursor: pointer;\n}');tv('/*!\n * PhotoSphereViewer.CompassPlugin 5.1.4\n * @copyright 2023 Damien "Mistic" Sorel\n * @licence MIT (https://opensource.org/licenses/MIT)\n */\n/* src/style.scss */\n.psv-compass {\n  position: absolute;\n  margin: 10px;\n  z-index: 40;\n}\n.psv--has-navbar .psv-compass {\n  margin-bottom: calc(40px + 10px);\n}\n.psv-compass canvas,\n.psv-compass svg {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.psv-compass--top-left,\n.psv-compass--top-center,\n.psv-compass--top-right {\n  top: 0;\n}\n.psv-compass--center-left,\n.psv-compass--center-center,\n.psv-compass--center-right {\n  top: 50%;\n}\n.psv-compass--bottom-left,\n.psv-compass--bottom-center,\n.psv-compass--bottom-right {\n  bottom: 0;\n}\n.psv-compass--top-left,\n.psv-compass--center-left,\n.psv-compass--bottom-left {\n  left: 0;\n}\n.psv-compass--top-center,\n.psv-compass--center-center,\n.psv-compass--bottom-center {\n  left: 50%;\n}\n.psv-compass--top-right,\n.psv-compass--center-right,\n.psv-compass--bottom-right {\n  right: 0;\n}');tv('/*!\n * PhotoSphereViewer.GalleryPlugin 5.1.4\n * @copyright 2023 Damien "Mistic" Sorel\n * @licence MIT (https://opensource.org/licenses/MIT)\n */\n/* src/style.scss */\n.psv-gallery {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  background: rgba(61, 61, 61, 0.5);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.7);\n  overflow-x: auto;\n  overflow-y: hidden;\n  transition: transform ease-in-out 0.1s;\n  transform: translateY(100%);\n  z-index: 90;\n}\n.psv--has-navbar .psv-gallery {\n  bottom: 40px;\n  transform: translateY(calc(100% + 40px));\n}\n.psv-gallery--open {\n  transform: translateY(0) !important;\n}\n.psv-gallery-container {\n  display: flex;\n  padding: 15px;\n}\n.psv-gallery-item {\n  flex: none;\n  position: relative;\n  margin-right: 15px;\n  border-radius: 5px;\n  overflow: hidden;\n  cursor: pointer;\n}\n.psv-gallery-item-wrapper {\n  width: 100%;\n  height: 0;\n}\n.psv-gallery-item-title {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  box-sizing: border-box;\n  width: 100%;\n  height: 2.2em;\n  padding: 0.5em;\n  background: rgba(0, 0, 0, 0.6);\n  font: 16px sans-serif;\n  line-height: 1.2em;\n  color: rgba(255, 255, 255, 0.7);\n  z-index: 2;\n  transition: height ease-in-out 0.2s;\n}\n.psv-gallery-item-title span {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  user-select: none;\n}\n.psv-gallery-item-thumb {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-position: center center;\n  background-size: cover;\n  transform: scale3d(1, 1, 1);\n  transition: transform ease-in-out 0.2s;\n  z-index: 1;\n}\n.psv-gallery-item:hover .psv-gallery-item-title {\n  height: 100%;\n}\n.psv-gallery-item:hover .psv-gallery-item-title span {\n  white-space: normal;\n}\n.psv-gallery-item:hover .psv-gallery-item-thumb {\n  transform: scale3d(1.2, 1.2, 1);\n}\n.psv-gallery-item--active::after {\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  border: 3px solid white;\n  z-index: 3;\n}\n@media screen and (max-width: 500px) {\n  .psv-gallery {\n    top: 0;\n    overflow-x: hidden;\n    overflow-y: auto;\n  }\n  .psv-gallery-container {\n    flex-wrap: wrap;\n    margin-right: -15px;\n    margin-top: 32px;\n    padding-top: 0;\n  }\n  .psv-gallery-item {\n    width: calc(50% - 15px) !important;\n    margin-bottom: 15px;\n  }\n  .psv-gallery .psv-panel-close-button {\n    display: block;\n    z-index: 10;\n  }\n}');tv('/*!\n * PhotoSphereViewer.SettingsPlugin 5.1.4\n * @copyright 2023 Damien "Mistic" Sorel\n * @licence MIT (https://opensource.org/licenses/MIT)\n */\n/* src/style.scss */\n.psv-settings {\n  position: absolute;\n  bottom: 40px;\n  background: rgba(10, 10, 10, 0.7);\n  box-shadow: 0 0 5px rgba(10, 10, 10, 0.7);\n  color: rgb(220, 220, 220);\n  z-index: 90;\n  opacity: 0;\n  transition: opacity 0.1s linear;\n  margin: 10px;\n}\n.psv-settings--open {\n  opacity: 1;\n}\n.psv-settings-list {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n.psv-settings-item {\n  height: 1.5em;\n  padding: 0.5em 1em;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  cursor: pointer;\n}\n.psv-settings-item:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n.psv-settings-item:focus-visible {\n  outline: 2px solid #007cff;\n  outline-offset: -2px;\n}\n.psv-settings-item *:not(:last-child) {\n  margin-right: 1em;\n}\n.psv-settings-item-label {\n  flex: 1;\n  font-weight: bold;\n}\n.psv-settings-item-value {\n  flex: none;\n}\n.psv-settings-item-icon {\n  flex: none;\n  height: 1em;\n  width: 1em;\n}\n.psv-settings-item-icon svg {\n  width: 1em;\n  height: 1em;\n}\n.psv-settings-item--header {\n  border-bottom: 1px solid currentcolor;\n}\n.psv-settings-item--header svg {\n  transform: scaleX(-1);\n}\n.psv-settings-badge {\n  position: absolute;\n  top: 10%;\n  right: 10%;\n  border-radius: 0.2em;\n  padding: 0.2em;\n  background: #111;\n  color: white;\n  font: 10px/0.9 monospace;\n}');tv('/*!\n * PhotoSphereViewer.VideoPlugin 5.1.4\n * @copyright 2023 Damien "Mistic" Sorel\n * @licence MIT (https://opensource.org/licenses/MIT)\n */\n/* src/style.scss */\n.psv-video-progressbar {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  height: 20px;\n  cursor: pointer;\n  z-index: 89;\n}\n.psv--has-navbar .psv-video-progressbar {\n  bottom: 40px;\n}\n.psv-video-progressbar > * {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  height: 3px;\n  transition: height 0.2s linear;\n}\n.psv-video-progressbar:hover > * {\n  height: 5px;\n}\n.psv-video-progressbar__progress {\n  background-color: rgba(255, 255, 255, 0.7);\n}\n.psv-video-progressbar__buffer {\n  background-color: rgba(255, 255, 255, 0.2);\n}\n.psv-video-progressbar__handle {\n  display: none;\n  height: 9px !important;\n  width: 9px;\n  border-radius: 50%;\n  margin-bottom: -2px;\n  margin-left: -4.5px;\n  background: white;\n}\n.psv-video-time {\n  flex: 0 0 auto;\n}\n.psv-video-time .psv-caption-content {\n  min-width: 6em;\n  text-align: center;\n}\n.psv-video-volume__container {\n  position: absolute;\n  left: 0;\n  bottom: 40px;\n  padding: 20px 0;\n  width: 40px;\n  height: 0;\n  opacity: 0;\n  background: rgba(61, 61, 61, 0.5);\n  transition: opacity 0.2s linear, height 0.3s step-end;\n}\n.psv--is-touch .psv-video-volume__container {\n  display: none;\n}\n.psv-video-volume__range {\n  position: relative;\n  height: 80px;\n}\n.psv-video-volume__progress,\n.psv-video-volume__track {\n  position: absolute;\n  bottom: 0;\n  left: 17.5px;\n  width: 5px;\n  background: rgba(255, 255, 255, 0.7);\n}\n.psv-video-volume__track {\n  height: 100%;\n  background: rgba(255, 255, 255, 0.2);\n}\n.psv-video-volume__handle {\n  position: absolute;\n  left: 17.5px;\n  height: 9px;\n  width: 9px;\n  border-radius: 50%;\n  margin-left: -2px;\n  margin-bottom: -4.5px;\n  background: white;\n}\n.psv-video-volume-button {\n  position: relative;\n}\n.psv-video-volume-button:hover .psv-video-volume__container {\n  height: 80px;\n  opacity: 1;\n  transition-timing-function: linear, step-start;\n  transition-delay: 0.2s;\n}\n.psv-video-volume-button--0 .psv-button-svg #lvl1,\n.psv-video-volume-button--0 .psv-button-svg #lvl2,\n.psv-video-volume-button--0 .psv-button-svg #lvl3 {\n  fill: none;\n}\n.psv-video-volume-button--1 .psv-button-svg #lvl0,\n.psv-video-volume-button--1 .psv-button-svg #lvl2,\n.psv-video-volume-button--1 .psv-button-svg #lvl3 {\n  fill: none;\n}\n.psv-video-volume-button--2 .psv-button-svg #lvl0,\n.psv-video-volume-button--2 .psv-button-svg #lvl3 {\n  fill: none;\n}\n.psv-video-volume-button--3 .psv-button-svg #lvl0 {\n  fill: none;\n}\n.psv-video-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 110;\n  pointer-events: none;\n}\n.psv-video-bigbutton {\n  display: block;\n  border: none;\n  background: none;\n  padding: 0;\n  color: rgba(255, 255, 255, 0.7);\n  pointer-events: auto;\n  cursor: pointer;\n  opacity: 0;\n  width: 0;\n  transition: opacity 0.2s linear, width 0.3s step-end;\n}\n.psv-video-bigbutton--pause {\n  width: 20vw;\n  opacity: 1;\n  transition-timing-function: linear, step-start;\n}\n@media (orientation: landscape) {\n  .psv-video-bigbutton--pause {\n    width: 10vw;\n  }\n}\n.psv-video-bigbutton svg {\n  width: 100%;\n}');tv('/*!\n * PhotoSphereViewer.VirtualTourPlugin 5.1.4\n * @copyright 2023 Damien "Mistic" Sorel\n * @licence MIT (https://opensource.org/licenses/MIT)\n */\n/* src/style.scss */\n.psv-virtual-tour__marker svg {\n  filter: drop-shadow(0 10px 5px rgba(0, 0, 0, 0.8));\n  transform: perspective(100px) rotate3d(1, 0, 0, 0deg);\n  transform-origin: bottom center;\n  transition: 0.2s all ease-in-out;\n}\n.psv-virtual-tour__marker:hover svg {\n  filter: drop-shadow(0 5px 3px rgb(0, 0, 0));\n  transform: perspective(100px) rotate3d(1, 0, 0, 10deg);\n}\n.psv-virtual-tour__menu .psv-panel-menu-item-icon {\n  width: 60px;\n  height: 60px;\n}');tv('/*!\n * PhotoSphereViewer.MapPlugin 5.1.4\n * @copyright 2023 Damien "Mistic" Sorel\n * @licence MIT (https://opensource.org/licenses/MIT)\n */\n/* src/style.scss */\n.psv-map {\n  position: absolute;\n  margin: 10px;\n  z-index: 40;\n  transition: all ease-in-out 0.3s;\n}\n.psv--has-navbar .psv-map {\n  margin-bottom: calc(40px + 10px);\n}\n.psv-map__container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: -1;\n  background: rgba(61, 61, 61, 0.7);\n  overflow: hidden;\n  border-radius: 50%;\n  cursor: move;\n  transition: all ease-in-out 0.3s;\n}\n.psv-map__container svg,\n.psv-map__container img,\n.psv-map__container canvas {\n  width: 100%;\n  height: 100%;\n}\n.psv-map__overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.psv-map__toolbar {\n  position: absolute;\n  bottom: 1em;\n  left: calc(50% - 3.25em);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font: 12px sans-serif;\n  padding: 0.25em;\n  border-radius: 1.5em;\n  background: #222;\n  color: white;\n  user-select: none;\n  transition: opacity ease-in-out 0.3s;\n}\n.psv-map__toolbar svg {\n  height: 1em;\n  cursor: pointer;\n}\n.psv-map__toolbar-text {\n  width: 4em;\n  text-align: center;\n}\n.psv-map__button {\n  position: absolute;\n  width: 34px;\n  aspect-ratio: 1;\n  line-height: 0;\n  background: rgba(61, 61, 61, 0.7);\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transform-origin: center;\n  color: rgba(255, 255, 255, 0.7);\n  cursor: pointer;\n  transition: all ease-in-out 0.3s;\n}\n.psv-map__button svg {\n  width: 60%;\n}\n.psv-map__button--top-left {\n  left: 14.645%;\n  top: 14.645%;\n  transform: translate(-32.021px, -32.021px);\n}\n.psv-map__button--top-right {\n  right: 14.645%;\n  top: 14.645%;\n  transform: translate(32.021px, -32.021px);\n}\n.psv-map__button--bottom-left {\n  left: 14.645%;\n  bottom: 14.645%;\n  transform: translate(-32.021px, 32.021px);\n}\n.psv-map__button--bottom-right {\n  right: 14.645%;\n  bottom: 14.645%;\n  transform: translate(32.021px, 32.021px);\n}\n.psv-map--maximized {\n  margin: 0;\n  width: 100% !important;\n  height: 100% !important;\n}\n.psv--has-navbar .psv-map--maximized {\n  height: calc(100% - 40px) !important;\n  margin-bottom: 40px;\n}\n.psv-map--maximized .psv-map__container {\n  border-radius: 0;\n}\n.psv-map--maximized .psv-map__button {\n  border: 2px solid currentcolor;\n}\n.psv-map--maximized .psv-map__button--top-left {\n  left: 44px;\n  top: 44px;\n}\n.psv-map--maximized .psv-map__button--top-right {\n  right: 44px;\n  top: 44px;\n}\n.psv-map--maximized .psv-map__button--bottom-left {\n  left: 44px;\n  bottom: 44px;\n}\n.psv-map--maximized .psv-map__button--bottom-right {\n  right: 44px;\n  bottom: 44px;\n}\n.psv-map--collapsed {\n  width: 34px !important;\n  height: 34px !important;\n}\n.psv-map--collapsed > * {\n  opacity: 0;\n}\n.psv-map--collapsed .psv-map__button-close {\n  opacity: 1;\n  transform: translate(0, 0);\n  z-index: 1;\n}\n.psv-map--top-left {\n  top: 0;\n  left: 0;\n}\n.psv-map--top-right {\n  top: 0;\n  right: 0;\n}\n.psv-map--bottom-left {\n  bottom: 0;\n  left: 0;\n}\n.psv-map--bottom-right {\n  bottom: 0;\n  right: 0;\n}');var hT={},fT={get exports(){return hT},set exports(t){hT=t}};function dT(t){return dT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dT(t)}!function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(t,e,i,a,o){if("function"!==typeof i)throw new TypeError("The listener must be a function");var s=new r(i,a||t,o),l=n?n+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function o(t,e){0===--t._eventsCount?t._events=new i:delete t._events[e]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,i,r=[];if(0===this._eventsCount)return r;for(i in t=this._events)e.call(t,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},s.prototype.listeners=function(t){var e=n?n+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,a=i.length,o=new Array(a);r<a;r++)o[r]=i[r].fn;return o},s.prototype.listenerCount=function(t){var e=n?n+t:t,i=this._events[e];return i?i.fn?1:i.length:0},s.prototype.emit=function(t,e,i,r,a,o){var s=n?n+t:t;if(!this._events[s])return!1;var l,u,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,i),!0;case 4:return c.fn.call(c.context,e,i,r),!0;case 5:return c.fn.call(c.context,e,i,r,a),!0;case 6:return c.fn.call(c.context,e,i,r,a,o),!0}for(u=1,l=new Array(h-1);u<h;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,i);break;case 4:c[u].fn.call(c[u].context,e,i,r);break;default:if(!l)for(f=1,l=new Array(h-1);f<h;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(t,e,n){return a(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return a(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,i,r){var a=n?n+t:t;if(!this._events[a])return this;if(!e)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==e||r&&!s.once||i&&s.context!==i||o(this,a);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==e||r&&!s[l].once||i&&s[l].context!==i)&&u.push(s[l]);u.length?this._events[a]=1===u.length?u[0]:u:o(this,a)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&o(this,e)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s}(fT);var pT=new hT,vT={on:function(t,e){return pT.on(t,e)},once:function(t,e){return pT.once(t,e)},off:function(t,e){return pT.off(t,e)},emit:function(t,e){return pT.emit(t,e)}};Object.freeze(vT);var mT=["src","height","width","containerClass","littlePlanet","onPositionChange","onZoomChange","onClick","onDblclick","onReady"],gT=["autorotate","zoom","fullscreen"];function yT(t){return null==t?gT:Array.isArray(t)?t:"string"===typeof t?""!==t&&[t]:!!t&&gT}var wT=(0,e.forwardRef)((function(t,n){var i=(0,e.createRef)(),r=(0,e.useRef)(null),a=130,o=(0,e.useState)(-90)[0],s=(0,e.useState)(2)[0],l=(0,e.useState)(0)[0],u=(0,e.useState)(gT),c=u[0],h=u[1];return(0,e.useEffect)((function(){function t(){var t,e,n=window.innerWidth/window.innerHeight;a=Math.floor((n-(t=.5))*(115-(e=140))/(1.8-t)+e)}return window.addEventListener("resize",t),t(),function(){return window.removeEventListener("resize",t)}}),[]),(0,e.useEffect)((function(){var e,n,u,c,f=!0;if(i.current&&!r.current){var d=new $p(Vn(Vn({},function(t){var e=Vn({},t);for(var n in e)mT.includes(n)&&delete e[n];return e}(t)),{container:i.current,panorama:t.src,size:{height:t.height,width:t.width||"100px"},fisheye:t.littlePlanet?s:t.fisheye||!1,minFov:t.minFov||30,maxFov:t.littlePlanet?a:t.maxFov||90,defaultZoomLvl:t.littlePlanet?l:t.defaultZoomLvl||50,defaultYaw:t.defaultYaw||0,defaultPitch:t.littlePlanet?o:t.defaultPitch||0,sphereCorrection:t.sphereCorrection||{pan:0,tilt:0,roll:0},moveSpeed:t.moveSpeed||1,zoomSpeed:t.zoomSpeed||1,moveInertia:null===(e=t.moveInertia)||void 0===e||e,mousewheel:!t.littlePlanet&&(null===(n=t.mousewheel)||void 0===n||n),mousemove:null===(u=t.mousemove)||void 0===u||u,mousewheelCtrlKey:t.mousewheelCtrlKey||!1,touchmoveTwoFingers:t.touchmoveTwoFingers||!1,useXmpData:null===(c=t.useXmpData)||void 0===c||c,panoData:t.panoData||{},requestHeaders:t.requestHeaders||{},canvasBackground:t.canvasBackground||"#000",withCredentials:t.withCredentials||!1,navbar:yT(t.navbar),lang:t.lang||{},keyboard:t.keyboard||{},plugins:Gn([[GA,{autorotatePitch:"5deg",autostartDelay:void 0,autostartOnIdle:!1}]],t.plugins?t.plugins:[],!0)}));if(d.addEventListener("ready",(function(){t.onReady&&t.onReady(d)}),{once:!0}),d.addEventListener("click",(function(e){t.onClick&&t.onClick(e,d),t.littlePlanet&&f&&(f=!1,d.animate({yaw:0,pitch:o,zoom:75,speed:"3rpm"}).then((function(){d.animate({yaw:0,pitch:0,zoom:90,speed:"10rpm"}).then((function(){var e,n=d.getPlugin("autorotate");n&&n.start(),d.setOption("maxFov",t.maxFov||70),d.setOption("mousewheel",null===(e=t.mousewheel)||void 0===e||e)}))})))})),d.addEventListener("dblclick",(function(e){t.onDblclick&&t.onDblclick(e,d)})),d.addEventListener("zoom-updated",(function(e){t.onZoomChange&&t.onZoomChange(e,d)})),d.addEventListener("position-updated",(function(e){t.onPositionChange&&t.onPositionChange(e.position.pitch,e.position.yaw,d)})),t.littlePlanet){var p={id:"resetLittlePlanetButton",content:"\ud83e\ude90",title:"Reset Little Planet",className:"resetLittlePlanetButton",onClick:function(){f=!0;var t=d.getPlugin("autorotate");t&&t.stop(),d.setOption("maxFov",a),d.setOption("mousewheel",!1),d.animate({yaw:0,pitch:o,zoom:l,speed:"10rpm"})}},v=yT(t.navbar);!1===v||v.find((function(t){return"object"===dT(t)&&"resetLittlePlanetButton"===(null===t||void 0===t?void 0:t.id)}))||(v.push(p),d.setOption("navbar",v),h(v))}vT.on("animate",(function(t){d.animate(t)})).on("stop-animation",(function(){d.stopAnimation()})).on("destroy",(function(){d.destroy()})).on("rotate",(function(t){d.rotate(t)})).on("setOption",(function(t){var e=t.option,n=t.value;d.setOption(e,n)})).on("zoom",(function(t){d.zoom(t)})).on("zoomIn",(function(){d.zoomIn()})).on("zoomOut",(function(){d.zoomOut()})).on("startAutoRotate",(function(){var t=d.getPlugin("autorotate");t&&t.start()})).on("stopAutoRotate",(function(){var t=d.getPlugin("autorotate");t&&t.stop()})).on("toggleAutorotate",(function(){var t=d.getPlugin("autorotate");t&&t.toggle()})),r.current=d}}),[i,t]),(0,e.useImperativeHandle)(n,(function(){return{animate:function(t){vT.emit("animate",t)},destroy:function(){vT.emit("destroy",{})},rotate:function(t){vT.emit("rotate",t)},setOption:function(t,e){vT.emit("setOption",{option:t,value:e})},setOptions:function(t){var e;return null===(e=r.current)||void 0===e?void 0:e.setOptions(t)},getCurrentNavbar:function(){return c},zoom:function(t){vT.emit("zoom",t)},zoomIn:function(){vT.emit("zoomIn",{})},zoomOut:function(){vT.emit("zoomOut",{})},resize:function(t){var e;return null===(e=r.current)||void 0===e?void 0:e.resize(t)},enterFullscreen:function(){var t;return null===(t=r.current)||void 0===t?void 0:t.enterFullscreen()},exitFullscreen:function(){var t;return null===(t=r.current)||void 0===t?void 0:t.exitFullscreen()},toggleFullscreen:function(){var t;return null===(t=r.current)||void 0===t?void 0:t.toggleFullscreen()},isFullscreenEnabled:function(){var t;return null===(t=r.current)||void 0===t?void 0:t.isFullscreenEnabled()},startAutoRotate:function(){vT.emit("startAutoRotate",{})},stopAutoRotate:function(){vT.emit("stopAutoRotate",{})},getPlugin:function(t){var e;return null===(e=r.current)||void 0===e?void 0:e.getPlugin(t)},getPosition:function(){var t;return null===(t=r.current)||void 0===t?void 0:t.getPosition()},getZoomLevel:function(){var t;return null===(t=r.current)||void 0===t?void 0:t.getZoomLevel()},getSize:function(){var t;return null===(t=r.current)||void 0===t?void 0:t.getSize()},needsUpdate:function(){var t;return null===(t=r.current)||void 0===t?void 0:t.needsUpdate()},autoSize:function(){var t;return null===(t=r.current)||void 0===t?void 0:t.autoSize()},setPanorama:function(t,e){var n;return null===(n=r.current)||void 0===n?void 0:n.setPanorama(t,e)},setOverlay:function(t,e){var n;return null===(n=r.current)||void 0===n?void 0:n.setOverlay(t,e)},toggleAutorotate:function(){vT.emit("toggleAutorotate",{})},showError:function(t){var e;return null===(e=r.current)||void 0===e?void 0:e.showError(t)},hideError:function(){var t;return null===(t=r.current)||void 0===t?void 0:t.hideError()},startKeyboardControl:function(){var t;return null===(t=r.current)||void 0===t?void 0:t.startKeyboardControl()},stopKeyboardControl:function(){var t;return null===(t=r.current)||void 0===t?void 0:t.stopKeyboardControl()}}}),[r.current,i,t,n]),e.createElement("div",{className:t.containerClass||"view-container",ref:i})}));function bT(t,e,n){return(e=d(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function AT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xT(Object(n),!0).forEach((function(e){bT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _T=1;function kT(t,e){return Object.freeze(AT(AT({},t),e))}var ST=(0,e.createContext)(null),MT=ST.Provider;function ET(){var t=(0,e.useContext)(ST);if(null==t)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function CT(){return ET().map}function PT(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},a=Object.keys(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var TT=n(4164);function LT(t){function n(n,i){var r=t(n).current,a=r.instance,o=r.context;return(0,e.useImperativeHandle)(i,(function(){return a})),null==n.children?null:e.createElement(MT,{value:o},n.children)}return(0,e.forwardRef)(n)}function OT(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function zT(t,n){return null==n?function(n,i){var r=(0,e.useRef)();return r.current||(r.current=t(n,i)),r}:function(i,r){var a=(0,e.useRef)();a.current||(a.current=t(i,r));var o=(0,e.useRef)(i),s=a.current.instance;return(0,e.useEffect)((function(){o.current!==i&&(n(s,i,o.current),o.current=i)}),[s,i,r]),a}}function RT(t,n){var i=(0,e.useRef)(n);(0,e.useEffect)((function(){n!==i.current&&null!=t.attributionControl&&(null!=i.current&&t.attributionControl.removeAttribution(i.current),null!=n&&t.attributionControl.addAttribution(n)),i.current=n}),[t,n])}function DT(t,n){var i=(0,e.useRef)();(0,e.useEffect)((function(){return null!=n&&t.instance.on(n),i.current=n,function(){null!=i.current&&t.instance.off(i.current),i.current=null}}),[t,n])}function IT(t,e){var n,i=null!==(n=t.pane)&&void 0!==n?n:e.pane;return i?AT(AT({},t),{},{pane:i}):t}function BT(t,n){(0,e.useEffect)((function(){var e;return(null!==(e=n.layerContainer)&&void 0!==e?e:n.map).addLayer(t.instance),function(){var e;null===(e=n.layerContainer)||void 0===e||e.removeLayer(t.instance),n.map.removeLayer(t.instance)}}),[n,t])}function NT(t){return function(n){var i=ET(),r=t(IT(n,i),i);return DT(r.current,n.eventHandlers),BT(r.current,i),function(t,n){var i=(0,e.useRef)();(0,e.useEffect)((function(){if(n.pathOptions!==i.current){var e,r=null!==(e=n.pathOptions)&&void 0!==e?e:{};t.instance.setStyle(r),i.current=r}}),[t,n])}(r.current,n),r}}function jT(t,e){var n=function(t){return function(e){var n=ET(),i=t(IT(e,n),n);return RT(n.map,e.attribution),DT(i.current,e.eventHandlers),BT(i.current,n),i}}(zT(t,e));return LT(n)}function FT(t,e){return LT(NT(zT(t,e)))}var UT=n(8559),HT=["position"],VT=jT((function(t,e){var n=t.position,i=PT(t,HT),r=new UT.Marker(n,i);return OT(r,kT(e,{overlayContainer:r}))}),(function(t,e,n){e.position!==n.position&&t.setLatLng(e.position),null!=e.icon&&e.icon!==n.icon&&t.setIcon(e.icon),null!=e.zIndexOffset&&e.zIndexOffset!==n.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),null!=e.opacity&&e.opacity!==n.opacity&&t.setOpacity(e.opacity),null!=t.dragging&&e.draggable!==n.draggable&&(!0===e.draggable?t.dragging.enable():t.dragging.disable())})),GT=function(t){var n=t.position,i=t.setPosition,r=t.icon,a=t.gameState,o=t.setMap;new UT.Circle([0,0]).setRadius(2e4),o(CT());!function(t){var n=CT();(0,e.useEffect)((function(){return n.on(t),function(){n.off(t)}}),[n,t])}({click:function(t){a.guess||(console.log(Object.values(t.latlng)),i(t.latlng))}});return null===n?null:(0,Zt.jsx)(VT,{position:n,icon:r,interactive:!1})},WT=function(t){var e=t.changeLayer,n=(t.setPosition,t.zones),i=n.filter((function(t){return"Tamriel"!=t.name})),r=n.find((function(t){return"Tamriel"==t.name}));return(0,Zt.jsxs)("div",{className:"absolute flex flex-col items-start gap-1 sm:top-0 top-20 sm:-left-32 left-3 sm:items-end",style:{zIndex:"500"},children:[(0,Zt.jsx)("div",{className:"",children:(0,Zt.jsx)("button",{id:"multiLevelDropdownButton","data-dropdown-toggle":"dropdown",onClick:function(t){e("tamriel")},className:"inline-flex items-center w-8 text-sm font-medium text-center text-white sm:justify-end sm:h-1/6 sm:w-32",type:"button",children:(0,Zt.jsx)("div",{className:"focus:ring-4 focus:outline-none bg-yellow-500 hover:bg-yellow-600 focus:ring-yellow-700 rounded-lg sm:px-3.5 px-2.5 py-2.5 sm:w-10 w-8 flex justify-center items-center",children:(0,Zt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"h-3 w- bi bi-map-fill sm:w-4 sm:h-4",viewBox:"0 0 16 16",children:(0,Zt.jsx)("path",{fillRule:"evenodd",d:"M16 .5a.5.5 0 0 0-.598-.49L10.5.99 5.598.01a.5.5 0 0 0-.196 0l-5 1A.5.5 0 0 0 0 1.5v14a.5.5 0 0 0 .598.49l4.902-.98 4.902.98a.502.502 0 0 0 .196 0l5-1A.5.5 0 0 0 16 14.5V.5zM5 14.09V1.11l.5-.1.5.1v12.98l-.402-.08a.498.498 0 0 0-.196 0L5 14.09zm5 .8V1.91l.402.08a.5.5 0 0 0 .196 0L11 1.91v12.98l-.5.1-.5-.1z"})})})})}),(0,Zt.jsxs)("div",{className:"flex flex-col items-start sm:items-end",children:[(0,Zt.jsx)("button",{id:"multiLevelDropdownButton","data-dropdown-toggle":"dropdown",onClick:function(t){!function(){var t=document.getElementById("dropdown");t&&t.classList.toggle("hidden")}()},className:"inline-flex items-center justify-end w-8 text-sm font-medium text-center text-white sm:h-1/6 sm:w-32",type:"button",children:(0,Zt.jsx)("div",{className:"focus:ring-4 focus:outline-none bg-yellow-500 hover:bg-yellow-600 focus:ring-yellow-700 rounded-lg sm:px-3 px-2 py-2.5 sm:w-10 w-8 flex justify-center items-center",children:(0,Zt.jsx)("svg",{className:"w-4 h-4","aria-hidden":"true",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})}),(0,Zt.jsx)("div",{id:"dropdown",className:"z-10 hidden -ml-32 overflow-y-auto bg-gray-700 divide-y divide-gray-100 rounded-lg shadow h-36 sm:h-full sm:max-h-80 3xl:max-h-96 scrollbar",children:(0,Zt.jsxs)("ul",{className:"py-2 text-sm text-gray-200","aria-labelledby":"multiLevelDropdownButton",children:[(0,Zt.jsx)("li",{children:(0,Zt.jsx)("button",{onClick:function(t){e(r.shortName)},className:"block w-full px-4 py-2 text-center hover:bg-gray-600 hover:text-white",children:r.name})}),i.map((function(t,n){return(0,Zt.jsx)("li",{children:(0,Zt.jsx)("button",{onClick:function(n){e(t.shortName)},className:"block w-full px-4 py-2 text-center hover:bg-gray-600 hover:text-white",children:t.name})},n)}))]})})]})]})},QT=function(t){var e=t.position,n=t.mapLevel,i=t.dispatch,r=t.gameState,a=t.map,o=t.setDistance,s=t.setPoints,l=t.setIsMounted;return(0,Zt.jsx)(Zt.Fragment,{children:(0,Zt.jsx)("div",{className:"w-full leaflet-bottom leaflet-left ",children:(0,Zt.jsx)("div",{className:"leaflet-control ",id:"customControl",children:"tamriel"===n?(0,Zt.jsx)("div",{className:"w-full opacity-75",children:(0,Zt.jsx)("button",{className:"border w-full overflow-hidden disabled border-x-zinc-600 border-y-zinc-500 text-zinc-100 text-sm 4k:text-2xl py-1.5 4k:py-3 tracking-wide px-8 font-semibold shadow-md shadow-[rgba(0,0,0,0.75)] rounded-full text-center cursor-default",style:bT({background:"rgb(240,182,87)"},"background","linear-gradient(90deg, rgba(240,182,87,1) 0%, rgba(218,165,32,1) 100%)"),children:(0,Zt.jsx)("span",{children:"Pick a zone"})})}):e?(0,Zt.jsx)("div",{className:"w-full ",children:(0,Zt.jsx)("button",{onClick:function(){!function(){i({type:"submitGuess",value:{position:e,zone:n}});var t=a.distance([e.lat,e.lng],[r.currentLocation.lat,r.currentLocation.lng]);n===r.currentLocation.zone.shortName?t<=2e4?(i({type:"setPoints",value:100}),s(100)):(i({type:"setPoints",value:50}),s(50)):i({type:"setPoints",value:0}),o(t),l(!0)}()},className:"border w-full overflow-hidden disabled border-x-zinc-600 border-y-zinc-500 text-slate-100 text-sm 4k:text-2xl py-1.5 4k:py-3 tracking-wide px-8 font-semibold shadow-md shadow-[rgba(0,0,0,0.75)] rounded-full text-center",style:bT({background:"rgb(240,182,87)"},"background","linear-gradient(90deg, rgba(240,182,87,1) 0%, rgba(218,165,32,1) 100%)"),children:(0,Zt.jsx)("span",{children:"Submit Guess!"})})}):(0,Zt.jsx)("div",{className:"w-full opacity-75",children:(0,Zt.jsx)("button",{className:"border w-full overflow-hidden disabled border-x-zinc-600 border-y-zinc-500 text-gray-100 text-sm 4k:text-2xl py-1.5 4k:py-3 tracking-wide px-8 font-semibold shadow-md shadow-[rgba(0,0,0,0.75)] rounded-full text-center cursor-default",style:bT({background:"rgb(240,182,87)"},"background","linear-gradient(90deg, rgba(240,182,87,1) 0%, rgba(218,165,32,1) 100%)"),children:(0,Zt.jsx)("span",{children:"Place your pin on the map"})})})})})})},XT=["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"];function YT(){return YT=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},YT.apply(this,arguments)}function JT(t,n){var i=t.bounds,r=t.boundsOptions,a=t.center,o=t.children,s=t.className,u=t.id,c=t.placeholder,h=t.style,f=t.whenReady,d=t.zoom,p=PT(t,XT),v=l((0,e.useState)({className:s,id:u,style:h}),1)[0],m=l((0,e.useState)(null),2),g=m[0],y=m[1];(0,e.useImperativeHandle)(n,(function(){var t;return null!==(t=null===g||void 0===g?void 0:g.map)&&void 0!==t?t:null}),[g]);var w=(0,e.useCallback)((function(t){if(null!==t&&null===g){var e=new UT.Map(t,p);null!=a&&null!=d?e.setView(a,d):null!=i&&e.fitBounds(i,r),null!=f&&e.whenReady(f),y(function(t){return Object.freeze({__version:_T,map:t})}(e))}}),[]);(0,e.useEffect)((function(){return function(){null===g||void 0===g||g.map.remove()}}),[g]);var b=g?e.createElement(MT,{value:g},o):null!==c&&void 0!==c?c:null;return e.createElement("div",YT({},v,{ref:w}),b)}var ZT=(0,e.forwardRef)(JT);var qT,KT=["bounds","url"],$T=jT((function(t,e){var n=t.bounds,i=t.url,r=PT(t,KT),a=new UT.ImageOverlay(i,n,r);return OT(a,kT(e,{overlayContainer:a}))}),(function(t,e,n){if(function(t,e,n){e.bounds instanceof UT.LatLngBounds&&e.bounds!==n.bounds&&t.setBounds(e.bounds),null!=e.opacity&&e.opacity!==n.opacity&&t.setOpacity(e.opacity),null!=e.zIndex&&e.zIndex!==n.zIndex&&t.setZIndex(e.zIndex)}(t,e,n),e.bounds!==n.bounds){var i=e.bounds instanceof UT.LatLngBounds?e.bounds:new UT.LatLngBounds(e.bounds);t.setBounds(i)}e.url!==n.url&&t.setUrl(e.url)})),tL=(qT=function(t,n,i,r){var a=i.position;(0,e.useEffect)((function(){var e=n.overlayContainer;if(null!=e){var i=t.instance,o=function(t){t.tooltip===i&&(null!=a&&i.setLatLng(a),i.update(),r(!0))},s=function(t){t.tooltip===i&&r(!1)};return e.on({tooltipopen:o,tooltipclose:s}),e.bindTooltip(i),function(){e.off({tooltipopen:o,tooltipclose:s}),null!=e._map&&e.unbindTooltip()}}}),[t,n,r,a])},function(t){function n(n,i){var r=l((0,e.useState)(!1),2),a=r[0],o=r[1],s=t(n,o).current.instance;(0,e.useImperativeHandle)(i,(function(){return s})),(0,e.useEffect)((function(){a&&s.update()}),[s,a,n.children]);var u=s._contentNode;return u?(0,TT.createPortal)(n.children,u):null}return(0,e.forwardRef)(n)}(function(t,e){return function(n,i){var r=ET(),a=t(IT(n,r),r);return RT(r.map,n.attribution),DT(a.current,n.eventHandlers),e(a.current,r,n,i),a}}(zT((function(t,e){return OT(new UT.Tooltip(t,e.overlayContainer),e)})),qT))),eL=["positions"],nL=FT((function(t,e){var n=t.positions,i=PT(t,eL),r=new UT.Polyline(n,i);return OT(r,kT(e,{overlayContainer:r}))}),(function(t,e,n){e.positions!==n.positions&&t.setLatLngs(e.positions)}));var iL=["center","children"],rL=FT((function(t,e){var n=t.center,i=(t.children,PT(t,iL)),r=new UT.Circle(n,i);return OT(r,kT(e,{overlayContainer:r}))}),(function(t,e,n){e.center!==n.center&&t.setLatLng(e.center),null!=e.radius&&e.radius!==n.radius&&t.setRadius(e.radius)})),aL=function(t){t.dispatch;var n=t.gameState,i=t.icon,r=t.setMapLevel,a=t.mapLevel,o=t.setPosition,s=CT();return(0,e.useEffect)((function(){a!==n.currentLocation.zone.shortName&&(r(n.currentLocation.zone.shortName),setTimeout((function(){o(null)}),1)),s.flyTo([n.currentLocation.lat,n.currentLocation.lng],9)}),[]),(0,Zt.jsxs)(Zt.Fragment,{children:[(0,Zt.jsx)(VT,{position:[n.currentLocation.lat,n.currentLocation.lng],icon:i}),(0,Zt.jsx)(rL,{center:[n.currentLocation.lat,n.currentLocation.lng],radius:2e4})]})},oL=function(t){var i=t.dispatch,r=t.gameState,a=t.setDistance,o=t.setPoints,s=t.setIsMounted,u=t.mapSize,c=t.setMapSize,h=t.zones,f=(0,e.useRef)(),d=l((0,e.useState)("tamriel"),2),p=d[0],v=d[1],m=l((0,e.useState)(null),2),g=m[0],y=m[1],w=l((0,e.useState)(null),2),b=w[0],x=w[1],A=l((0,e.useState)(!1),2),_=A[0],k=(A[1],new UT.Icon({iconUrl:n(6450),iconSize:[32,32],iconAnchor:[16,33]})),S=(0,Jt.ac)({query:"min-width: 1024px"}),M=function(t){S?!r.guess&&c({transform:"scale(0.5) translateZ(0px)",opacity:"0.5",transitionDelay:"250ms"}):c({transform:"translateY(1000px)",opacity:"0.5"})},E=function(t){r.guess||(v(t),setTimeout((function(){y(null)}),1))},C=function(t){S&&c({})};return!_&&(0,Zt.jsx)(Zt.Fragment,{children:(0,Zt.jsx)("div",{className:"absolute bottom-0 flex w-11/12 duration-300 origin-bottom-right h-2/5 sm:w-2/5 lg:w-1/4 sm:right-8 sm:bottom-6 sm:duration-200 rounded-xl",style:AT({},u),onMouseEnter:function(t){return C()},onMouseLeave:function(t){S&&M()},children:(0,Zt.jsxs)("div",{className:"w-full h-full",children:[(0,Zt.jsx)("button",{className:"absolute flex justify-center w-20 p-2 text-yellow-400 -translate-x-1/2 border border-yellow-600 bg-slate-700/90 rounded-2xl sm:hidden left-1/2 -top-8",style:{zIndex:"500"},onClick:function(t){return M()},children:(0,Zt.jsx)("svg",{className:"h-5","data-darkreader-inline-stroke":"",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 5.25l-7.5 7.5-7.5-7.5m15 6l-7.5 7.5-7.5-7.5"})})}),(0,Zt.jsx)(WT,{changeLayer:E,setPosition:y,zones:h}),(0,Zt.jsxs)(ZT,{ref:f,center:[0,0],zoom:5,maxZoom:9,minZoom:5,scrollWheelZoom:!0,className:"w-full h-full shadow-md rounded-b-3xl rounded-tr-3xl rounded-tl-xl shadow-gray-800 ",maxBounds:[[-12,-12],[12,12]],maxBoundsViscosity:.5,zoomControl:!0,attributionControl:!1,children:[(0,Zt.jsx)($T,{url:n(685)("./".concat(p,".jpg")),bounds:[[-10,-10],[10,10]]}),"tamriel"==p?(0,Zt.jsx)(Zt.Fragment,{children:h.map((function(t,e){return(0,Zt.jsx)(VT,{position:[t.lat,t.lng],interactive:!1,opacity:0,children:(0,Zt.jsx)(tL,{direction:"center",offset:[0,0],permanent:!0,interactive:!0,className:"bg-transparent",children:(0,Zt.jsx)("span",{onClick:function(e){return E(t.shortName)},className:"font-serif font-bold text-yellow-300 hover:text-yellow-200 ",id:t.name,children:t.name})})},e)}))}):(0,Zt.jsx)(GT,{position:g,setPosition:y,icon:k,gameState:r,setMap:x}),r.guess&&(0,Zt.jsxs)(Zt.Fragment,{children:[r.guess.zone===r.currentLocation.zone.shortName&&(0,Zt.jsx)(nL,{positions:[[r.guess.position.lat,r.guess.position.lng],[r.currentLocation.lat,r.currentLocation.lng]],color:"#ffffff",dashArray:[1,8]}),(0,Zt.jsx)(aL,{dispatch:i,gameState:r,icon:k,setMapLevel:v,mapLevel:p,setPosition:y})]})]}),(0,Zt.jsx)("div",{className:"w-full leaflet-top leaflet-right",children:(0,Zt.jsx)("div",{className:"w-40 mx-auto",children:(0,Zt.jsx)("span",{className:"block mt-2 text-xl text-center text-stroke",children:h.filter((function(t){return t.shortName==p}))[0].name})})}),(0,Zt.jsx)(QT,{position:g,mapLevel:p,dispatch:i,gameState:r,map:b,setDistance:a,setPoints:o,setIsMounted:s,zones:h})]})})})};function sL(){return sL="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},sL.apply(this,arguments)}var lL=kL(),uL=function(t){return bL(t,lL)},cL=kL();uL.write=function(t){return bL(t,cL)};var hL=kL();uL.onStart=function(t){return bL(t,hL)};var fL=kL();uL.onFrame=function(t){return bL(t,fL)};var dL=kL();uL.onFinish=function(t){return bL(t,dL)};var pL=[];uL.setTimeout=function(t,e){var n=uL.now()+e,i={time:n,handler:t,cancel:function t(){var e=pL.findIndex((function(e){return e.cancel==t}));~e&&pL.splice(e,1),yL-=~e?1:0}};return pL.splice(vL(n),0,i),yL+=1,xL(),i};var vL=function(t){return~(~pL.findIndex((function(e){return e.time>t}))||~pL.length)};uL.cancel=function(t){hL.delete(t),fL.delete(t),dL.delete(t),lL.delete(t),cL.delete(t)},uL.sync=function(t){wL=!0,uL.batchedUpdates(t),wL=!1},uL.throttle=function(t){var e;function n(){try{t.apply(void 0,c(e))}finally{e=null}}function i(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e=i,uL.onStart(n)}return i.handler=t,i.cancel=function(){hL.delete(n),e=null},i};var mL=typeof window<"u"?window.requestAnimationFrame:function(){};uL.use=function(t){return mL=t},uL.now=typeof performance<"u"?function(){return performance.now()}:Date.now,uL.batchedUpdates=function(t){return t()},uL.catch=console.error,uL.frameLoop="always",uL.advance=function(){"demand"!==uL.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):_L()};var gL=-1,yL=0,wL=!1;function bL(t,e){wL?(e.delete(t),t(0)):(e.add(t),xL())}function xL(){gL<0&&(gL=0,"demand"!==uL.frameLoop&&mL(AL))}function AL(){~gL&&(mL(AL),uL.batchedUpdates(_L))}function _L(){var t=gL;gL=uL.now();var e=vL(gL);e&&(SL(pL.splice(0,e),(function(t){return t.handler()})),yL-=e),yL?(hL.flush(),lL.flush(t?Math.min(64,gL-t):16.667),fL.flush(),cL.flush(),dL.flush()):gL=-1}function kL(){var t=new Set,e=t;return{add:function(n){yL+=e!=t||t.has(n)?0:1,t.add(n)},delete:function(n){return yL-=e==t&&t.has(n)?1:0,t.delete(n)},flush:function(n){e.size&&(t=new Set,yL-=e.size,SL(e,(function(e){return e(n)&&t.add(e)})),yL+=t.size,e=t)}}}function SL(t,e){t.forEach((function(t){try{e(t)}catch(n){uL.catch(n)}}))}var ML=Object.defineProperty,EL={};function CL(){}!function(t,e){for(var n in e)ML(t,n,{get:e[n],enumerable:!0})}(EL,{assign:function(){return HL},colors:function(){return jL},createStringInterpolator:function(){return DL},skipAnimation:function(){return FL},to:function(){return IL},willAdvance:function(){return UL}});var PL={arr:Array.isArray,obj:function(t){return!!t&&"Object"===t.constructor.name},fun:function(t){return"function"==typeof t},str:function(t){return"string"==typeof t},num:function(t){return"number"==typeof t},und:function(t){return void 0===t}};function TL(t,e){if(PL.arr(t)){if(!PL.arr(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var LL=function(t,e){return t.forEach(e)};function OL(t,e,n){if(PL.arr(t))for(var i=0;i<t.length;i++)e.call(n,t[i],"".concat(i));else for(var r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var zL=function(t){return PL.und(t)?[]:PL.arr(t)?t:[t]};function RL(t,e){if(t.size){var n=Array.from(t);t.clear(),LL(n,e)}}var DL,IL,BL=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return RL(t,(function(t){return t.apply(void 0,n)}))},NL=function(){return typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)},jL=null,FL=!1,UL=CL,HL=function(t){t.to&&(IL=t.to),t.now&&(uL.now=t.now),void 0!==t.colors&&(jL=t.colors),null!=t.skipAnimation&&(FL=t.skipAnimation),t.createStringInterpolator&&(DL=t.createStringInterpolator),t.requestAnimationFrame&&uL.use(t.requestAnimationFrame),t.batchedUpdates&&(uL.batchedUpdates=t.batchedUpdates),t.willAdvance&&(UL=t.willAdvance),t.frameLoop&&(uL.frameLoop=t.frameLoop)},VL=new Set,GL=[],WL=[],QL=0,XL={get idle(){return!VL.size&&!GL.length},start:function(t){QL>t.priority?(VL.add(t),uL.onStart(YL)):(JL(t),uL(qL))},advance:qL,sort:function(t){if(QL)uL.onFrame((function(){return XL.sort(t)}));else{var e=GL.indexOf(t);~e&&(GL.splice(e,1),ZL(t))}},clear:function(){GL=[],VL.clear()}};function YL(){VL.forEach(JL),VL.clear(),uL(qL)}function JL(t){GL.includes(t)||ZL(t)}function ZL(t){GL.splice(function(t,e){var n=t.findIndex(e);return n<0?t.length:n}(GL,(function(e){return e.priority>t.priority})),0,t)}function qL(t){for(var e=WL,n=0;n<GL.length;n++){var i=GL[n];QL=i.priority,i.idle||(UL(i),i.advance(t),i.idle||e.push(i))}return QL=0,(WL=GL).length=0,(GL=e).length>0}var KL="[-+]?\\d*\\.?\\d+",$L=KL+"%";function tO(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var eO=new RegExp("rgb"+tO(KL,KL,KL)),nO=new RegExp("rgba"+tO(KL,KL,KL,KL)),iO=new RegExp("hsl"+tO(KL,$L,$L)),rO=new RegExp("hsla"+tO(KL,$L,$L,KL)),aO=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,oO=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,sO=/^#([0-9a-fA-F]{6})$/,lO=/^#([0-9a-fA-F]{8})$/;function uO(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function cO(t,e,n){var i=n<.5?n*(1+e):n+e-n*e,r=2*n-i,a=uO(r,i,t+1/3),o=uO(r,i,t),s=uO(r,i,t-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}function hO(t){var e=parseInt(t,10);return e<0?0:e>255?255:e}function fO(t){return(parseFloat(t)%360+360)%360/360}function dO(t){var e=parseFloat(t);return e<0?0:e>1?255:Math.round(255*e)}function pO(t){var e=parseFloat(t);return e<0?0:e>100?1:e/100}function vO(t){var e=function(t){var e;return"number"==typeof t?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=sO.exec(t))?parseInt(e[1]+"ff",16)>>>0:jL&&void 0!==jL[t]?jL[t]:(e=eO.exec(t))?(hO(e[1])<<24|hO(e[2])<<16|hO(e[3])<<8|255)>>>0:(e=nO.exec(t))?(hO(e[1])<<24|hO(e[2])<<16|hO(e[3])<<8|dO(e[4]))>>>0:(e=aO.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=lO.exec(t))?parseInt(e[1],16)>>>0:(e=oO.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=iO.exec(t))?(255|cO(fO(e[1]),pO(e[2]),pO(e[3])))>>>0:(e=rO.exec(t))?(cO(fO(e[1]),pO(e[2]),pO(e[3]))|dO(e[4]))>>>0:null}(t);if(null===e)return t;var n=(16711680&(e=e||0))>>>16,i=(65280&e)>>>8,r=(255&e)/255;return"rgba(".concat((4278190080&e)>>>24,", ").concat(n,", ").concat(i,", ").concat(r,")")}var mO=function t(e,n,i){if(PL.fun(e))return e;if(PL.arr(e))return t({range:e,output:n,extrapolate:i});if(PL.str(e.output[0]))return DL(e);var r=e,a=r.output,o=r.range||[0,1],s=r.extrapolateLeft||r.extrapolate||"extend",l=r.extrapolateRight||r.extrapolate||"extend",u=r.easing||function(t){return t};return function(t){var e=function(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}(t,o);return function(t,e,n,i,r,a,o,s,l){var u=l?l(t):t;if(u<e){if("identity"===o)return u;"clamp"===o&&(u=e)}if(u>n){if("identity"===s)return u;"clamp"===s&&(u=n)}return i===r?i:e===n?t<=e?i:r:(e===-1/0?u=-u:n===1/0?u-=e:u=(u-e)/(n-e),u=a(u),i===-1/0?u=-u:r===1/0?u+=i:u=u*(r-i)+i,u)}(t,o[e],o[e+1],a[e],a[e+1],u,s,l,r.map)}};var gO=1.70158,yO=1.525*gO,wO=gO+1,bO=2*Math.PI/3,xO=2*Math.PI/4.5,AO=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},_O={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return 1-(1-t)*(1-t)},easeInOutQuad:function(t){return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1-Math.pow(1-t,3)},easeInOutCubic:function(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1-Math.pow(1-t,4)},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1-Math.pow(1-t,5)},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2},easeInSine:function(t){return 1-Math.cos(t*Math.PI/2)},easeOutSine:function(t){return Math.sin(t*Math.PI/2)},easeInOutSine:function(t){return-(Math.cos(Math.PI*t)-1)/2},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*t-10)},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2},easeInCirc:function(t){return 1-Math.sqrt(1-Math.pow(t,2))},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2},easeInBack:function(t){return wO*t*t*t-gO*t*t},easeOutBack:function(t){return 1+wO*Math.pow(t-1,3)+gO*Math.pow(t-1,2)},easeInOutBack:function(t){return t<.5?Math.pow(2*t,2)*(2*(yO+1)*t-yO)/2:(Math.pow(2*t-2,2)*((yO+1)*(2*t-2)+yO)+2)/2},easeInElastic:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*t-10)*Math.sin((10*t-10.75)*bO)},easeOutElastic:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin((10*t-.75)*bO)+1},easeInOutElastic:function(t){return 0===t?0:1===t?1:t<.5?-Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*xO)/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*xO)/2+1},easeInBounce:function(t){return 1-AO(1-t)},easeOutBounce:AO,easeInOutBounce:function(t){return t<.5?(1-AO(1-2*t))/2:(1+AO(2*t-1))/2},steps:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return function(n){var i=(n="end"===e?Math.min(n,.999):Math.max(n,.001))*t;return function(t,e,n){return Math.min(Math.max(n,t),e)}(0,1,("end"===e?Math.floor(i):Math.ceil(i))/t)}}},kO=Symbol.for("FluidValue.get"),SO=Symbol.for("FluidValue.observers"),MO=function(t){return!(!t||!t[kO])},EO=function(t){return t&&t[kO]?t[kO]():t},CO=function(t){return t[SO]||null};function PO(t,e){var n=t[SO];n&&n.forEach((function(t){!function(t,e){t.eventObserved?t.eventObserved(e):t(e)}(t,e)}))}var TO=v((function t(e){if(h(this,t),bT(this,kO,void 0),bT(this,SO,void 0),!e&&!(e=this.get))throw Error("Unknown getter");LO(this,e)})),LO=function(t,e){return DO(t,kO,e)};function OO(t,e){if(t[kO]){var n=t[SO];n||DO(t,SO,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function zO(t,e){var n=t[SO];if(n&&n.has(e)){var i=n.size-1;i?n.delete(e):t[SO]=null,t.observerRemoved&&t.observerRemoved(i,e)}}var RO,DO=function(t,e,n){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})},IO=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,BO=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,NO=new RegExp("(".concat(IO.source,")(%|[a-z]+)"),"i"),jO=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,FO=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,UO=function t(e){var n=l(HO(e),2),i=n[0],r=n[1];if(!i||NL())return e;var a=window.getComputedStyle(document.documentElement).getPropertyValue(i);return a?a.trim():r&&r.startsWith("--")?window.getComputedStyle(document.documentElement).getPropertyValue(r)||e:r&&FO.test(r)?t(r):r||e},HO=function(t){var e=FO.exec(t);if(!e)return[,];var n=l(e,3);return[n[1],n[2]]},VO=function(t,e,n,i,r){return"rgba(".concat(Math.round(e),", ").concat(Math.round(n),", ").concat(Math.round(i),", ").concat(r,")")},GO=function(t){RO||(RO=jL?new RegExp("(".concat(Object.keys(jL).join("|"),")(?!\\w)"),"g"):/^\b$/);var e=t.output.map((function(t){return EO(t).replace(FO,UO).replace(BO,vO).replace(RO,vO)})),n=e.map((function(t){return t.match(IO).map(Number)})),i=n[0].map((function(t,e){return n.map((function(t){if(!(e in t))throw Error('The arity of each "output" value must be equal');return t[e]}))})).map((function(e){return mO(AT(AT({},t),{},{output:e}))}));return function(t){var n,r=!NO.test(e[0])&&(null===(n=e.find((function(t){return NO.test(t)})))||void 0===n?void 0:n.replace(IO,"")),a=0;return e[0].replace(IO,(function(){return"".concat(i[a++](t)).concat(r||"")})).replace(jO,VO)}},WO="react-spring: ",QO=function(t){var e=t,n=!1;if("function"!=typeof e)throw new TypeError("".concat(WO,"once requires a function parameter"));return function(){n||(e.apply(void 0,arguments),n=!0)}},XO=QO(console.warn);var YO=QO(console.warn);function JO(t){return PL.str(t)&&("#"==t[0]||/\d/.test(t)||!NL()&&FO.test(t)||t in(jL||{}))}new WeakMap;new Set,new WeakMap,new WeakMap,new WeakMap;var ZO=NL()?e.useEffect:e.useLayoutEffect,qO=function(){var t=(0,e.useRef)(!1);return ZO((function(){return t.current=!0,function(){t.current=!1}}),[]),t};function KO(){var t=(0,e.useState)()[1],n=qO();return function(){n.current&&t(Math.random())}}var $O=function(t){return(0,e.useEffect)(t,tz)},tz=[];function ez(t){var n=(0,e.useRef)();return(0,e.useEffect)((function(){n.current=t})),n.current}var nz=Symbol.for("Animated:node"),iz=function(t){return t&&t[nz]},rz=function(t,e){return function(t,e,n){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}(t,nz,e)},az=function(t){return t&&t[nz]&&t[nz].getPayload()},oz=function(){function t(){h(this,t),bT(this,"payload",void 0),rz(this,this)}return v(t,[{key:"getPayload",value:function(){return this.payload||[]}}]),t}(),sz=function(t){g(n,t);var e=A(n);function n(t){var i;return h(this,n),bT(b(i=e.call(this)),"done",!0),bT(b(i),"elapsedTime",void 0),bT(b(i),"lastPosition",void 0),bT(b(i),"lastVelocity",void 0),bT(b(i),"v0",void 0),bT(b(i),"durationProgress",0),i._value=t,PL.num(i._value)&&(i.lastPosition=i._value),i}return v(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(t,e){return PL.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value!==t&&(this._value=t,!0)}},{key:"reset",value:function(){var t=this.done;this.done=!1,PL.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(t){return new n(t)}}]),n}(oz),lz=function(t){g(n,t);var e=A(n);function n(t){var i;return h(this,n),bT(b(i=e.call(this,0)),"_string",null),bT(b(i),"_toString",void 0),i._toString=mO({output:[t,t]}),i}return v(n,[{key:"getValue",value:function(){var t=this._string;return null!==t&&void 0!==t?t:this._string=this._toString(this._value)}},{key:"setValue",value:function(t){if(PL.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else{if(!sL(y(n.prototype),"setValue",this).call(this,t))return!1;this._string=null}return!0}},{key:"reset",value:function(t){t&&(this._toString=mO({output:[this.getValue(),t]})),this._value=0,sL(y(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(t){return new n(t)}}]),n}(sz),uz={dependencies:null},cz=function(t){g(n,t);var e=A(n);function n(t){var i;return h(this,n),(i=e.call(this)).source=t,i.setValue(t),i}return v(n,[{key:"getValue",value:function(t){var e={};return OL(this.source,(function(n,i){!function(t){return!!t&&t[nz]===t}(n)?MO(n)?e[i]=EO(n):t||(e[i]=n):e[i]=n.getValue(t)})),e}},{key:"setValue",value:function(t){this.source=t,this.payload=this._makePayload(t)}},{key:"reset",value:function(){this.payload&&LL(this.payload,(function(t){return t.reset()}))}},{key:"_makePayload",value:function(t){if(t){var e=new Set;return OL(t,this._addToPayload,e),Array.from(e)}}},{key:"_addToPayload",value:function(t){var e=this;uz.dependencies&&MO(t)&&uz.dependencies.add(t);var n=az(t);n&&LL(n,(function(t){return e.add(t)}))}}]),n}(oz),hz=function(t){g(n,t);var e=A(n);function n(t){return h(this,n),e.call(this,t)}return v(n,[{key:"getValue",value:function(){return this.source.map((function(t){return t.getValue()}))}},{key:"setValue",value:function(t){var e=this.getPayload();return t.length==e.length?e.map((function(e,n){return e.setValue(t[n])})).some(Boolean):(sL(y(n.prototype),"setValue",this).call(this,t.map(fz)),!0)}}],[{key:"create",value:function(t){return new n(t)}}]),n}(cz);function fz(t){return(JO(t)?lz:sz).create(t)}function dz(t){var e=iz(t);return e?e.constructor:PL.arr(t)?hz:JO(t)?lz:sz}var pz=function(t,n){var i=!PL.fun(t)||t.prototype&&t.prototype.isReactComponent;return(0,e.forwardRef)((function(r,a){var o=(0,e.useRef)(null),s=i&&(0,e.useCallback)((function(t){o.current=function(t,e){return t&&(PL.fun(t)?t(e):t.current=e),e}(a,t)}),[a]),u=function(t,e){var n=new Set;return uz.dependencies=n,t.style&&(t=AT(AT({},t),{},{style:e.createAnimatedStyle(t.style)})),t=new cz(t),uz.dependencies=null,[t,n]}(r,n),c=l(u,2),h=c[0],f=c[1],d=KO(),p=function(){var t=o.current;i&&!t||!1===(!!t&&n.applyAnimatedValues(t,h.getValue(!0)))&&d()},v=new vz(p,f),m=(0,e.useRef)();ZO((function(){return m.current=v,LL(f,(function(t){return OO(t,v)})),function(){m.current&&(LL(m.current.deps,(function(t){return zO(t,m.current)})),uL.cancel(m.current.update))}})),(0,e.useEffect)(p,[]),$O((function(){return function(){var t=m.current;LL(t.deps,(function(e){return zO(e,t)}))}}));var g=n.getComponentProps(h.getValue());return e.createElement(t,AT(AT({},g),{},{ref:s}))}))},vz=function(){function t(e,n){h(this,t),this.update=e,this.deps=n}return v(t,[{key:"eventObserved",value:function(t){"change"==t.type&&uL.write(this.update)}}]),t}();var mz=Symbol.for("AnimatedComponent"),gz=function(t){return PL.str(t)?t:t&&PL.str(t.displayName)?t.displayName:PL.fun(t)&&t.name||null},yz=["children"];function wz(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return PL.fun(t)?t.apply(void 0,n):t}var bz=function(t,e){return!0===t||!!(e&&t&&(PL.fun(t)?t(e):zL(t).includes(e)))},xz=function(t,e){return PL.obj(t)?e&&t[e]:t},Az=function(t,e){return!0===t.default?t[e]:t.default?t.default[e]:void 0},_z=function(t){return t},kz=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_z,n=Sz;t.default&&!0!==t.default&&(t=t.default,n=Object.keys(t));var i,r={},a=S(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=e(t[o],o);PL.und(s)||(r[o]=s)}}catch(l){a.e(l)}finally{a.f()}return r},Sz=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Mz={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Ez(t){var e=function(t){var e={},n=0;if(OL(t,(function(t,i){Mz[i]||(e[i]=t,n++)})),n)return e}(t);if(e){var n={to:e};return OL(t,(function(t,i){return i in e||(n[i]=t)})),n}return AT({},t)}function Cz(t){return t=EO(t),PL.arr(t)?t.map(Cz):JO(t)?EL.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function Pz(t){for(var e in t)return!0;return!1}function Tz(t){return PL.fun(t)||PL.arr(t)&&PL.obj(t[0])}function Lz(t,e){var n;null!==(n=t.ref)&&void 0!==n&&n.delete(t),null===e||void 0===e||e.delete(t)}function Oz(t,e){var n;e&&t.ref!==e&&(null!==(n=t.ref)&&void 0!==n&&n.delete(t),e.add(t),t.ref=e)}var zz=AT(AT({},{tension:170,friction:26}),{},{mass:1,damping:1,easing:_O.linear,clamp:!1}),Rz=v((function t(){h(this,t),bT(this,"tension",void 0),bT(this,"friction",void 0),bT(this,"frequency",void 0),bT(this,"damping",void 0),bT(this,"mass",void 0),bT(this,"velocity",0),bT(this,"restVelocity",void 0),bT(this,"precision",void 0),bT(this,"progress",void 0),bT(this,"duration",void 0),bT(this,"easing",void 0),bT(this,"clamp",void 0),bT(this,"bounce",void 0),bT(this,"decay",void 0),bT(this,"round",void 0),Object.assign(this,zz)}));function Dz(t,e){if(PL.und(e.decay)){var n=!PL.und(e.tension)||!PL.und(e.friction);(n||!PL.und(e.frequency)||!PL.und(e.damping)||!PL.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}else t.duration=void 0}var Iz=[],Bz=v((function t(){h(this,t),bT(this,"changed",!1),bT(this,"values",Iz),bT(this,"toValues",null),bT(this,"fromValues",Iz),bT(this,"to",void 0),bT(this,"from",void 0),bT(this,"config",new Rz),bT(this,"immediate",!1)}));function Nz(t,e){var n=e.key,i=e.props,r=e.defaultProps,a=e.state,o=e.actions;return new Promise((function(e,s){var l,u,c,h=bz(null!==(l=i.cancel)&&void 0!==l?l:null===r||void 0===r?void 0:r.cancel,n);if(h)v();else{PL.und(i.pause)||(a.paused=bz(i.pause,n));var f=null===r||void 0===r?void 0:r.pause;!0!==f&&(f=a.paused||bz(f,n)),u=wz(i.delay||0,n),f?(a.resumeQueue.add(p),o.pause()):(o.resume(),p())}function d(){a.resumeQueue.add(p),a.timeouts.delete(c),c.cancel(),u=c.time-uL.now()}function p(){u>0&&!EL.skipAnimation?(a.delayed=!0,c=uL.setTimeout(v,u),a.pauseQueue.add(d),a.timeouts.add(c)):v()}function v(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(d),a.timeouts.delete(c),t<=(a.cancelId||0)&&(h=!0);try{o.start(AT(AT({},i),{},{callId:t,cancel:h}),e)}catch(f){s(f)}}}))}var jz=function(t,e){return 1==e.length?e[0]:e.some((function(t){return t.cancelled}))?Hz(t.get()):e.every((function(t){return t.noop}))?Fz(t.get()):Uz(t.get(),e.every((function(t){return t.finished})))},Fz=function(t){return{value:t,noop:!0,finished:!0,cancelled:!1}},Uz=function(t,e){return{value:t,finished:e,cancelled:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}},Hz=function(t){return{value:t,cancelled:!0,finished:!1}};function Vz(t,e,n,i){var r=e.callId,a=e.parentId,o=e.onRest,s=n.asyncTo,l=n.promise;return a||t!==s||e.reset?n.promise=ee($t().mark((function u(){var c,h,f,d,p,v,m,g;return $t().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(n.asyncId=r,n.asyncTo=t,c=kz(e,(function(t,e){return"onRest"===e?void 0:t})),d=new Promise((function(t,e){return h=t,f=e})),p=function(t){var e=r<=(n.cancelId||0)&&Hz(i)||r!==n.asyncId&&Uz(i,!1);if(e)throw t.result=e,f(t),t},v=function(t,e){var a=new Wz,o=new Qz;return ee($t().mark((function s(){var l,u;return $t().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!EL.skipAnimation){s.next=2;break}throw Gz(n),o.result=Uz(i,!1),f(o),o;case 2:return p(a),(l=PL.obj(t)?AT({},t):AT(AT({},e),{},{to:t})).parentId=r,OL(c,(function(t,e){PL.und(l[e])&&(l[e]=t)})),s.next=7,i.start(l);case 7:if(u=s.sent,p(a),s.t0=n.paused,!s.t0){s.next=13;break}return s.next=13,new Promise((function(t){n.resumeQueue.add(t)}));case 13:return s.abrupt("return",u);case 14:case"end":return s.stop()}}),s)})))()},!EL.skipAnimation){u.next=4;break}return u.abrupt("return",(Gz(n),Uz(i,!1)));case 4:return u.prev=4,g=PL.arr(t)?function(){var t=ee($t().mark((function t(e){var n,i,r;return $t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=S(e),t.prev=1,n.s();case 3:if((i=n.n()).done){t.next=9;break}return r=i.value,t.next=7,v(r);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n.e(t.t0);case 14:return t.prev=14,n.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})));return function(e){return t.apply(this,arguments)}}()(t):Promise.resolve(t(v,i.stop.bind(i))),u.next=8,Promise.all([g.then(h),d]);case 8:m=Uz(i.get(),!0,!1),u.next=22;break;case 11:if(u.prev=11,u.t0=u.catch(4),!(u.t0 instanceof Wz)){u.next=17;break}m=u.t0.result,u.next=22;break;case 17:if(!(u.t0 instanceof Qz)){u.next=21;break}m=u.t0.result,u.next=22;break;case 21:throw u.t0;case 22:return u.prev=22,r==n.asyncId&&(n.asyncId=a,n.asyncTo=a?s:void 0,n.promise=a?l:void 0),u.finish(22);case 25:return u.abrupt("return",(PL.fun(o)&&uL.batchedUpdates((function(){o(m,i,i.item)})),m));case 26:case"end":return u.stop()}}),u,null,[[4,11,22,25]])})))():l}function Gz(t,e){RL(t.timeouts,(function(t){return t.cancel()})),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var Wz=function(t){g(n,t);var e=A(n);function n(){var t;return h(this,n),bT(b(t=e.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")),"result",void 0),t}return v(n)}(k(Error)),Qz=function(t){g(n,t);var e=A(n);function n(){var t;return h(this,n),bT(b(t=e.call(this,"SkipAnimationSignal")),"result",void 0),t}return v(n)}(k(Error)),Xz=function(t){return t instanceof Jz},Yz=1,Jz=function(t){g(n,t);var e=A(n);function n(){var t;h(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return bT(b(t=e.call.apply(e,[this].concat(r))),"id",Yz++),bT(b(t),"_priority",0),t}return v(n,[{key:"priority",get:function(){return this._priority},set:function(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}},{key:"get",value:function(){var t=iz(this);return t&&t.getValue()}},{key:"to",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return EL.to(this,e)}},{key:"interpolate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return XO("".concat(WO,'The "interpolate" function is deprecated in v9 (use "to" instead)')),EL.to(this,e)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(t){1==t&&this._attach()}},{key:"observerRemoved",value:function(t){0==t&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(t){PO(this,{type:"change",parent:this,value:t,idle:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})}},{key:"_onPriorityChange",value:function(t){this.idle||XL.sort(this),PO(this,{type:"priority",parent:this,priority:t})}}]),n}(TO),Zz=Symbol.for("SpringPhase"),qz=function(t){return(1&t[Zz])>0},Kz=function(t){return(2&t[Zz])>0},$z=function(t){return(4&t[Zz])>0},tR=function(t,e){return e?t[Zz]|=3:t[Zz]&=-3},eR=function(t,e){return e?t[Zz]|=4:t[Zz]&=-5},nR=function(t){g(n,t);var e=A(n);function n(t,i){var r;if(h(this,n),bT(b(r=e.call(this)),"key",void 0),bT(b(r),"animation",new Bz),bT(b(r),"queue",void 0),bT(b(r),"defaultProps",{}),bT(b(r),"_state",{paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set}),bT(b(r),"_pendingCalls",new Set),bT(b(r),"_lastCallId",0),bT(b(r),"_lastToId",0),bT(b(r),"_memoizedDuration",0),!PL.und(t)||!PL.und(i)){var a=PL.obj(t)?AT({},t):AT(AT({},i),{},{from:t});PL.und(a.default)&&(a.default=!0),r.start(a)}return x(r)}return v(n,[{key:"idle",get:function(){return!(Kz(this)||this._state.asyncTo)||$z(this)}},{key:"goal",get:function(){return EO(this.animation.to)}},{key:"velocity",get:function(){var t=iz(this);return t instanceof sz?t.lastVelocity||0:t.getPayload().map((function(t){return t.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return qz(this)}},{key:"isAnimating",get:function(){return Kz(this)}},{key:"isPaused",get:function(){return $z(this)}},{key:"isDelayed",get:function(){return this._state.delayed}},{key:"advance",value:function(t){var e=this,n=!0,i=!1,r=this.animation,a=r.toValues,o=r.config,s=az(r.to);!s&&MO(r.to)&&(a=zL(EO(r.to))),r.values.forEach((function(l,u){if(!l.done){var c=l.constructor==lz?1:s?s[u].lastPosition:a[u],h=r.immediate,f=c;if(!h){if(f=l.lastPosition,o.tension<=0)return void(l.done=!0);var d,p=l.elapsedTime+=t,v=r.fromValues[u],m=null!=l.v0?l.v0:l.v0=PL.arr(o.velocity)?o.velocity[u]:o.velocity,g=o.precision||(v==c?.005:Math.min(1,.001*Math.abs(c-v)));if(PL.und(o.duration))if(o.decay){var y=!0===o.decay?.998:o.decay,w=Math.exp(-(1-y)*p);f=v+m/(1-y)*(1-w),h=Math.abs(l.lastPosition-f)<=g,d=m*w}else{d=null==l.lastVelocity?m:l.lastVelocity;for(var b=o.restVelocity||g/10,x=o.clamp?0:o.bounce,A=!PL.und(x),_=v==c?l.v0>0:v<c,k=Math.ceil(t/1),S=0;S<k&&(Math.abs(d)>b||!(h=Math.abs(c-f)<=g));++S){A&&((f==c||f>c==_)&&(d=-d*x,f=c)),f+=1*(d+=1*((1e-6*-o.tension*(f-c)+.001*-o.friction*d)/o.mass))}}else{var M=1;o.duration>0&&(e._memoizedDuration!==o.duration&&(e._memoizedDuration=o.duration,l.durationProgress>0&&(l.elapsedTime=o.duration*l.durationProgress,p=l.elapsedTime+=t)),M=(M=(o.progress||0)+p/e._memoizedDuration)>1?1:M<0?0:M,l.durationProgress=M),d=((f=v+o.easing(M)*(c-v))-l.lastPosition)/t,h=1==M}l.lastVelocity=d,Number.isNaN(f)&&(console.warn("Got NaN while animating:",e),h=!0)}s&&!s[u].done&&(h=!1),h?l.done=!0:n=!1,l.setValue(f,o.round)&&(i=!0)}}));var l=iz(this),u=l.getValue();if(n){var c=EO(r.to);u===c&&!i||o.decay?i&&o.decay&&this._onChange(u):(l.setValue(c),this._onChange(c)),this._stop()}else i&&this._onChange(u)}},{key:"set",value:function(t){var e=this;return uL.batchedUpdates((function(){e._stop(),e._focus(t),e._set(t)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var t=this;if(Kz(this)){var e=this.animation,n=e.to,i=e.config;uL.batchedUpdates((function(){t._onStart(),i.decay||t._set(n,!1),t._stop()}))}return this}},{key:"update",value:function(t){return(this.queue||(this.queue=[])).push(t),this}},{key:"start",value:function(t,e){var n,i=this;return PL.und(t)?(n=this.queue||[],this.queue=[]):n=[PL.obj(t)?t:AT(AT({},e),{},{to:t})],Promise.all(n.map((function(t){return i._update(t)}))).then((function(t){return jz(i,t)}))}},{key:"stop",value:function(t){var e=this,n=this.animation.to;return this._focus(this.get()),Gz(this._state,t&&this._lastCallId),uL.batchedUpdates((function(){return e._stop(n,t)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(t){"change"==t.type?this._start():"priority"==t.type&&(this.priority=t.priority+1)}},{key:"_prepareNode",value:function(t){var e,n=this.key||"",i=t.to,r=t.from;(null==(i=PL.obj(i)?i[n]:i)||Tz(i))&&(i=void 0),null==(r=PL.obj(r)?r[n]:r)&&(r=void 0);var a={to:i,from:r};return qz(this)||(t.reverse&&(i=(e=[r,i])[0],r=e[1]),r=EO(r),PL.und(r)?iz(this)||this._set(i):this._set(r)),a}},{key:"_update",value:function(t,e){var n=this,i=Object.assign({},(function(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(t),t)),r=this.key,a=this.defaultProps;i.default&&Object.assign(a,kz(i,(function(t,e){return/^on/.test(e)?xz(t,r):t}))),uR(this,i,"onProps"),cR(this,"onProps",i,this);var o=this._prepareNode(i);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var s=this._state;return Nz(++this._lastCallId,{key:r,props:i,defaultProps:a,state:s,actions:{pause:function(){$z(n)||(eR(n,!0),BL(s.pauseQueue),cR(n,"onPause",Uz(n,iR(n,n.animation.to)),n))},resume:function(){$z(n)&&(eR(n,!1),Kz(n)&&n._resume(),BL(s.resumeQueue),cR(n,"onResume",Uz(n,iR(n,n.animation.to)),n))},start:this._merge.bind(this,o)}}).then((function(t){if(i.loop&&t.finished&&(!e||!t.noop)){var r=rR(i);if(r)return n._update(r,!0)}return t}))}},{key:"_merge",value:function(t,e,n){var i,r=this;if(e.cancel)return this.stop(!0),n(Hz(this));var a=!PL.und(t.to),o=!PL.und(t.from);if(a||o){if(!(e.callId>this._lastToId))return n(Hz(this));this._lastToId=e.callId}var s=this.key,l=this.defaultProps,u=this.animation,c=u.to,h=u.from,f=t.to,d=void 0===f?c:f,p=t.from,v=void 0===p?h:p;o&&!a&&(!e.default||PL.und(d))&&(d=v),e.reverse&&(d=(i=[v,d])[0],v=i[1]);var m=!TL(v,h);m&&(u.from=v),v=EO(v);var g=!TL(d,c);g&&this._focus(d);var y=Tz(e.to),w=u.config,b=w.decay,x=w.velocity;(a||o)&&(w.velocity=0),e.config&&!y&&function(t,e,n){for(var i in n&&(Dz(n=AT({},n),e),e=AT(AT({},n),e)),Dz(t,e),Object.assign(t,e),zz)null==t[i]&&(t[i]=zz[i]);var r=t.frequency,a=t.damping,o=t.mass;PL.und(r)||(r<.01&&(r=.01),a<0&&(a=0),t.tension=Math.pow(2*Math.PI/r,2)*o,t.friction=4*Math.PI*a*o/r)}(w,wz(e.config,s),e.config!==l.config?wz(l.config,s):void 0);var A=iz(this);if(!A||PL.und(d))return n(Uz(this,!0));var _=PL.und(e.reset)?o&&!e.default:!PL.und(v)&&bz(e.reset,s),k=_?v:this.get(),S=Cz(d),M=PL.num(S)||PL.arr(S)||JO(S),E=!y&&(!M||bz(l.immediate||e.immediate,s));if(g){var C=dz(d);if(C!==A.constructor){if(!E)throw Error("Cannot animate between ".concat(A.constructor.name," and ").concat(C.name,', as the "to" prop suggests'));A=this._set(S)}}var P=A.constructor,T=MO(d),L=!1;if(!T){var O=_||!qz(this)&&m;(g||O)&&(T=!(L=TL(Cz(k),S))),(!TL(u.immediate,E)&&!E||!TL(w.decay,b)||!TL(w.velocity,x))&&(T=!0)}if(L&&Kz(this)&&(u.changed&&!_?T=!0:T||this._stop(c)),!y&&((T||MO(c))&&(u.values=A.getPayload(),u.toValues=MO(d)?null:P==lz?[1]:zL(S)),u.immediate!=E&&(u.immediate=E,!E&&!_&&this._set(c)),T)){var z=u.onRest;LL(lR,(function(t){return uR(r,e,t)}));var R=Uz(this,iR(this,c));BL(this._pendingCalls,R),this._pendingCalls.add(n),u.changed&&uL.batchedUpdates((function(){var t;u.changed=!_,null!==z&&void 0!==z&&z(R,r),_?wz(l.onRest,R):null===(t=u.onStart)||void 0===t||t.call(u,R,r)}))}_&&this._set(k),y?n(Vz(e.to,e,this._state,this)):T?this._start():Kz(this)&&!g?this._pendingCalls.add(n):n(Fz(k))}},{key:"_focus",value:function(t){var e=this.animation;t!==e.to&&(CO(this)&&this._detach(),e.to=t,CO(this)&&this._attach())}},{key:"_attach",value:function(){var t=0,e=this.animation.to;MO(e)&&(OO(e,this),Xz(e)&&(t=e.priority+1)),this.priority=t}},{key:"_detach",value:function(){var t=this.animation.to;MO(t)&&zO(t,this)}},{key:"_set",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=EO(t);if(!PL.und(i)){var r=iz(this);if(!r||!TL(i,r.getValue())){var a=dz(i);r&&r.constructor==a?r.setValue(i):rz(this,a.create(i)),r&&uL.batchedUpdates((function(){e._onChange(i,n)}))}}return iz(this)}},{key:"_onStart",value:function(){var t=this.animation;t.changed||(t.changed=!0,cR(this,"onStart",Uz(this,iR(this,t.to)),this))}},{key:"_onChange",value:function(t,e){e||(this._onStart(),wz(this.animation.onChange,t,this)),wz(this.defaultProps.onChange,t,this),sL(y(n.prototype),"_onChange",this).call(this,t,e)}},{key:"_start",value:function(){var t=this.animation;iz(this).reset(EO(t.to)),t.immediate||(t.fromValues=t.values.map((function(t){return t.lastPosition}))),Kz(this)||(tR(this,!0),$z(this)||this._resume())}},{key:"_resume",value:function(){EL.skipAnimation?this.finish():XL.start(this)}},{key:"_stop",value:function(t,e){if(Kz(this)){tR(this,!1);var n=this.animation;LL(n.values,(function(t){t.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),PO(this,{type:"idle",parent:this});var i=e?Hz(this.get()):Uz(this.get(),iR(this,null!==t&&void 0!==t?t:n.to));BL(this._pendingCalls,i),n.changed&&(n.changed=!1,cR(this,"onRest",i,this))}}}]),n}(Jz);function iR(t,e){var n=Cz(e);return TL(Cz(t.get()),n)}function rR(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.to,i=wz(e);if(i){var r=!0!==i&&Ez(i),a=(r||t).reverse,o=!r||r.reset;return aR(AT(AT({},t),{},{loop:e,default:!1,pause:void 0,to:!a||Tz(n)?n:void 0,from:o?t.from:void 0,reset:o},r))}}function aR(t){var e=t=Ez(t),n=e.to,i=e.from,r=new Set;return PL.obj(n)&&sR(n,r),PL.obj(i)&&sR(i,r),t.keys=r.size?Array.from(r):null,t}function oR(t){var e=aR(t);return PL.und(e.default)&&(e.default=kz(e)),e}function sR(t,e){OL(t,(function(t,n){return null!=t&&e.add(n)}))}var lR=["onStart","onRest","onChange","onPause","onResume"];function uR(t,e,n){t.animation[n]=e[n]!==Az(e,n)?xz(e[n],t.key):void 0}function cR(t,e){for(var n,i,r,a,o=arguments.length,s=new Array(o>2?o-2:0),l=2;l<o;l++)s[l-2]=arguments[l];null!==(n=(i=t.animation)[e])&&void 0!==n&&n.call.apply(n,[i].concat(s)),null===(r=(a=t.defaultProps)[e])||void 0===r||r.call.apply(r,[a].concat(s))}var hR=["onStart","onChange","onRest"],fR=1,dR=function(){function t(e,n){h(this,t),bT(this,"id",fR++),bT(this,"springs",{}),bT(this,"queue",[]),bT(this,"ref",void 0),bT(this,"_flush",void 0),bT(this,"_initialProps",void 0),bT(this,"_lastAsyncId",0),bT(this,"_active",new Set),bT(this,"_changed",new Set),bT(this,"_started",!1),bT(this,"_item",void 0),bT(this,"_state",{paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set}),bT(this,"_events",{onStart:new Map,onChange:new Map,onRest:new Map}),this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),e&&this.start(AT({default:!0},e))}return v(t,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(t){return t.idle&&!t.isDelayed&&!t.isPaused}))}},{key:"item",get:function(){return this._item},set:function(t){this._item=t}},{key:"get",value:function(){var t={};return this.each((function(e,n){return t[n]=e.get()})),t}},{key:"set",value:function(t){for(var e in t){var n=t[e];PL.und(n)||this.springs[e].set(n)}}},{key:"update",value:function(t){return t&&this.queue.push(aR(t)),this}},{key:"start",value:function(t){var e=this.queue;return t?e=zL(t).map(aR):this.queue=[],this._flush?this._flush(this,e):(xR(this,e),pR(this,e))}},{key:"stop",value:function(t,e){if(t!==!!t&&(e=t),e){var n=this.springs;LL(zL(e),(function(e){return n[e].stop(!!t)}))}else Gz(this._state,this._lastAsyncId),this.each((function(e){return e.stop(!!t)}));return this}},{key:"pause",value:function(t){if(PL.und(t))this.start({pause:!0});else{var e=this.springs;LL(zL(t),(function(t){return e[t].pause()}))}return this}},{key:"resume",value:function(t){if(PL.und(t))this.start({pause:!1});else{var e=this.springs;LL(zL(t),(function(t){return e[t].resume()}))}return this}},{key:"each",value:function(t){OL(this.springs,t)}},{key:"_onFrame",value:function(){var t=this,e=this._events,n=e.onStart,i=e.onChange,r=e.onRest,a=this._active.size>0,o=this._changed.size>0;(a&&!this._started||o&&!this._started)&&(this._started=!0,RL(n,(function(e){var n=l(e,2),i=n[0],r=n[1];r.value=t.get(),i(r,t,t._item)})));var s=!a&&this._started,u=o||s&&r.size?this.get():null;o&&i.size&&RL(i,(function(e){var n=l(e,2),i=n[0],r=n[1];r.value=u,i(r,t,t._item)})),s&&(this._started=!1,RL(r,(function(e){var n=l(e,2),i=n[0],r=n[1];r.value=u,i(r,t,t._item)})))}},{key:"eventObserved",value:function(t){if("change"==t.type)this._changed.add(t.parent),t.idle||this._active.add(t.parent);else{if("idle"!=t.type)return;this._active.delete(t.parent)}uL.onFrame(this._onFrame)}}]),t}();function pR(t,e){return Promise.all(e.map((function(e){return vR(t,e)}))).then((function(e){return jz(t,e)}))}function vR(t,e,n){return mR.apply(this,arguments)}function mR(){return mR=ee($t().mark((function t(e,n,i){var r,a,o,s,l,u,c,h,f,d,p,v,m;return $t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.keys,a=n.to,o=n.from,s=n.loop,l=n.onRest,u=n.onResolve,c=PL.obj(n.default)&&n.default,s&&(n.loop=!1),!1===a&&(n.to=null),!1===o&&(n.from=null),(h=PL.arr(a)||PL.fun(a)?a:void 0)?(n.to=void 0,n.onRest=void 0,c&&(c.onRest=void 0)):LL(hR,(function(t){var i=n[t];if(PL.fun(i)){var r=e._events[t];n[t]=function(t){var e=t.finished,n=t.cancelled,a=r.get(i);a?(e||(a.finished=!1),n&&(a.cancelled=!0)):r.set(i,{value:null,finished:e||!1,cancelled:n||!1})},c&&(c[t]=n[t])}})),f=e._state,n.pause===!f.paused?(f.paused=n.pause,BL(n.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(n.pause=!0),d=(r||Object.keys(e.springs)).map((function(t){return e.springs[t].start(n)})),p=!0===n.cancel||!0===Az(n,"cancel"),(h||p&&f.asyncId)&&d.push(Nz(++e._lastAsyncId,{props:n,state:f,actions:{pause:CL,resume:CL,start:function(t,n){p?(Gz(f,e._lastAsyncId),n(Hz(e))):(t.onRest=l,n(Vz(h,t,f,e)))}}})),t.t0=f.paused,!t.t0){t.next=12;break}return t.next=12,new Promise((function(t){f.resumeQueue.add(t)}));case 12:return t.t1=jz,t.t2=e,t.next=16,Promise.all(d);case 16:if(t.t3=t.sent,v=(0,t.t1)(t.t2,t.t3),!s||!v.finished||i&&v.noop){t.next=22;break}if(!(m=rR(n,s,a))){t.next=22;break}return t.abrupt("return",(xR(e,[m]),vR(e,m,!0)));case 22:return t.abrupt("return",(u&&uL.batchedUpdates((function(){return u(v,e,e.item)})),v));case 23:case"end":return t.stop()}}),t)}))),mR.apply(this,arguments)}function gR(t,e){var n=AT({},t.springs);return e&&LL(zL(e),(function(t){PL.und(t.keys)&&(t=aR(t)),PL.obj(t.to)||(t=AT(AT({},t),{},{to:void 0})),bR(n,t,(function(t){return wR(t)}))})),yR(t,n),n}function yR(t,e){OL(e,(function(e,n){t.springs[n]||(t.springs[n]=e,OO(e,t))}))}function wR(t,e){var n=new nR;return n.key=t,e&&OO(n,e),n}function bR(t,e,n){e.keys&&LL(e.keys,(function(i){(t[i]||(t[i]=n(i)))._prepareNode(e)}))}function xR(t,e){LL(e,(function(e){bR(t.springs,e,(function(e){return wR(e,t)}))}))}var AR=function(t){var n=t.children,i=PT(t,yz),r=(0,e.useContext)(_R),a=i.pause||!!r.pause,o=i.immediate||!!r.immediate;i=function(t,n){var i=l((0,e.useState)((function(){return{inputs:n,result:t()}})),1)[0],r=(0,e.useRef)(),a=r.current,o=a;return o?n&&o.inputs&&function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(n,o.inputs)||(o={inputs:n,result:t()}):o=i,(0,e.useEffect)((function(){r.current=o,a==i&&(i.inputs=i.result=void 0)}),[o]),o.result}((function(){return{pause:a,immediate:o}}),[a,o]);var s=_R.Provider;return e.createElement(s,{value:i},n)},_R=function(t,n){return Object.assign(t,e.createContext(n)),t.Provider._context=t,t.Consumer._context=t,t}(AR,{});AR.Provider=_R.Provider,AR.Consumer=_R.Consumer;var kR=function(){var t=[],e=function(e){YO("".concat(WO,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));var i=[];return LL(t,(function(t,r){if(PL.und(e))i.push(t.start());else{var a=n(e,t,r);a&&i.push(t.start(a))}})),i};e.current=t,e.add=function(e){t.includes(e)||t.push(e)},e.delete=function(e){var n=t.indexOf(e);~n&&t.splice(n,1)},e.pause=function(){var e=arguments;return LL(t,(function(t){return t.pause.apply(t,c(e))})),this},e.resume=function(){var e=arguments;return LL(t,(function(t){return t.resume.apply(t,c(e))})),this},e.set=function(e){LL(t,(function(t,n){var i=PL.fun(e)?e(n,t):e;i&&t.set(i)}))},e.start=function(e){var n=this,i=[];return LL(t,(function(t,r){if(PL.und(e))i.push(t.start());else{var a=n._getProps(e,t,r);a&&i.push(t.start(a))}})),i},e.stop=function(){var e=arguments;return LL(t,(function(t){return t.stop.apply(t,c(e))})),this},e.update=function(e){var n=this;return LL(t,(function(t,i){return t.update(n._getProps(e,t,i))})),this};var n=function(t,e,n){return PL.fun(t)?t(n,e):t};return e._getProps=n,e};function SR(t,n,i){var r=arguments,a=PL.fun(n)&&n;a&&!i&&(i=[]);var o=(0,e.useMemo)((function(){return a||3==r.length?kR():void 0}),[]),s=(0,e.useRef)(0),l=KO(),u=(0,e.useMemo)((function(){return{ctrls:[],queue:[],flush:function(t,e){var n=gR(t,e);return s.current>0&&!u.queue.length&&!Object.keys(n).some((function(e){return!t.springs[e]}))?pR(t,e):new Promise((function(i){yR(t,n),u.queue.push((function(){i(pR(t,e))})),l()}))}}}),[]),h=(0,e.useRef)(c(u.ctrls)),f=[],d=ez(t)||0;function p(t,e){for(var i=t;i<e;i++){var r=h.current[i]||(h.current[i]=new dR(null,u.flush)),o=a?a(i,r):n[i];o&&(f[i]=oR(o))}}(0,e.useMemo)((function(){LL(h.current.slice(t,d),(function(t){Lz(t,o),t.stop(!0)})),h.current.length=t,p(d,t)}),[t]),(0,e.useMemo)((function(){p(0,Math.min(d,t))}),i);var v=h.current.map((function(t,e){return gR(t,f[e])})),m=(0,e.useContext)(AR),g=ez(m),y=m!==g&&Pz(m);ZO((function(){s.current++,u.ctrls=h.current;var t=u.queue;t.length&&(u.queue=[],LL(t,(function(t){return t()}))),LL(h.current,(function(t,e){null!==o&&void 0!==o&&o.add(t),y&&t.start({default:m});var n=f[e];n&&(Oz(t,n.ref),t.ref?t.queue.push(n):t.start(n))}))})),$O((function(){return function(){LL(u.ctrls,(function(t){return t.stop(!0)}))}}));var w=v.map((function(t){return AT({},t)}));return o?[w,o]:w}function MR(t,e){var n=PL.fun(t),i=l(SR(1,n?t:[t],n?e||[]:e),2),r=l(i[0],1)[0],a=i[1];return n||2==arguments.length?[r,a]:r}var ER=function(t){g(n,t);var e=A(n);function n(t,i){var r;h(this,n),bT(b(r=e.call(this)),"key",void 0),bT(b(r),"idle",!0),bT(b(r),"calc",void 0),bT(b(r),"_active",new Set),r.source=t,r.calc=mO.apply(void 0,c(i));var a=r._get(),o=dz(a);return rz(b(r),o.create(a)),r}return v(n,[{key:"advance",value:function(t){var e=this._get();TL(e,this.get())||(iz(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&PR(this._active)&&TR(this)}},{key:"_get",value:function(){var t=PL.arr(this.source)?this.source.map(EO):zL(EO(this.source));return this.calc.apply(this,c(t))}},{key:"_start",value:function(){var t=this;this.idle&&!PR(this._active)&&(this.idle=!1,LL(az(this),(function(t){t.done=!1})),EL.skipAnimation?(uL.batchedUpdates((function(){return t.advance()})),TR(this)):XL.start(this))}},{key:"_attach",value:function(){var t=this,e=1;LL(zL(this.source),(function(n){MO(n)&&OO(n,t),Xz(n)&&(n.idle||t._active.add(n),e=Math.max(e,n.priority+1))})),this.priority=e,this._start()}},{key:"_detach",value:function(){var t=this;LL(zL(this.source),(function(e){MO(e)&&zO(e,t)})),this._active.clear(),TR(this)}},{key:"eventObserved",value:function(t){"change"==t.type?t.idle?this.advance():(this._active.add(t.parent),this._start()):"idle"==t.type?this._active.delete(t.parent):"priority"==t.type&&(this.priority=zL(this.source).reduce((function(t,e){return Math.max(t,(Xz(e)?e.priority:0)+1)}),0))}}]),n}(Jz);function CR(t){return!1!==t.idle}function PR(t){return!t.size||Array.from(t).every(CR)}function TR(t){t.idle||(t.idle=!0,LL(az(t),(function(t){t.done=!0})),PO(t,{type:"idle",parent:t}))}EL.assign({createStringInterpolator:GO,to:function(t,e){return new ER(t,e)}});XL.advance;var LR=["style","children","scrollTop","scrollLeft","viewBox"],OR=["x","y","z"],zR=["scrollTop","scrollLeft"],RR=/^--/;function DR(t,e){return null==e||"boolean"==typeof e||""===e?"":"number"!=typeof e||0===e||RR.test(t)||BR.hasOwnProperty(t)&&BR[t]?(""+e).trim():e+"px"}var IR={};var BR={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NR=["Webkit","Ms","Moz","O"];BR=Object.keys(BR).reduce((function(t,e){return NR.forEach((function(n){return t[function(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}(n,e)]=t[e]})),t}),BR);var jR=/^(matrix|translate|scale|rotate|skew)/,FR=/^(translate)/,UR=/^(rotate|skew)/,HR=function(t,e){return PL.num(t)&&0!==t?t+e:t},VR=function t(e,n){return PL.arr(e)?e.every((function(e){return t(e,n)})):PL.num(e)?e===n:parseFloat(e)===n},GR=function(t){g(n,t);var e=A(n);function n(t){var i=t.x,r=t.y,a=t.z,o=PT(t,OR);h(this,n);var s=[],u=[];return(i||r||a)&&(s.push([i||0,r||0,a||0]),u.push((function(t){return["translate3d(".concat(t.map((function(t){return HR(t,"px")})).join(","),")"),VR(t,0)]}))),OL(o,(function(t,e){if("transform"===e)s.push([t||""]),u.push((function(t){return[t,""===t]}));else if(jR.test(e)){if(delete o[e],PL.und(t))return;var n=FR.test(e)?"px":UR.test(e)?"deg":"";s.push(zL(t)),u.push("rotate3d"===e?function(t){var e=l(t,4),i=e[0],r=e[1],a=e[2],o=e[3];return["rotate3d(".concat(i,",").concat(r,",").concat(a,",").concat(HR(o,n),")"),VR(o,0)]}:function(t){return["".concat(e,"(").concat(t.map((function(t){return HR(t,n)})).join(","),")"),VR(t,e.startsWith("scale")?1:0)]})}})),s.length&&(o.transform=new WR(s,u)),e.call(this,o)}return v(n)}(cz),WR=function(t){g(n,t);var e=A(n);function n(t,i){var r;return h(this,n),bT(b(r=e.call(this)),"_value",null),r.inputs=t,r.transforms=i,r}return v(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var t=this,e="",n=!0;return LL(this.inputs,(function(i,r){var a=EO(i[0]),o=l(t.transforms[r](PL.arr(a)?a:i.map(EO)),2),s=o[0],u=o[1];e+=" "+s,n=n&&u})),n?"none":e}},{key:"observerAdded",value:function(t){var e=this;1==t&&LL(this.inputs,(function(t){return LL(t,(function(t){return MO(t)&&OO(t,e)}))}))}},{key:"observerRemoved",value:function(t){var e=this;0==t&&LL(this.inputs,(function(t){return LL(t,(function(t){return MO(t)&&zO(t,e)}))}))}},{key:"eventObserved",value:function(t){"change"==t.type&&(this._value=null),PO(this,t)}}]),n}(TO);EL.assign({batchedUpdates:TT.unstable_batchedUpdates,createStringInterpolator:GO,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var QR=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.applyAnimatedValues,i=void 0===n?function(){return!1}:n,r=e.createAnimatedStyle,a=void 0===r?function(t){return new cz(t)}:r,o=e.getComponentProps,s=void 0===o?function(t){return t}:o,l={applyAnimatedValues:i,createAnimatedStyle:a,getComponentProps:s},u=function t(e){var n=gz(e)||"Anonymous";return(e=PL.str(e)?t[e]||(t[e]=pz(e,l)):e[mz]||(e[mz]=pz(e,l))).displayName="Animated(".concat(n,")"),e};return OL(t,(function(e,n){PL.arr(t)&&(n=gz(e)),u[n]=u(e)})),{animated:u}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(t,e){if(!t.nodeType||!t.setAttribute)return!1;var n="filter"===t.nodeName||t.parentNode&&"filter"===t.parentNode.nodeName,i=e.style,r=e.children,a=e.scrollTop,o=e.scrollLeft,s=e.viewBox,l=PT(e,LR),u=Object.values(l),c=Object.keys(l).map((function(e){return n||t.hasAttribute(e)?e:IR[e]||(IR[e]=e.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()})))}));for(var h in void 0!==r&&(t.textContent=r),i)if(i.hasOwnProperty(h)){var f=DR(h,i[h]);RR.test(h)?t.style.setProperty(h,f):t.style[h]=f}c.forEach((function(e,n){t.setAttribute(e,u[n])})),void 0!==a&&(t.scrollTop=a),void 0!==o&&(t.scrollLeft=o),void 0!==s&&t.setAttribute("viewBox",s)},createAnimatedStyle:function(t){return new GR(t)},getComponentProps:function(t){t.scrollTop,t.scrollLeft;return PT(t,zR)}}),XR=QR.animated,YR=function(t){var e=t.num,n=t.className,i=t.delay,r=MR({from:{number:0},number:e,delay:void 0===i?500:i,config:{mass:1.75,tension:20,friction:10}}).number;return(0,Zt.jsx)(XR.div,{className:"text-stone-200 text-2xl game-score "+n,children:r.to((function(t){return t.toFixed(0)}))})};var JR=function(t){var i=t.dispatch,r=t.gameState,a=t.isLoading,o=t.setIsLoading,s=l((0,e.useState)(null),2),u=s[0],c=s[1],h=l((0,e.useState)(0),2),f=h[0],d=h[1],p=l((0,e.useState)(null),2),v=p[0],m=p[1],g=l((0,e.useState)(!1),2),y=g[0],w=g[1],b=l((0,e.useState)(!0),2),x=b[0],A=b[1],_=function(t,n){var i=l((0,e.useState)(!1),2),r=i[0],a=i[1];return(0,e.useEffect)((function(){var e;return t&&!r?a(!0):!t&&r&&(e=setTimeout((function(){return a(!1)}),n)),function(){return clearTimeout(e)}}),[t,n,r]),r}(y,250),k=l((0,e.useState)({}),2),M=k[0],E=k[1];function C(){return(C=ee($t().mark((function t(){return $t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(!1),o(!0),t.next=4,i({type:"nextLocation"});case 4:o(!1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(0,e.useEffect)((function(){Hn.get("https://localhost:7078/api/guessr/expansions/").then((function(t){console.log(t.data);var e=t.data.filter((function(t){return t.name==(r.includeBaseGame&&"Base Game")||t.name==(r.includeMorrowind&&"Morrowind")||t.name==(r.includeSummerset&&"Summerset")}));console.log(e);var n=P(e);console.log(n),i({type:"getLocations",value:n}),o(!1),Hn.get("https://localhost:7078/api/guessr/zones").then((function(t){console.log(t.data),m(t.data),A(!1),i({type:"addLocationZoneNames",value:t.data})})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))}),[]);var P=function(t){console.log(t);var e,n=[],i=S(t);try{for(i.s();!(e=i.n()).done;){var r,a=S(e.value.zones);try{for(a.s();!(r=a.n()).done;){var o=r.value;n=n.concat(o.locations)}}catch(u){a.e(u)}finally{a.f()}}}catch(u){i.e(u)}finally{i.f()}for(var s=[];5!=s.length;){var l=n[Math.floor(Math.random()*n.length)];s.includes(l)||s.push(l)}return s};return(0,Zt.jsx)(Zt.Fragment,{children:!a&&!x&&(0,Zt.jsxs)("div",{className:"flex justify-center w-full",children:[(0,Zt.jsx)(wT,{keyboard:"always",src:n(5369)("./".concat(r.currentLocation.photosphereUrl)),height:"100vh",width:"100%",navbar:!1}),r.guess&&_&&(0,Zt.jsx)("div",{className:"absolute top-0 left-0 flex items-center justify-center w-full h-full duration-150",style:r.guess&&y?{animation:"inAnimation 250ms cubic-bezier(0.950, 0.050, 0.795, 0.035)"}:{animation:"outAnimation 270ms ease-out",animationFillMode:"forwards"},children:(0,Zt.jsxs)("div",{className:"flex flex-col items-center justify-around w-2/3 gap-3 px-3 py-10 mx-auto text-center shadow-lg sm:w-1/4 bg-slate-500 h-fit rounded-3xl shadow-black/50 bg-opacity-90",children:[r.guess.zone===r.currentLocation.zone.shortName?u<=2e4?(0,Zt.jsxs)(Zt.Fragment,{children:[(0,Zt.jsx)("span",{className:"text-2xl font-semibold",children:"You got the exact location!"}),(0,Zt.jsxs)("span",{className:"flex items-center text-3xl font-semibold",children:[(0,Zt.jsx)(YR,{num:f,className:"text-3xl font-semibold"}),"\xa0points"]})]}):(0,Zt.jsxs)(Zt.Fragment,{children:[(0,Zt.jsxs)("span",{className:"text-2xl font-semibold",children:["Your guess was ",Math.floor(u/120)," units away from the location."]}),(0,Zt.jsxs)("span",{className:"flex items-center text-3xl font-semibold",children:[(0,Zt.jsx)(YR,{num:f,className:"text-3xl font-semibold"}),"\xa0points"]})]}):(0,Zt.jsx)("span",{className:"text-2xl font-semibold",children:"Your guess was not in the correct zone."}),r.locations.length>0?(0,Zt.jsx)("button",{onClick:function(){!function(){C.apply(this,arguments)}()},className:"bg-yellow-600 bg-opacity-80 px-2 py-1.5 rounded-xl shadow-md shadow-black/50 hover:scale-110 duration-150",children:"Continue"}):(0,Zt.jsx)("button",{onClick:function(){i({type:"gameOver"})},className:"bg-yellow-600 opacity-100 px-2 py-1.5 rounded-xl shadow-md shadow-black/50 hover:scale-110 duration-150",children:"Results"})]})}),(0,Zt.jsx)("button",{className:"absolute flex items-center justify-center w-20 h-20 rounded-full shadow-md bottom-4 right-4 sm:hidden bg-gradient-to-br from-yellow-500 to-yellow-600 shadow-black/50",onClick:function(){E({})},children:(0,Zt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"w-8 h-8 bi bi-map-fill text-slate-800",viewBox:"0 0 16 16",children:(0,Zt.jsx)("path",{fillRule:"evenodd",d:"M16 .5a.5.5 0 0 0-.598-.49L10.5.99 5.598.01a.5.5 0 0 0-.196 0l-5 1A.5.5 0 0 0 0 1.5v14a.5.5 0 0 0 .598.49l4.902-.98 4.902.98a.502.502 0 0 0 .196 0l5-1A.5.5 0 0 0 16 14.5V.5zM5 14.09V1.11l.5-.1.5.1v12.98l-.402-.08a.498.498 0 0 0-.196 0L5 14.09zm5 .8V1.91l.402.08a.5.5 0 0 0 .196 0L11 1.91v12.98l-.5.1-.5-.1z"})})}),(0,Zt.jsx)(oL,{dispatch:i,gameState:r,setDistance:c,setPoints:d,setIsMounted:w,mapSize:M,setMapSize:E,zones:v})]})})},ZR=function(t){var e=1==Math.floor(2*Math.random())?{left:"".concat(Math.floor(38*Math.random()),"rem")}:{right:"".concat(Math.floor(38*Math.random()),"rem")};return(0,Zt.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen gap-5 ",children:[(0,Zt.jsx)("div",{className:"absolute top-0 w-full h-screen -z-20",style:{backgroundImage:"url(".concat(n(1965)),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",filter:"grayscale(100%)"}}),(0,Zt.jsx)("div",{className:"absolute top-0 w-full h-screen -z-10 bg-yellow-950/80 bg-"}),(0,Zt.jsxs)("div",{className:"-mt-20 text-4xl font-bold text-center cursor-default text-stroke",children:[(0,Zt.jsx)("span",{className:"transition-all duration-100 ease-in-out hover:text-yellow-500",children:"S"}),(0,Zt.jsx)("span",{className:"transition-all duration-100 ease-in-out hover:text-yellow-500",children:"t"}),(0,Zt.jsx)("span",{className:"transition-all duration-100 ease-in-out hover:text-yellow-500",children:"a"}),(0,Zt.jsx)("span",{className:"transition-all duration-100 ease-in-out hover:text-yellow-500",children:"r"}),(0,Zt.jsx)("span",{className:"transition-all duration-100 ease-in-out hover:text-yellow-500",children:"t"}),(0,Zt.jsx)("span",{children:" "}),(0,Zt.jsx)("span",{className:"transition-all duration-100 ease-in-out hover:text-yellow-500",children:"P"}),(0,Zt.jsx)("span",{className:"transition-all duration-100 ease-in-out hover:text-yellow-500",children:"l"}),(0,Zt.jsx)("span",{className:"transition-all duration-100 ease-in-out hover:text-yellow-500",children:"a"}),(0,Zt.jsx)("span",{className:"transition-all duration-100 ease-in-out hover:text-yellow-500",children:"y"}),(0,Zt.jsx)("span",{className:"transition-all duration-100 ease-in-out hover:text-yellow-500",children:"i"}),(0,Zt.jsx)("span",{className:"transition-all duration-100 ease-in-out hover:text-yellow-500",children:"n"}),(0,Zt.jsx)("span",{className:"transition-all duration-100 ease-in-out hover:text-yellow-500",children:"g"})]}),(0,Zt.jsx)(Qt,{to:"/play",className:"relative inline-flex items-center justify-center p-0.5 mb-2 mr-2 overflow-hidden text-sm font-medium rounded-xl group bg-gradient-to-br from-yellow-600 to-yellow-500 group-hover:from-yellow-300 group-hover:via-yellow-400 group-hover:to-yellow-400 text-white hover:text-gray-900 focus:ring-4 focus:outline-none focus:ring-yellow-500",children:(0,Zt.jsx)("span",{className:"relative px-4 py-1.5 transition-all ease-in duration-150 bg-gray-900 rounded-xl group-hover:bg-opacity-0 text-lg",children:"Play"})}),(0,Zt.jsx)(Qt,{to:"/about",children:(0,Zt.jsx)("img",{src:n(9580),alt:"Raven icon",className:"h-20 z-20 absolute right-20 bottom-0 translate-y-12 hover:translate-y-0 duration-100 invisible sm:visible ",style:e})}),(0,Zt.jsxs)("div",{className:"absolute px-4 py-2 overflow-y-auto border-2 border-double 3xl:py-3 right-10 bottom-14 sm:right-10 sm:bottom-14 rounded-xl bg-gradient-to-br from-slate-900 to-slate-800 border-r-yellow-600 border-b-yellow-600 border-t-yellow-700 border-l-yellow-700 sm:w-1/5 sm:h-1/4 text-stone-300",children:[(0,Zt.jsx)("div",{className:"lg:text-2xl 3xl:text-3xl",children:"Dev Notes:"}),(0,Zt.jsx)("hr",{className:"mb-2"}),(0,Zt.jsx)("div",{className:"lg:text-lg 3xl:text-2xl",children:"Latest:"}),(0,Zt.jsx)("div",{className:"lg:text-md 3xl:text-xl",children:"- Finished Dominion locations"}),(0,Zt.jsx)("div",{className:"lg:text-lg 3xl:text-2xl",children:"Current:"}),(0,Zt.jsx)("div",{className:"lg:text-md 3xl:text-xl",children:"- Add Covenant locations"}),(0,Zt.jsx)("div",{className:"lg:text-lg 3xl:text-2xl",children:"To Do:"}),(0,Zt.jsx)("div",{className:"lg:text-md 3xl:text-xl",children:"- Add Pact locations"}),(0,Zt.jsx)("div",{className:"lg:text-md 3xl:text-xl",children:"- Move on to next chapters"})]}),(0,Zt.jsx)("div",{className:"absolute bottom-0 z-10 w-full mb-2 font-sans text-sm font-semibold text-center pointer-events-none text-shadow shadow-black text-stone-400 font-myriad",children:"THE ELDER SCROLLS ONLINE \xa9 2014 - 2023 ZENIMAX MEDIA, INC. All Rights Reserved."})]})},qR=function(t){var i=t.expansion,r=t.gameState,a=t.dispatch,o=r.includeBaseGame,s=r.includeMorrowind,u=r.includeSummerset,c=l((0,e.useState)(!1),2),h=c[0],f=c[1],d=l((0,e.useState)(!1),2),p=d[0],v=d[1];return(0,Zt.jsxs)("button",{onClick:function(){"Base Game"==i.name?(a({type:o?"excludeBaseGame":"includeBaseGame"}),f(!h)):"Morrowind"==i.name?(a({type:s?"excludeMorrowind":"includeMorrowind"}),f(!h)):"Summerset"==i.name&&(a({type:u?"excludeSummerset":"includeSummerset"}),f(!h)),v(!p)},className:"rounded-3xl text-center lg:w-1/6 hover:scale-105 transition-all flex justify-center items-start expansions "+(p&&" animate-expand"),onAnimationEnd:function(){v(!1)},disabled:!i.isAvailable,style:i.isAvailable?h?{filter:"grayscale(0%)"}:{}:{filter:"grayscale(100%)"},children:[(0,Zt.jsx)("img",{src:n(8202)("./".concat(i.logoUrl,".webp")),alt:"",className:" h-5/6"}),!i.isAvailable&&(0,Zt.jsx)("span",{className:"italic font-thin text-gray-600 absolute bottom-0 ",children:"Coming soon!"})]})},KR={"aria-busy":!0,role:"status"},$R=n(7441),tD=n(9613),eD=n.n(tD);var nD=function(t){function e(t,i,l,u,f){for(var d,p,v,m,b,A=0,_=0,k=0,S=0,M=0,O=0,R=v=d=0,I=0,B=0,N=0,j=0,F=l.length,U=F-1,H="",V="",G="",W="";I<F;){if(p=l.charCodeAt(I),I===U&&0!==_+S+k+A&&(0!==_&&(p=47===_?10:47),S=k=A=0,F++,U++),0===_+S+k+A){if(I===U&&(0<B&&(H=H.replace(h,"")),0<H.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:H+=l.charAt(I)}p=59}switch(p){case 123:for(d=(H=H.trim()).charCodeAt(0),v=1,j=++I;I<F;){switch(p=l.charCodeAt(I)){case 123:v++;break;case 125:v--;break;case 47:switch(p=l.charCodeAt(I+1)){case 42:case 47:t:{for(R=I+1;R<U;++R)switch(l.charCodeAt(R)){case 47:if(42===p&&42===l.charCodeAt(R-1)&&I+2!==R){I=R+1;break t}break;case 10:if(47===p){I=R+1;break t}}I=R}}break;case 91:p++;case 40:p++;case 34:case 39:for(;I++<U&&l.charCodeAt(I)!==p;);}if(0===v)break;I++}if(v=l.substring(j,I),0===d&&(d=(H=H.replace(c,"").trim()).charCodeAt(0)),64===d){switch(0<B&&(H=H.replace(h,"")),p=H.charCodeAt(1)){case 100:case 109:case 115:case 45:B=i;break;default:B=L}if(j=(v=e(i,B,v,p,f+1)).length,0<z&&(b=s(3,v,B=n(L,H,N),i,C,E,j,p,f,u),H=B.join(""),void 0!==b&&0===(j=(v=b.trim()).length)&&(p=0,v="")),0<j)switch(p){case 115:H=H.replace(x,o);case 100:case 109:case 45:v=H+"{"+v+"}";break;case 107:v=(H=H.replace(g,"$1 $2"))+"{"+v+"}",v=1===T||2===T&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=H+v,112===u&&(V+=v,v="")}else v=""}else v=e(i,n(i,H,N),v,u,f+1);G+=v,v=N=B=R=d=0,H="",p=l.charCodeAt(++I);break;case 125:case 59:if(1<(j=(H=(0<B?H.replace(h,""):H).trim()).length))switch(0===R&&(d=H.charCodeAt(0),45===d||96<d&&123>d)&&(j=(H=H.replace(" ",":")).length),0<z&&void 0!==(b=s(1,H,i,t,C,E,V.length,u,f,u))&&0===(j=(H=b.trim()).length)&&(H="\0\0"),d=H.charCodeAt(0),p=H.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=H+l.charAt(I);break}default:58!==H.charCodeAt(j-1)&&(V+=r(H,d,p,H.charCodeAt(2)))}N=B=R=d=0,H="",p=l.charCodeAt(++I)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==u&&0<H.length&&(B=1,H+="\0"),0<z*D&&s(0,H,i,t,C,E,V.length,u,f,u),E=1,C++;break;case 59:case 125:if(0===_+S+k+A){E++;break}default:switch(E++,m=l.charAt(I),p){case 9:case 32:if(0===S+A+_)switch(M){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===S+_+A&&(B=N=1,m="\f"+m);break;case 108:if(0===S+_+A+P&&0<R)switch(I-R){case 2:112===M&&58===l.charCodeAt(I-3)&&(P=M);case 8:111===O&&(P=O)}break;case 58:0===S+_+A&&(R=I);break;case 44:0===_+k+S+A&&(B=1,m+="\r");break;case 34:case 39:0===_&&(S=S===p?0:0===S?p:S);break;case 91:0===S+_+k&&A++;break;case 93:0===S+_+k&&A--;break;case 41:0===S+_+A&&k--;break;case 40:if(0===S+_+A){if(0===d)if(2*M+3*O===533);else d=1;k++}break;case 64:0===_+k+S+A+R+v&&(v=1);break;case 42:case 47:if(!(0<S+A+k))switch(_){case 0:switch(2*p+3*l.charCodeAt(I+1)){case 235:_=47;break;case 220:j=I,_=42}break;case 42:47===p&&42===M&&j+2!==I&&(33===l.charCodeAt(j+2)&&(V+=l.substring(j,I+1)),m="",_=0)}}0===_&&(H+=m)}O=M,M=p,I++}if(0<(j=V.length)){if(B=i,0<z&&(void 0!==(b=s(2,V,B,t,C,E,j,u,f,u))&&0===(V=b).length))return W+V+G;if(V=B.join(",")+"{"+V+"}",0!==T*P){switch(2!==T||a(V,2)||(P=0),P){case 111:V=V.replace(w,":-moz-$1")+V;break;case 112:V=V.replace(y,"::-webkit-input-$1")+V.replace(y,"::-moz-$1")+V.replace(y,":-ms-input-$1")+V}P=0}}return W+V+G}function n(t,e,n){var r=e.trim().split(v);e=r;var a=r.length,o=t.length;switch(o){case 0:case 1:var s=0;for(t=0===o?"":t[0]+" ";s<a;++s)e[s]=i(t,e[s],n).trim();break;default:var l=s=0;for(e=[];s<a;++s)for(var u=0;u<o;++u)e[l++]=i(t[u]+" ",r[s],n).trim()}return e}function i(t,e,n){var i=e.charCodeAt(0);switch(33>i&&(i=(e=e.trim()).charCodeAt(0)),i){case 38:return e.replace(m,"$1"+t.trim());case 58:return t.trim()+e.replace(m,"$1"+t.trim());default:if(0<1*n&&0<e.indexOf("\f"))return e.replace(m,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function r(t,e,n,i){var o=t+";",s=2*e+3*n+4*i;if(944===s){t=o.indexOf(":",9)+1;var l=o.substring(t,o.length-1).trim();return l=o.substring(0,t).trim()+l+";",1===T||2===T&&a(l,1)?"-webkit-"+l+l:l}if(0===T||2===T&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(M,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return d.test(o)?o.replace(f,":-webkit-")+o.replace(f,":-moz-")+o:o;case 1e3:switch(e=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(e)){case 226:l=o.replace(b,"tb");break;case 232:l=o.replace(b,"tb-rl");break;case 220:l=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(e=(o=t).length-10,s=(l=(33===o.charCodeAt(e)?o.substring(0,e):o).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(t))return 115===(l=t.substring(t.indexOf(":")+1)).charCodeAt(0)?r(t.replace("stretch","fill-available"),e,n,i).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+i&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(t,e){var n=t.indexOf(1===e?":":"{"),i=t.substring(0,3!==e?n:10);return n=t.substring(n+1,t.length-1),R(2!==e?i:i.replace(k,"$1"),n,e)}function o(t,e){var n=r(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(A," or ($1)").substring(4):"("+e+")"}function s(t,e,n,i,r,a,o,s,l,c){for(var h,f=0,d=e;f<z;++f)switch(h=O[f].call(u,t,d,n,i,r,a,o,s,l,c)){case void 0:case!1:case!0:case null:break;default:d=h}if(d!==e)return d}function l(t){return void 0!==(t=t.prefix)&&(R=null,t?"function"!==typeof t?T=1:(T=2,R=t):T=0),l}function u(t,n){var i=t;if(33>i.charCodeAt(0)&&(i=i.trim()),i=[i],0<z){var r=s(-1,n,i,i,C,E,0,0,0,0);void 0!==r&&"string"===typeof r&&(n=r)}var a=e(L,i,n,0,0);return 0<z&&(void 0!==(r=s(-2,a,i,i,C,E,a.length,0,0,0))&&(a=r)),"",P=0,E=C=1,a}var c=/^\0+/g,h=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,w=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,A=/([\s\S]*?);/g,_=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,M=/([^-])(image-set\()/,E=1,C=1,P=0,T=1,L=[],O=[],z=0,R=null,D=0;return u.use=function t(e){switch(e){case void 0:case null:z=O.length=0;break;default:if("function"===typeof e)O[z++]=e;else if("object"===typeof e)for(var n=0,i=e.length;n<i;++n)t(e[n]);else D=0|!!e}return t},u.set=l,void 0!==t&&l(t),u},iD={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function rD(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}var aD=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,oD=rD((function(t){return aD.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91})),sD=n(2110),lD=n.n(sD);function uD(){return(uD=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var cD=function(t,e){for(var n=[t[0]],i=0,r=e.length;i<r;i+=1)n.push(e[i],t[i+1]);return n},hD=function(t){return null!==t&&"object"==typeof t&&"[object Object]"===(t.toString?t.toString():Object.prototype.toString.call(t))&&!(0,$R.typeOf)(t)},fD=Object.freeze([]),dD=Object.freeze({});function pD(t){return"function"==typeof t}function vD(t){return t.displayName||t.name||"Component"}function mD(t){return t&&"string"==typeof t.styledComponentId}var gD="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",yD="undefined"!=typeof window&&"HTMLElement"in window,wD=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&(void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)));function bD(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var xD=function(){function t(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=t.prototype;return e.indexOfGroup=function(t){for(var e=0,n=0;n<t;n++)e+=this.groupSizes[n];return e},e.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,r=i;t>=r;)(r<<=1)<0&&bD(16,""+t);this.groupSizes=new Uint32Array(r),this.groupSizes.set(n),this.length=r;for(var a=i;a<r;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(t+1),s=0,l=e.length;s<l;s++)this.tag.insertRule(o,e[s])&&(this.groupSizes[t]++,o++)},e.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],n=this.indexOfGroup(t),i=n+e;this.groupSizes[t]=0;for(var r=n;r<i;r++)this.tag.deleteRule(n)}},e.getGroup=function(t){var e="";if(t>=this.length||0===this.groupSizes[t])return e;for(var n=this.groupSizes[t],i=this.indexOfGroup(t),r=i+n,a=i;a<r;a++)e+=this.tag.getRule(a)+"/*!sc*/\n";return e},t}(),AD=new Map,_D=new Map,kD=1,SD=function(t){if(AD.has(t))return AD.get(t);for(;_D.has(kD);)kD++;var e=kD++;return AD.set(t,e),_D.set(e,t),e},MD=function(t){return _D.get(t)},ED=function(t,e){e>=kD&&(kD=e+1),AD.set(t,e),_D.set(e,t)},CD="style["+gD+'][data-styled-version="5.3.11"]',PD=new RegExp("^"+gD+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),TD=function(t,e,n){for(var i,r=n.split(","),a=0,o=r.length;a<o;a++)(i=r[a])&&t.registerName(e,i)},LD=function(t,e){for(var n=(e.textContent||"").split("/*!sc*/\n"),i=[],r=0,a=n.length;r<a;r++){var o=n[r].trim();if(o){var s=o.match(PD);if(s){var l=0|parseInt(s[1],10),u=s[2];0!==l&&(ED(u,l),TD(t,u,s[3]),t.getTag().insertRules(l,i)),i.length=0}else i.push(o)}}},OD=function(){return n.nc},zD=function(t){var e=document.head,n=t||e,i=document.createElement("style"),r=function(t){for(var e=t.childNodes,n=e.length;n>=0;n--){var i=e[n];if(i&&1===i.nodeType&&i.hasAttribute(gD))return i}}(n),a=void 0!==r?r.nextSibling:null;i.setAttribute(gD,"active"),i.setAttribute("data-styled-version","5.3.11");var o=OD();return o&&i.setAttribute("nonce",o),n.insertBefore(i,a),i},RD=function(){function t(t){var e=this.element=zD(t);e.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var e=document.styleSheets,n=0,i=e.length;n<i;n++){var r=e[n];if(r.ownerNode===t)return r}bD(17)}(e),this.length=0}var e=t.prototype;return e.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch(t){return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var e=this.sheet.cssRules[t];return void 0!==e&&"string"==typeof e.cssText?e.cssText:""},t}(),DD=function(){function t(t){var e=this.element=zD(t);this.nodes=e.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(t,e){if(t<=this.length&&t>=0){var n=document.createTextNode(e),i=this.nodes[t];return this.element.insertBefore(n,i||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},t}(),ID=function(){function t(t){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},t}(),BD=yD,ND={isServer:!yD,useCSSOMInjection:!wD},jD=function(){function t(t,e,n){void 0===t&&(t=dD),void 0===e&&(e={}),this.options=uD({},ND,{},t),this.gs=e,this.names=new Map(n),this.server=!!t.isServer,!this.server&&yD&&BD&&(BD=!1,function(t){for(var e=document.querySelectorAll(CD),n=0,i=e.length;n<i;n++){var r=e[n];r&&"active"!==r.getAttribute(gD)&&(LD(t,r),r.parentNode&&r.parentNode.removeChild(r))}}(this))}t.registerId=function(t){return SD(t)};var e=t.prototype;return e.reconstructWithOptions=function(e,n){return void 0===n&&(n=!0),new t(uD({},this.options,{},e),this.gs,n&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(n=(e=this.options).isServer,i=e.useCSSOMInjection,r=e.target,t=n?new ID(r):i?new RD(r):new DD(r),new xD(t)));var t,e,n,i,r},e.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},e.registerName=function(t,e){if(SD(t),this.names.has(t))this.names.get(t).add(e);else{var n=new Set;n.add(e),this.names.set(t,n)}},e.insertRules=function(t,e,n){this.registerName(t,e),this.getTag().insertRules(SD(t),n)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(SD(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var e=t.getTag(),n=e.length,i="",r=0;r<n;r++){var a=MD(r);if(void 0!==a){var o=t.names.get(a),s=e.getGroup(r);if(o&&s&&o.size){var l=gD+".g"+r+'[id="'+a+'"]',u="";void 0!==o&&o.forEach((function(t){t.length>0&&(u+=t+",")})),i+=""+s+l+'{content:"'+u+'"}/*!sc*/\n'}}}return i}(this)},t}(),FD=/(a)(d)/gi,UD=function(t){return String.fromCharCode(t+(t>25?39:97))};function HD(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=UD(e%52)+n;return(UD(e%52)+n).replace(FD,"$1-$2")}var VD=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},GD=function(t){return VD(5381,t)};function WD(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(pD(n)&&!mD(n))return!1}return!0}var QD=GD("5.3.11"),XD=function(){function t(t,e,n){this.rules=t,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&WD(t),this.componentId=e,this.baseHash=VD(QD,e),this.baseStyle=n,jD.registerId(e)}return t.prototype.generateAndInjectStyles=function(t,e,n){var i=this.componentId,r=[];if(this.baseStyle&&r.push(this.baseStyle.generateAndInjectStyles(t,e,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&e.hasNameForId(i,this.staticRulesId))r.push(this.staticRulesId);else{var a=hI(this.rules,t,e,n).join(""),o=HD(VD(this.baseHash,a)>>>0);if(!e.hasNameForId(i,o)){var s=n(a,"."+o,void 0,i);e.insertRules(i,o,s)}r.push(o),this.staticRulesId=o}else{for(var l=this.rules.length,u=VD(this.baseHash,n.hash),c="",h=0;h<l;h++){var f=this.rules[h];if("string"==typeof f)c+=f;else if(f){var d=hI(f,t,e,n),p=Array.isArray(d)?d.join(""):d;u=VD(u,p+h),c+=p}}if(c){var v=HD(u>>>0);if(!e.hasNameForId(i,v)){var m=n(c,"."+v,void 0,i);e.insertRules(i,v,m)}r.push(v)}}return r.join(" ")},t}(),YD=/^\s*\/\/.*$/gm,JD=[":","[",".","#"];function ZD(t){var e,n,i,r,a=void 0===t?dD:t,o=a.options,s=void 0===o?dD:o,l=a.plugins,u=void 0===l?fD:l,c=new nD(s),h=[],f=function(t){function e(e){if(e)try{t(e+"}")}catch(t){}}return function(n,i,r,a,o,s,l,u,c,h){switch(n){case 1:if(0===c&&64===i.charCodeAt(0))return t(i+";"),"";break;case 2:if(0===u)return i+"/*|*/";break;case 3:switch(u){case 102:case 112:return t(r[0]+i),"";default:return i+(0===h?"/*|*/":"")}case-2:i.split("/*|*/}").forEach(e)}}}((function(t){h.push(t)})),d=function(t,i,a){return 0===i&&-1!==JD.indexOf(a[n.length])||a.match(r)?t:"."+e};function p(t,a,o,s){void 0===s&&(s="&");var l=t.replace(YD,""),u=a&&o?o+" "+a+" { "+l+" }":l;return e=s,n=a,i=new RegExp("\\"+n+"\\b","g"),r=new RegExp("(\\"+n+"\\b){2,}"),c(o||!a?"":a,u)}return c.use([].concat(u,[function(t,e,r){2===t&&r.length&&r[0].lastIndexOf(n)>0&&(r[0]=r[0].replace(i,d))},f,function(t){if(-2===t){var e=h;return h=[],e}}])),p.hash=u.length?u.reduce((function(t,e){return e.name||bD(15),VD(t,e.name)}),5381).toString():"",p}var qD=e.createContext(),KD=(qD.Consumer,e.createContext()),$D=(KD.Consumer,new jD),tI=ZD();function eI(){return(0,e.useContext)(qD)||$D}function nI(){return(0,e.useContext)(KD)||tI}function iI(t){var n=(0,e.useState)(t.stylisPlugins),i=n[0],r=n[1],a=eI(),o=(0,e.useMemo)((function(){var e=a;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),s=(0,e.useMemo)((function(){return ZD({options:{prefix:!t.disableVendorPrefixes},plugins:i})}),[t.disableVendorPrefixes,i]);return(0,e.useEffect)((function(){eD()(i,t.stylisPlugins)||r(t.stylisPlugins)}),[t.stylisPlugins]),e.createElement(qD.Provider,{value:o},e.createElement(KD.Provider,{value:s},t.children))}var rI=function(){function t(t,e){var n=this;this.inject=function(t,e){void 0===e&&(e=tI);var i=n.name+e.hash;t.hasNameForId(n.id,i)||t.insertRules(n.id,i,e(n.rules,i,"@keyframes"))},this.toString=function(){return bD(12,String(n.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=e}return t.prototype.getName=function(t){return void 0===t&&(t=tI),this.name+t.hash},t}(),aI=/([A-Z])/,oI=/([A-Z])/g,sI=/^ms-/,lI=function(t){return"-"+t.toLowerCase()};function uI(t){return aI.test(t)?t.replace(oI,lI).replace(sI,"-ms-"):t}var cI=function(t){return null==t||!1===t||""===t};function hI(t,e,n,i){if(Array.isArray(t)){for(var r,a=[],o=0,s=t.length;o<s;o+=1)""!==(r=hI(t[o],e,n,i))&&(Array.isArray(r)?a.push.apply(a,r):a.push(r));return a}return cI(t)?"":mD(t)?"."+t.styledComponentId:pD(t)?"function"!=typeof(l=t)||l.prototype&&l.prototype.isReactComponent||!e?t:hI(t(e),e,n,i):t instanceof rI?n?(t.inject(n,i),t.getName(i)):t:hD(t)?function t(e,n){var i,r,a=[];for(var o in e)e.hasOwnProperty(o)&&!cI(e[o])&&(Array.isArray(e[o])&&e[o].isCss||pD(e[o])?a.push(uI(o)+":",e[o],";"):hD(e[o])?a.push.apply(a,t(e[o],o)):a.push(uI(o)+": "+(i=o,(null==(r=e[o])||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||i in iD||i.startsWith("--")?String(r).trim():r+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(t):t.toString();var l}var fI=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function dI(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return pD(t)||hD(t)?fI(hI(cD(fD,[t].concat(n)))):0===n.length&&1===t.length&&"string"==typeof t[0]?t:fI(hI(cD(t,n)))}new Set;var pI=function(t,e,n){return void 0===n&&(n=dD),t.theme!==n.theme&&t.theme||e||n.theme},vI=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,mI=/(^-|-$)/g;function gI(t){return t.replace(vI,"-").replace(mI,"")}var yI=function(t){return HD(GD(t)>>>0)};function wI(t){return"string"==typeof t&&!0}var bI=function(t){return"function"==typeof t||"object"==typeof t&&null!==t&&!Array.isArray(t)},xI=function(t){return"__proto__"!==t&&"constructor"!==t&&"prototype"!==t};function AI(t,e,n){var i=t[n];bI(e)&&bI(i)?_I(i,e):t[n]=e}function _I(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=0,a=n;r<a.length;r++){var o=a[r];if(bI(o))for(var s in o)xI(s)&&AI(t,o[s],s)}return t}var kI=e.createContext();kI.Consumer;var SI={};function MI(t,n,i){var r=mD(t),a=!wI(t),o=n.attrs,s=void 0===o?fD:o,l=n.componentId,u=void 0===l?function(t,e){var n="string"!=typeof t?"sc":gI(t);SI[n]=(SI[n]||0)+1;var i=n+"-"+yI("5.3.11"+n+SI[n]);return e?e+"-"+i:i}(n.displayName,n.parentComponentId):l,c=n.displayName,h=void 0===c?function(t){return wI(t)?"styled."+t:"Styled("+vD(t)+")"}(t):c,f=n.displayName&&n.componentId?gI(n.displayName)+"-"+n.componentId:n.componentId||u,d=r&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,p=n.shouldForwardProp;r&&t.shouldForwardProp&&(p=n.shouldForwardProp?function(e,i,r){return t.shouldForwardProp(e,i,r)&&n.shouldForwardProp(e,i,r)}:t.shouldForwardProp);var v,m=new XD(i,f,r?t.componentStyle:void 0),g=m.isStatic&&0===s.length,y=function(t,n){return function(t,n,i,r){var a=t.attrs,o=t.componentStyle,s=t.defaultProps,l=t.foldedComponentIds,u=t.shouldForwardProp,c=t.styledComponentId,h=t.target,f=function(t,e,n){void 0===t&&(t=dD);var i=uD({},e,{theme:t}),r={};return n.forEach((function(t){var e,n,a,o=t;for(e in pD(o)&&(o=o(i)),o)i[e]=r[e]="className"===e?(n=r[e],a=o[e],n&&a?n+" "+a:n||a):o[e]})),[i,r]}(pI(n,(0,e.useContext)(kI),s)||dD,n,a),d=f[0],p=f[1],v=function(t,e,n,i){var r=eI(),a=nI();return e?t.generateAndInjectStyles(dD,r,a):t.generateAndInjectStyles(n,r,a)}(o,r,d),m=i,g=p.$as||n.$as||p.as||n.as||h,y=wI(g),w=p!==n?uD({},n,{},p):n,b={};for(var x in w)"$"!==x[0]&&"as"!==x&&("forwardedAs"===x?b.as=w[x]:(u?u(x,oD,g):!y||oD(x))&&(b[x]=w[x]));return n.style&&p.style!==n.style&&(b.style=uD({},n.style,{},p.style)),b.className=Array.prototype.concat(l,c,v!==c?v:null,n.className,p.className).filter(Boolean).join(" "),b.ref=m,(0,e.createElement)(g,b)}(v,t,n,g)};return y.displayName=h,(v=e.forwardRef(y)).attrs=d,v.componentStyle=m,v.displayName=h,v.shouldForwardProp=p,v.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):fD,v.styledComponentId=f,v.target=r?t.target:t,v.withComponent=function(t){var e=n.componentId,r=function(t,e){if(null==t)return{};var n,i,r={},a=Object.keys(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(n,["componentId"]),a=e&&e+"-"+(wI(t)?t:gI(vD(t)));return MI(t,uD({},r,{attrs:d,componentId:a}),i)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=r?_I({},t.defaultProps,e):e}}),Object.defineProperty(v,"toString",{value:function(){return"."+v.styledComponentId}}),a&&lD()(v,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var EI=function(t){return function t(e,n,i){if(void 0===i&&(i=dD),!(0,$R.isValidElementType)(n))return bD(1,String(n));var r=function(){return e(n,i,dI.apply(void 0,arguments))};return r.withConfig=function(r){return t(e,n,uD({},i,{},r))},r.attrs=function(r){return t(e,n,uD({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},r}(MI,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(t){EI[t]=EI(t)}));!function(){function t(t,e){this.rules=t,this.componentId=e,this.isStatic=WD(t),jD.registerId(this.componentId+1)}var e=t.prototype;e.createStyles=function(t,e,n,i){var r=i(hI(this.rules,e,n,i).join(""),""),a=this.componentId+t;n.insertRules(a,a,r)},e.removeStyles=function(t,e){e.clearRules(this.componentId+t)},e.renderStyles=function(t,e,n,i){t>2&&jD.registerId(this.componentId+t),this.removeStyles(t,n),this.createStyles(t,e,n,i)}}();function CI(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=dI.apply(void 0,[t].concat(n)).join(""),a=yI(r);return new rI(a,r)}!function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString();if(!e)return"";var n=OD();return"<style "+[n&&'nonce="'+n+'"',gD+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?bD(2):t._emitSheetCSS()},this.getStyleElement=function(){var n;if(t.sealed)return bD(2);var i=((n={})[gD]="",n["data-styled-version"]="5.3.11",n.dangerouslySetInnerHTML={__html:t.instance.toString()},n),r=OD();return r&&(i.nonce=r),[e.createElement("style",uD({},i,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new jD({isServer:!0}),this.sealed=!1}var n=t.prototype;n.collectStyles=function(t){return this.sealed?bD(2):e.createElement(iI,{sheet:this.instance},t)},n.interleaveWithNodeStream=function(t){return bD(3)}}();var PI,TI,LI=EI,OI=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},zI=242.776657104492,RI=CI(PI||(PI=OI(["\n  12.5% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n  43.75% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n  100% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n"],["\n  12.5% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n  43.75% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n  100% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n"])),.14*zI,zI,.11*zI,.35*zI,zI,.35*zI,.01*zI,zI,.99*zI),DI=(LI.path(TI||(TI=OI(["\n  stroke-dasharray: ","px, ",";\n  stroke-dashoffset: 0;\n  animation: "," ","s linear infinite;\n"],["\n  stroke-dasharray: ","px, ",";\n  stroke-dashoffset: 0;\n  animation: "," ","s linear infinite;\n"])),.01*zI,zI,RI,1.6),function(t,e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!==typeof n[t])return n[t];if(t&&t.indexOf(".")>0){for(var i=t.split("."),r=i.length,a=n[i[0]],o=1;null!=a&&o<r;)a=a[i[o]],o+=1;if("undefined"!==typeof a)return a}return e}});var II,BI,NI,jI=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},FI=CI(II||(II=jI(["\n to {\n    transform: rotate(360deg);\n  }\n"],["\n to {\n    transform: rotate(360deg);\n  }\n"])));LI.svg(BI||(BI=jI(["\n  animation: "," 0.75s steps(12, end) infinite;\n  animation-duration: ","s;\n"],["\n  animation: "," 0.75s steps(12, end) infinite;\n  animation-duration: ","s;\n"])),FI,DI("speed","0.75")),LI.polyline(NI||(NI=jI(["\n  stroke-width: ","px;\n  stroke-linecap: round;\n\n  &:nth-child(12n + 0) {\n    stroke-opacity: 0.08;\n  }\n\n  &:nth-child(12n + 1) {\n    stroke-opacity: 0.17;\n  }\n\n  &:nth-child(12n + 2) {\n    stroke-opacity: 0.25;\n  }\n\n  &:nth-child(12n + 3) {\n    stroke-opacity: 0.33;\n  }\n\n  &:nth-child(12n + 4) {\n    stroke-opacity: 0.42;\n  }\n\n  &:nth-child(12n + 5) {\n    stroke-opacity: 0.5;\n  }\n\n  &:nth-child(12n + 6) {\n    stroke-opacity: 0.58;\n  }\n\n  &:nth-child(12n + 7) {\n    stroke-opacity: 0.66;\n  }\n\n  &:nth-child(12n + 8) {\n    stroke-opacity: 0.75;\n  }\n\n  &:nth-child(12n + 9) {\n    stroke-opacity: 0.83;\n  }\n\n  &:nth-child(12n + 11) {\n    stroke-opacity: 0.92;\n  }\n"],["\n  stroke-width: ","px;\n  stroke-linecap: round;\n\n  &:nth-child(12n + 0) {\n    stroke-opacity: 0.08;\n  }\n\n  &:nth-child(12n + 1) {\n    stroke-opacity: 0.17;\n  }\n\n  &:nth-child(12n + 2) {\n    stroke-opacity: 0.25;\n  }\n\n  &:nth-child(12n + 3) {\n    stroke-opacity: 0.33;\n  }\n\n  &:nth-child(12n + 4) {\n    stroke-opacity: 0.42;\n  }\n\n  &:nth-child(12n + 5) {\n    stroke-opacity: 0.5;\n  }\n\n  &:nth-child(12n + 6) {\n    stroke-opacity: 0.58;\n  }\n\n  &:nth-child(12n + 7) {\n    stroke-opacity: 0.66;\n  }\n\n  &:nth-child(12n + 8) {\n    stroke-opacity: 0.75;\n  }\n\n  &:nth-child(12n + 9) {\n    stroke-opacity: 0.83;\n  }\n\n  &:nth-child(12n + 11) {\n    stroke-opacity: 0.92;\n  }\n"])),(function(t){return t.width}));var UI,HI,VI,GI=function(t){return{display:t?"flex":"none"}},WI=function(){return WI=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},WI.apply(this,arguments)},QI=function(t){var n=t.height,i=void 0===n?80:n,r=t.width,a=void 0===r?80:r,o=t.radius,s=void 0===o?9:o,l=t.color,u=void 0===l?"#4fa94d":l,c=t.ariaLabel,h=void 0===c?"three-dots-loading":c,f=t.wrapperStyle,d=t.wrapperClass,p=t.visible,v=void 0===p||p;return e.createElement("div",WI({style:WI(WI({},GI(v)),f),className:d,"data-testid":"three-dots-loading","aria-label":h},KR),e.createElement("svg",{width:a,height:i,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:u,"data-testid":"three-dots-svg"},e.createElement("circle",{cx:"15",cy:"15",r:Number(s)+6},e.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),e.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),e.createElement("circle",{cx:"60",cy:"15",r:s,attributeName:"fill-opacity",from:"1",to:"0.3"},e.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),e.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),e.createElement("circle",{cx:"105",cy:"15",r:Number(s)+6},e.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),e.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}))))},XI=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},YI=CI(UI||(UI=XI(["\n to {\n    stroke-dashoffset: 136;\n  }\n"],["\n to {\n    stroke-dashoffset: 136;\n  }\n"])));LI.polygon(HI||(HI=XI(["\n  stroke-dasharray: 17;\n  animation: "," 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;\n"],["\n  stroke-dasharray: 17;\n  animation: "," 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;\n"])),YI),LI.svg(VI||(VI=XI(["\n  transform-origin: 50% 65%;\n"],["\n  transform-origin: 50% 65%;\n"])));var JI=function(t){var i=t.dispatch,r=t.gameState,a=l((0,e.useState)(!0),2),o=a[0],s=a[1],u=l((0,e.useState)([]),2),c=u[0],h=u[1],f=r.includeBaseGame||r.includeMorrowind||r.includeSummerset;return(0,e.useEffect)((function(){Hn.get("https://localhost:7078/api/guessr/expansions").then((function(t){h(t.data),s(!1)})).catch((function(t){}))}),[]),(0,Zt.jsx)(Zt.Fragment,{children:(0,Zt.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen gap-20",style:{fontFamily:"Planewalker"},children:[(0,Zt.jsx)("div",{className:"absolute top-0 w-full h-screen -z-20",style:{backgroundImage:"url(".concat(n(1965)),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",filter:"grayscale(100%)"}}),(0,Zt.jsx)("div",{className:"absolute top-0 w-full h-screen -z-10 bg-yellow-950/80 bg-"}),(0,Zt.jsxs)("div",{className:"grid justify-center w-full gap-5 sm:flex sm:h-1/5",children:[o&&(0,Zt.jsx)(QI,{color:"rgb(252, 182, 24)",ariaLabel:"three-dots-loading"}),!o&&c.map((function(t){return(0,Zt.jsx)(qR,{expansion:t,gameState:r,dispatch:i},t.expansionId)}))]}),(0,Zt.jsx)("div",{className:"relative flex justify-center w-1/3",children:(0,Zt.jsxs)("div",{className:"relative flex justify-center w-full",children:[!f&&(0,Zt.jsx)("span",{className:"absolute text-red-400 -top-8 whitespace-nowrap",children:"Please select an expansion"}),(0,Zt.jsx)("button",{onClick:function(){return i({type:"startPlaying"})},type:"button",className:"text-gray-900 bg-gradient-to-r from-yellow-500 to-yellow-600 hover:bg-gradient-to-b focus:ring-4 focus:outline-none focus:ring-yellow-400 font-medium rounded-3xl text-md px-5 py-2.5 text-center disabled:from-slate-500 disabled:to-slate-600 disabled:bg-gradient-to-r ",style:{transition:"500ms ease"},disabled:!f,children:"Play"})]})})]})})},ZI=Symbol.for("immer-nothing"),qI=Symbol.for("immer-draftable"),KI=Symbol.for("immer-state");function $I(t){throw new Error("[Immer] minified error nr: ".concat(t,". Full error at: https://bit.ly/3cXEKWf"))}var tB=Object.getPrototypeOf;function eB(t){return!!t&&!!t[KI]}function nB(t){var e;return!!t&&(rB(t)||Array.isArray(t)||!!t[qI]||!(null===(e=t.constructor)||void 0===e||!e[qI])||uB(t)||cB(t))}var iB=Object.prototype.constructor.toString();function rB(t){if(!t||"object"!==typeof t)return!1;var e=tB(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===iB}function aB(t,e){0===oB(t)?Object.entries(t).forEach((function(n){var i=l(n,2),r=i[0],a=i[1];e(r,a,t)})):t.forEach((function(n,i){return e(i,n,t)}))}function oB(t){var e=t[KI];return e?e.type_:Array.isArray(t)?1:uB(t)?2:cB(t)?3:0}function sB(t,e){return 2===oB(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function lB(t,e,n){var i=oB(t);2===i?t.set(e,n):3===i?t.add(n):t[e]=n}function uB(t){return t instanceof Map}function cB(t){return t instanceof Set}function hB(t){return t.copy_||t.base_}function fB(t,e){if(uB(t))return new Map(t);if(cB(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&rB(t)){if(!tB(t)){var n=Object.create(null);return Object.assign(n,t)}return AT({},t)}var i=Object.getOwnPropertyDescriptors(t);delete i[KI];for(var r=Reflect.ownKeys(i),a=0;a<r.length;a++){var o=r[a],s=i[o];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(i[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[o]})}return Object.create(tB(t),i)}function dB(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return vB(t)||eB(t)||!nB(t)||(oB(t)>1&&(t.set=t.add=t.clear=t.delete=pB),Object.freeze(t),e&&aB(t,(function(t,e){return dB(e,!0)}))),t}function pB(){$I(2)}function vB(t){return Object.isFrozen(t)}var mB,gB={};function yB(t){var e=gB[t];return e||$I(0),e}function wB(){return mB}function bB(t,e){e&&(yB("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function xB(t){AB(t),t.drafts_.forEach(kB),t.drafts_=null}function AB(t){t===mB&&(mB=t.parent_)}function _B(t){return mB={drafts_:[],parent_:mB,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function kB(t){var e=t[KI];0===e.type_||1===e.type_?e.revoke_():e.revoked_=!0}function SB(t,e){e.unfinalizedDrafts_=e.drafts_.length;var n=e.drafts_[0];return void 0!==t&&t!==n?(n[KI].modified_&&(xB(e),$I(4)),nB(t)&&(t=MB(e,t),e.parent_||CB(e,t)),e.patches_&&yB("Patches").generateReplacementPatches_(n[KI].base_,t,e.patches_,e.inversePatches_)):t=MB(e,n,[]),xB(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==ZI?t:void 0}function MB(t,e,n){if(vB(e))return e;var i=e[KI];if(!i)return aB(e,(function(r,a){return EB(t,i,e,r,a,n)})),e;if(i.scope_!==t)return e;if(!i.modified_)return CB(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;var r=i.copy_,a=r,o=!1;3===i.type_&&(a=new Set(r),r.clear(),o=!0),aB(a,(function(e,a){return EB(t,i,r,e,a,n,o)})),CB(t,r,!1),n&&t.patches_&&yB("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function EB(t,e,n,i,r,a,o){if(eB(r)){var s=MB(t,r,a&&e&&3!==e.type_&&!sB(e.assigned_,i)?a.concat(i):void 0);if(lB(n,i,s),!eB(s))return;t.canAutoFreeze_=!1}else o&&n.add(r);if(nB(r)&&!vB(r)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;MB(t,r),e&&e.scope_.parent_||CB(t,r)}}function CB(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&dB(e,n)}var PB={get:function(t,e){if(e===KI)return t;var n=hB(t);if(!sB(n,e))return function(t,e,n){var i,r=OB(e,n);return r?"value"in r?r.value:null===(i=r.get)||void 0===i?void 0:i.call(t.draft_):void 0}(t,n,e);var i=n[e];return t.finalized_||!nB(i)?i:i===LB(t.base_,e)?(RB(t),t.copy_[e]=IB(i,t)):i},has:function(t,e){return e in hB(t)},ownKeys:function(t){return Reflect.ownKeys(hB(t))},set:function(t,e,n){var i=OB(hB(t),e);if(null!==i&&void 0!==i&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){var r=LB(hB(t),e),a=null===r||void 0===r?void 0:r[KI];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}(n,r)&&(void 0!==n||sB(t.base_,e)))return!0;RB(t),zB(t)}return t.copy_[e]===n&&(void 0!==n||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty:function(t,e){return void 0!==LB(t.base_,e)||e in t.base_?(t.assigned_[e]=!1,RB(t),zB(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor:function(t,e){var n=hB(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i?{writable:!0,configurable:1!==t.type_||"length"!==e,enumerable:i.enumerable,value:n[e]}:i},defineProperty:function(){$I(11)},getPrototypeOf:function(t){return tB(t.base_)},setPrototypeOf:function(){$I(12)}},TB={};function LB(t,e){var n=t[KI];return(n?hB(n):t)[e]}function OB(t,e){if(e in t)for(var n=tB(t);n;){var i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=tB(n)}}function zB(t){t.modified_||(t.modified_=!0,t.parent_&&zB(t.parent_))}function RB(t){t.copy_||(t.copy_=fB(t.base_,t.scope_.immer_.useStrictShallowCopy_))}aB(PB,(function(t,e){TB[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),TB.deleteProperty=function(t,e){return TB.set.call(this,t,e,void 0)},TB.set=function(t,e,n){return PB.set.call(this,t[0],e,n,t[0])};var DB=function(){function t(e){var n=this;h(this,t),this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=function(t,e,i){if("function"===typeof t&&"function"!==typeof e){var r=e;e=t;var a=n;return function(){for(var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return a.produce(n,(function(n){var i;return(i=e).call.apply(i,[t,n].concat(o))}))}}var o;if("function"!==typeof e&&$I(6),void 0!==i&&"function"!==typeof i&&$I(7),nB(t)){var s=_B(n),l=IB(t,void 0),u=!0;try{o=e(l),u=!1}finally{u?xB(s):AB(s)}return bB(s,i),SB(o,s)}if(!t||"object"!==typeof t){if(void 0===(o=e(t))&&(o=t),o===ZI&&(o=void 0),n.autoFreeze_&&dB(o,!0),i){var c=[],h=[];yB("Patches").generateReplacementPatches_(t,o,c,h),i(c,h)}return o}$I(1)},this.produceWithPatches=function(t,e){if("function"===typeof t)return function(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return n.produceWithPatches(e,(function(e){return t.apply(void 0,[e].concat(r))}))};var i,r,a=n.produce(t,e,(function(t,e){i=t,r=e}));return[a,i,r]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}return v(t,[{key:"createDraft",value:function(t){nB(t)||$I(8),eB(t)&&(t=function(t){eB(t)||$I(10);return BB(t)}(t));var e=_B(this),n=IB(t,void 0);return n[KI].isManual_=!0,AB(e),n}},{key:"finishDraft",value:function(t,e){var n=t&&t[KI];n&&n.isManual_||$I(9);var i=n.scope_;return bB(i,e),SB(void 0,i)}},{key:"setAutoFreeze",value:function(t){this.autoFreeze_=t}},{key:"setUseStrictShallowCopy",value:function(t){this.useStrictShallowCopy_=t}},{key:"applyPatches",value:function(t,e){var n;for(n=e.length-1;n>=0;n--){var i=e[n];if(0===i.path.length&&"replace"===i.op){t=i.value;break}}n>-1&&(e=e.slice(n+1));var r=yB("Patches").applyPatches_;return eB(t)?r(t,e):this.produce(t,(function(t){return r(t,e)}))}}]),t}();function IB(t,e){var n=uB(t)?yB("MapSet").proxyMap_(t,e):cB(t)?yB("MapSet").proxySet_(t,e):function(t,e){var n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:wB(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1},r=i,a=PB;n&&(r=[i],a=TB);var o=Proxy.revocable(r,a),s=o.revoke,l=o.proxy;return i.draft_=l,i.revoke_=s,l}(t,e);return(e?e.scope_:wB()).drafts_.push(n),n}function BB(t){if(!nB(t)||vB(t))return t;var e,n=t[KI];if(n){if(!n.modified_)return n.base_;n.finalized_=!0,e=fB(t,n.scope_.immer_.useStrictShallowCopy_)}else e=fB(t,!0);return aB(e,(function(t,n){lB(e,t,BB(n))})),n&&(n.finalized_=!1),e}var NB=new DB,jB=NB.produce;NB.produceWithPatches.bind(NB),NB.setAutoFreeze.bind(NB),NB.setUseStrictShallowCopy.bind(NB),NB.applyPatches.bind(NB),NB.createDraft.bind(NB),NB.finishDraft.bind(NB);var FB=function(t){var e=t.dispatch,i=t.gameState,r=t.setIsLoading;return(0,Zt.jsxs)("div",{className:"relative flex flex-col items-center justify-center w-full h-screen gap-24 text-center bg-indigo-950 p-50",children:[(0,Zt.jsx)("div",{className:"flex flex-wrap items-center justify-center gap-16 px-32 mx-32 -translate-y-40",children:i.locationImgs.map((function(t,e){return(0,Zt.jsxs)("div",{className:"relative flex items-center justify-center scale-down-center hover:scale-105",id:"result-".concat(e+1),children:[(0,Zt.jsx)("img",{src:n(4958)("./".concat(t.name,".webp")),alt:"",className:"shadow-lg rounded-2xl shadow-black/50 h-44"}),(0,Zt.jsx)(YR,{delay:300*(e+1),num:i.locationPoints[e],className:"absolute text-4xl font-bold text-yellow-500 pointer-events-none text-stroke-points"})]},t.locationId)}))}),(0,Zt.jsx)("div",{className:"absolute flex items-center justify-center w-full translate-y-48",children:(0,Zt.jsxs)("div",{className:"relative",children:[(0,Zt.jsx)("span",{className:"text-5xl text-stone-200 text-stroke-points",children:"Your Score"}),(0,Zt.jsx)("hr",{className:"mb-2"}),(0,Zt.jsx)(YR,{num:i.points,delay:2750,className:"text-3xl"}),500===i.points&&(0,Zt.jsx)("span",{className:"absolute top-0 text-yellow-500 -right-14 rotate-12",id:"perfect-score",children:"Perfect Score!"}),(0,Zt.jsx)("button",{onClick:function(){e({type:"newGame"}),r(!0)},className:"px-5 py-3 mt-10 text-xl shadow-lg bg-gradient-to-r from-yellow-600 to-yellow-700 text-stone-200 rounded-3xl shadow-black/50 hover:bg-gradient-to-r hover:from-yellow-600 hover:to-yellow-600",children:"Play Again"})]})})]})},UB=function(t,e){switch(e.type){case"includeBaseGame":return void(t.includeBaseGame=!0);case"excludeBaseGame":return void(t.includeBaseGame=!1);case"startPlaying":return void(t.isPlaying=!0);case"getLocations":return t.locations=e.value,void(t.locationImgs=e.value);case"addLocationZoneNames":return void function(e){console.log("trying");var i,r=[],a=S(t.locations);try{for(a.s();!(i=a.n()).done;){var o,s=i.value,l=S(e);try{for(l.s();!(o=l.n()).done;){var u=o.value;s.zoneId===u.zoneId&&(s=AT(AT({},s),{},{zone:{shortName:u.shortName}}),r.push(s))}}catch(c){l.e(c)}finally{l.f()}console.log(r)}}catch(c){a.e(c)}finally{a.f()}t.locations=r,t.currentLocation=n()}(e.value);case"submitGuess":return void(t.guess=e.value);case"setPoints":return t.points+=e.value,void t.locationPoints.push(e.value);case"nextLocation":return t.guess=null,void(t.currentLocation=n());case"gameOver":return void(t.results=!0);case"newGame":return t.isPlaying=!1,t.isPlaying=!0,t.points=0,t.currentLocation=null,t.guess=null,void(t.results=!1)}function n(){var e=t.locations[0];return t.locations=t.locations.filter((function(t){return t.locationId!=e.locationId})),e}},HB={points:0,locations:[],locationImgs:[],locationPoints:[],currentLocation:null,isPlaying:!1,guess:null,includeBaseGame:!1,includeDominion:!1,includeCovenant:!1,includePact:!1,includeMorrowind:!1,includeSummerset:!1,results:!1},VB=function(t){var n=l(function(t,n,i){var r=(0,e.useMemo)((function(){return jB(t)}),[t]);return(0,e.useReducer)(r,n,i)}(UB,HB),2),i=n[0],r=n[1],a=l((0,e.useState)(!0),2),o=a[0],s=a[1];return i.results?(0,Zt.jsx)(FB,{dispatch:r,gameState:i,setIsLoading:s}):i.isPlaying?(0,Zt.jsx)(JR,{dispatch:r,gameState:i,isLoading:o,setIsLoading:s}):(0,Zt.jsx)(JI,{dispatch:r,gameState:i})},GB=function(t){return(0,Zt.jsxs)("div",{className:"relative flex flex-col items-center justify-center w-full h-full bg-gradient-to-b from-slate-900 to-slate-800",children:[(0,Zt.jsx)("div",{className:"absolute top-0 left-0 h-full w-full grayscale-[0.25] xl:block hidden",children:(0,Zt.jsx)("video",{src:n(7541),autoPlay:!0,muted:!0,loop:!0,className:"object-cover w-full h-full"})}),(0,Zt.jsx)("div",{className:"absolute w-full h-full"}),(0,Zt.jsx)("div",{className:"relative flex flex-col items-center w-11/12 h-full gap-2 pt-8 mt-32 border-2 shadow-md xl:pt-0 xl:w-auto xl:h-auto -translate-y-14 xl:-translate-y-32 xl:flex-row rounded-xl xl:overflow-hidden border-x-yellow-600 border-t-yellow-700 border-b-yellow-500 bg-gradient-to-br from-slate-900 to-slate-800 shadow-black/90",children:(0,Zt.jsx)("div",{className:"p-8 xl:max-w-2xl 4k:max-w-4xl",children:(0,Zt.jsxs)("span",{className:"text-lg text-slate-300 4k:text-2xl font-myriad",children:["Hi! I'm ",(0,Zt.jsx)("span",{className:"text-yellow-400",children:"Chase Matherly"})," (aka acetheraven), a full stack web developer from Los Angeles. I love all things fantasy, including Dungeons & Dragons 5e, Lord of the Rings, and of course, Elder Scrolls Online. ",(0,Zt.jsxs)("span",{className:"inline-block px-2 py-1 mt-2 border-2 rounded-lg bg-gradient-to-br from-slate-900 to-slate-700 border-t-yellow-600 border-b-yellow-700 border-l-yellow-600 border-r-yellow-700",children:["If you enjoy NirnGuessr, consider supporting my ",(0,Zt.jsx)("a",{href:"https://ko-fi.com/acetheraven",className:"text-yellow-500",target:"_blank",rel:"noreferrer noopener",children:"Ko-fi"})," to help keep the servers running!"]}),(0,Zt.jsxs)("div",{className:"flex items-center gap-3 mt-3",children:[(0,Zt.jsx)("a",{href:"https://discord.gg/eFq7q9386S",className:"inline-block p-2 duration-300 border-2 border-slate-400 rounded-2xl w-fit hover:scale-105",target:"_blank",rel:"noreferrer noopener",children:(0,Zt.jsx)("svg",{className:"w-6 h-6 ",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:(0,Zt.jsx)("path",{fill:"#8c9eff",d:"M40,12c0,0-4.585-3.588-10-4l-0.488,0.976C34.408,10.174,36.654,11.891,39,14c-4.045-2.065-8.039-4-15-4s-10.955,1.935-15,4c2.346-2.109,5.018-4.015,9.488-5.024L18,8c-5.681,0.537-10,4-10,4s-5.121,7.425-6,22c5.162,5.953,13,6,13,6l1.639-2.185C13.857,36.848,10.715,35.121,8,32c3.238,2.45,8.125,5,16,5s12.762-2.55,16-5c-2.715,3.121-5.857,4.848-8.639,5.815L33,40c0,0,7.838-0.047,13-6C45.121,19.425,40,12,40,12z M17.5,30c-1.933,0-3.5-1.791-3.5-4c0-2.209,1.567-4,3.5-4s3.5,1.791,3.5,4C21,28.209,19.433,30,17.5,30z M30.5,30c-1.933,0-3.5-1.791-3.5-4c0-2.209,1.567-4,3.5-4s3.5,1.791,3.5,4C34,28.209,32.433,30,30.5,30z"})})}),(0,Zt.jsx)("span",{className:"",children:"If you have any suggestions or find any bugs, let us know on our Discord server"})]}),(0,Zt.jsxs)("div",{className:"mt-5 text-sm 4k:text-xl text-slate-400 fr",children:["Heavily inspired by ",(0,Zt.jsx)("a",{href:"https://eorguessr.com/",className:"text-yellow-400",target:"_blank",rel:"noreferrer noopener",children:"Eorguessr"}),", developed by Pamplemouss. Consider supporting his ",(0,Zt.jsx)("a",{href:"https://ko-fi.com/pamplemouss",className:"text-yellow-400",target:"_blank",rel:"noreferrer noopener",children:"Ko-fi"}),"."]})]})})})]})},WB=function(t){return(0,Zt.jsxs)("div",{className:"w-full h-screen flex justify-center items-center",children:[(0,Zt.jsxs)("p",{className:"text-center font-bold text-4xl text-stroke-black -mt-24 h-8 flex items-center gap-4",children:["404 ",(0,Zt.jsx)("span",{style:{width:"2px",height:"100%",backgroundColor:"black",display:"inline-block",boxShadow:"1px 1px 1px rgba(235, 235, 235, 0.5)"}})," page not found"]}),(0,Zt.jsx)("div",{className:"h-screen w-full absolute top-0 -z-20",style:{backgroundImage:"url(".concat(n(1965)),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",filter:"grayscale(100%)"}}),(0,Zt.jsx)("div",{className:"h-screen w-full absolute top-0 -z-10 bg-yellow-950/80 bg-"})]})};var QB=function(){return(0,Zt.jsx)(Jt.ZP,{mediaQueries:{mobile:{minWidth:320,maxWidth:480},mobileLandscape:{minWidth:481,maxWidth:767},tablet:{minWidth:768,maxWidth:1024},desktop:{minWidth:1025,maxWidth:2500}},children:(0,Zt.jsx)(Bt,{children:(0,Zt.jsxs)(Dt,{element:(0,Zt.jsx)(Kt,{}),children:[(0,Zt.jsx)(Dt,{element:(0,Zt.jsx)(ZR,{}),path:"/"}),(0,Zt.jsx)(Dt,{element:(0,Zt.jsx)(VB,{}),path:"/play"}),(0,Zt.jsx)(Dt,{element:(0,Zt.jsx)(GB,{}),path:"/about"}),(0,Zt.jsx)(Dt,{element:(0,Zt.jsx)(WB,{}),path:"/*"})]})})})},XB=function(t){t&&t instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(e){var n=e.getCLS,i=e.getFID,r=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),i(t),r(t),a(t),o(t)}))};i.createRoot(document.getElementById("root")).render((0,Zt.jsx)(Vt,{children:(0,Zt.jsx)(QB,{})})),XB()}()}();
//# sourceMappingURL=main.e390b322.js.map